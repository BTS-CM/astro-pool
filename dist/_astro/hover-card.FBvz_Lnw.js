import{u as d,v as g,ad as se,a9 as ae,$ as ce,a as q,b as ie,_ as O,e as v,d as de,i as le,j as ue,s as fe,n as he,o as me,k as $e}from"./button.cJSehY-U.js";import{r as o}from"./index.ebYJtNMn.js";const xe=o.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:g("rounded-xl border bg-card text-card-foreground shadow",e),...t}));xe.displayName="Card";const ye=o.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:g("flex flex-col space-y-1.5 p-6",e),...t}));ye.displayName="CardHeader";const pe=o.forwardRef(({className:e,...t},n)=>d.jsx("h3",{ref:n,className:g("font-semibold leading-none tracking-tight",e),...t}));pe.displayName="CardTitle";const Ce=o.forwardRef(({className:e,...t},n)=>d.jsx("p",{ref:n,className:g("text-sm text-muted-foreground",e),...t}));Ce.displayName="CardDescription";const ve=o.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:g("p-6 pt-0",e),...t}));ve.displayName="CardContent";const Se=o.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:g("flex items-center p-6 pt-0",e),...t}));Se.displayName="CardFooter";const be=e=>{const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),t},ge=be,we=typeof performance<"u"?performance:Date,Te=()=>we.now();function Ee(e,t=30,n=!1){const s=ge(e),r=1e3/t,c=o.useRef(0),u=o.useRef(),m=()=>u.current&&clearTimeout(u.current),a=[t,n,s];function y(){c.current=0,m()}return o.useEffect(()=>y,a),o.useCallback(function(){const f=arguments,p=Te(),$=()=>{c.current=p,m(),s.current.apply(null,f)},x=c.current;if(n&&x===0)return $();if(p-x>r){if(x>0)return $();c.current=p}m(),u.current=setTimeout(()=>{$(),c.current=0},r)},a)}function Me(e,t,n){const s=o.useState(e);return[s[0],Ee(s[1],t,n)]}const Re=e=>{let t=0;for(const n of e)t=(t<<5)-t+n.charCodeAt(0),t&=t;return Math.abs(t)},De=e=>{const t=e.slice(1),[n,s,r]=[0,2,4].map(u=>parseInt(t.slice(u,u+2),16));return(n*299+s*587+r*114)/1e3>=128?"#000000":"#FFFFFF"};class b{constructor(t){this._seed=t,(this._seed<=0||this._seed===Number.MAX_VALUE)&&(this._seed=1)}nextDouble(){const t=Math.floor(this._seed/b.q),n=this._seed%b.q;return this._seed=b.a*n-b.r*t,this._seed<=0&&(this._seed+=b.m),Number(this._seed)/b.m}nextInt(t,n){const s=Math.round(n)-Math.round(t);return t+Math.round(s*this.nextDouble())}nextNumber(t,n){const s=n-t;return t+s*this.nextDouble()}nextBoolean(){return this.nextDouble()>=.5}nextChoice(t){if(t.length===0)return;const n=this.nextInt(0,t.length-1);return t[n]}nextUnit=(t,n)=>this.nextNumber(n?-t:0,t);static a=16807;static m=2147483647;static q=127773;static r=2836}const h=36,ke=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"],k=(e,t)=>({rightEye:e,leftEye:t??e}),F={normal:k(e=>d.jsx("rect",{x:e.x+e.eyeSpread,y:e.y,width:e.eyeSize,height:2,rx:1,fill:e.eyeColor})),happy:k(e=>d.jsx("path",{d:`M${e.x+e.eyeSpread-e.eyeSize},${e.y+e.eyeSize} Q${e.x+e.eyeSpread},${e.y} ${e.x+e.eyeSpread+e.eyeSize},${e.y+e.eyeSize}`,fill:"none",stroke:e.eyeColor,strokeWidth:1,strokeLinecap:"round"})),sleepy:k(e=>d.jsx("path",{d:`M${e.x+e.eyeSpread-e.eyeSize},${e.y} Q${e.x+e.eyeSpread},${e.y+e.eyeSize} ${e.x+e.eyeSpread+e.eyeSize},${e.y}`,fill:"none",stroke:e.eyeColor,strokeWidth:1,strokeLinecap:"round"})),mischief:k(e=>d.jsx("path",{d:`M${e.x+e.eyeSpread},${e.y} l${e.eyeSize},${e.eyeSize} l-${e.eyeSize},${e.eyeSize}`,fill:"none",stroke:e.eyeColor,strokeWidth:1,strokeLinecap:"round"}),e=>d.jsx("path",{d:`M${e.x+e.eyeSpread},${e.y} l-${e.eyeSize},${e.eyeSize} l${e.eyeSize},${e.eyeSize}`,fill:"none",stroke:e.eyeColor,strokeWidth:1,strokeLinecap:"round"}))},W={smile:e=>d.jsx("path",{d:`M13,${19+e.mouthSpread} a1,0.75 0 0,0 10,0`,fill:e.mouthColor}),open:e=>d.jsx("path",{d:`M15 ${19+e.mouthSpread}c2 1 4 1 6 0`,stroke:e.mouthColor,fill:"none",strokeLinecap:"round"}),surprise:e=>d.jsx("circle",{cx:20,cy:19+e.mouthSpread,r:e.mouthSize,fill:e.mouthColor}),unhappy:e=>d.jsx("path",{d:`M15 ${19+e.mouthSpread}c2 -1 4 -1 6 0`,stroke:e.mouthColor,fill:"none",strokeLinecap:"round"})},Oe=e=>{let t="#";for(let n=0;n<6;n++){const s=Math.floor(e.nextUnit(16,!1));t+=s.toString(16)}return t};function Pe(e,t=ke,n={}){let s=Re(e);const r=new b(s),c=r?Oe(r):t[0],u=r.nextUnit(10,!0),m=u<5?u+h/9:u,a=r.nextUnit(10,!0),y=a<5?a+h/9:a,f=n.eye??r?.nextChoice(Object.keys(F)),p=n.mouth??r?.nextChoice(Object.keys(W));return{wrapperColor:c,faceColor:De(c),backgroundColor:r.nextChoice(t)??t[1],wrapperTranslateX:m,wrapperTranslateY:y,wrapperRotate:r.nextUnit(360,!1),wrapperScale:1+r.nextUnit(h/12,!1)/10,eyeSpread:r.nextUnit(5,!1)??0,eyeSize:1.5+(r.nextUnit(1,!1)??0),mouthSpread:r.nextUnit(5,!1)??0,mouthSize:1.5+(r.nextUnit(1,!0)??0),eyeType:f,mouthType:p}}const _e=({name:e,extra:t,colors:n,size:s,title:r,square:c,expression:u,...m})=>{const a=o.useMemo(()=>Pe(e,n,u),[e,n,u]),y=o.useId(),[f,p]=Me({mouseX:null,mouseY:null},30),$=S=>{p({mouseX:S.clientX,mouseY:S.clientY})};o.useEffect(()=>(window.addEventListener("mousemove",$),()=>{window.removeEventListener("mousemove",$)}),[]);const[x,i]=o.useState(),[l,M]=o.useState(0),[E,Z]=o.useState(0);o.useEffect(()=>{function S(){const N=document.querySelector(`#avatar${t}_${e.replace(".","")}`),{left:Y,top:te,width:ne,height:oe}=N.getBoundingClientRect(),B=Y+ne/2,K=te+oe/2;let C=Math.atan2(f.mouseY-K,f.mouseX-B)*180/Math.PI+90;C||(C=0),C<0&&(C=360+C),C===0&&(C=1),C=parseInt(C.toFixed(0));const re=Math.sqrt(Math.pow(f.mouseX-B,2)+Math.pow(f.mouseY-K,2));i(f.mouseX<=Y?"left":"right"),Z(re),M(C)}S()},[f]);const[I,w]=o.useState(1);o.useEffect(()=>{l?l>=0&&l<=15?w(15):l>20&&l<=95?w(l):l>95&&l<=180?w(95):l>180&&l<=275?w(275):l>275&&l<345?w(l):l>=345&&l<=360&&w(345):w(15)},[x,E,l]);const[_,H]=o.useState(!1),[G,L]=o.useState(a.mouthType),[X,R]=o.useState(a.eyeType);o.useEffect(()=>{const S=setInterval(()=>{if(_){R("sleepy"),L("surprise");return}R(a.eyeType!=="sleepy"?"sleepy":"normal"),setTimeout(()=>{R(a.eyeType)},Math.max(100,Math.random()*500))},Math.max(3e3,Math.random()*1e4));return()=>clearInterval(S)},[_]);const[D,ee]=o.useState();return o.useEffect(()=>{function S(){H(!0)}function N(){D&&clearTimeout(D),_&&(H(!1),R(a.eyeType),L(a.mouthType)),ee(setTimeout(S,3e4))}return f.mouseX&&f.mouseY&&N(),()=>{D&&clearTimeout(D)}},[f]),d.jsxs("svg",{viewBox:`0 0 ${h} ${h}`,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...m,children:[r&&d.jsx("title",{children:r}),d.jsx("mask",{id:y,maskUnits:"userSpaceOnUse",x:0,y:0,width:h,height:h,children:d.jsx("rect",{width:h,height:h,rx:c?void 0:h*2,fill:"#FFFFFF"})}),d.jsxs("g",{mask:`url(#${y})`,children:[d.jsx("rect",{width:h,height:h,fill:a.backgroundColor}),d.jsx("rect",{x:"0",y:"0",width:h,height:h,transform:`translate(${a.wrapperTranslateX} ${a.wrapperTranslateY}) rotate(${a.wrapperRotate} ${h/2} ${h/2}) scale(${a.wrapperScale})`,fill:a.wrapperColor,rx:h}),d.jsxs("g",{id:`avatar${t}_${e.replace(".","")}`,transform:`rotate(${x==="left"?I+65:I-65}, ${h/2} ${h/2})`,children:[F[X].leftEye({eyeSize:a.eyeSize,eyeSpread:Math.min(E/20,5)*(x==="left"?-1:1),eyeColor:a.faceColor,x:20,y:14}),F[X].rightEye({eyeSize:a.eyeSize,eyeSpread:Math.min(E/20,5)*(x==="left"?-1:1),eyeColor:a.faceColor,x:14,y:14}),W[G]({mouthSpread:Math.min(E/50,5),mouthSize:a.mouthSize,mouthColor:a.faceColor})]})]})]})};_e.displayName="Avatar";const Ne=o.forwardRef(({className:e,type:t,...n},s)=>d.jsx("input",{type:t,className:g("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Ne.displayName="Input";const je=ae({username:"",id:"",chain:"",referrer:""});function Qe(e,t,n,s){je.set({username:e,id:t,chain:s,referrer:n});try{Fe(e,t,n,s)}catch(r){console.log(r)}}const T=se("storedUsers:",{users:[],lastAccount:[]},{encode(e){return JSON.stringify(e)},decode(e){try{return JSON.parse(e)}catch(t){return console.log(t),e}}});function Fe(e,t,n,s){const r=T.get().users,c={username:e,id:t,referrer:n,chain:s};if(T.setKey("lastAccount",[c]),r.find(m=>m.id===t))return;const u=[...r,c];T.setKey("users",u)}function Ze(e){const n=T.get().users.filter(r=>r.id!==e);T.setKey("users",n);const s=T.get().lastAccount;s&&s.length&&s[0].id===e&&T.setKey("lastAccount",[])}let j;const V="HoverCard",[J,Ge]=ce(V,[q]),z=q(),[Ue,A]=J(V),ze=e=>{const{__scopeHoverCard:t,children:n,open:s,defaultOpen:r,onOpenChange:c,openDelay:u=700,closeDelay:m=300}=e,a=z(t),y=o.useRef(0),f=o.useRef(0),p=o.useRef(!1),$=o.useRef(!1),[x=!1,i]=fe({prop:s,defaultProp:r,onChange:c}),l=o.useCallback(()=>{clearTimeout(f.current),y.current=window.setTimeout(()=>i(!0),u)},[u,i]),M=o.useCallback(()=>{clearTimeout(y.current),!p.current&&!$.current&&(f.current=window.setTimeout(()=>i(!1),m))},[m,i]),E=o.useCallback(()=>i(!1),[i]);return o.useEffect(()=>()=>{clearTimeout(y.current),clearTimeout(f.current)},[]),o.createElement(Ue,{scope:t,open:x,onOpenChange:i,onOpen:l,onClose:M,onDismiss:E,hasSelectionRef:p,isPointerDownOnContentRef:$},o.createElement(he,a,n))},Ae="HoverCardTrigger",Ie=o.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,r=A(Ae,n),c=z(n);return o.createElement(me,O({asChild:!0},c),o.createElement($e.a,O({"data-state":r.open?"open":"closed"},s,{ref:t,onPointerEnter:v(e.onPointerEnter,P(r.onOpen)),onPointerLeave:v(e.onPointerLeave,P(r.onClose)),onFocus:v(e.onFocus,r.onOpen),onBlur:v(e.onBlur,r.onClose),onTouchStart:v(e.onTouchStart,u=>u.preventDefault())})))}),He="HoverCardPortal",[et,Le]=J(He,{forceMount:void 0}),U="HoverCardContent",Xe=o.forwardRef((e,t)=>{const n=Le(U,e.__scopeHoverCard),{forceMount:s=n.forceMount,...r}=e,c=A(U,e.__scopeHoverCard);return o.createElement(ie,{present:s||c.open},o.createElement(Ye,O({"data-state":c.open?"open":"closed"},r,{onPointerEnter:v(e.onPointerEnter,P(c.onOpen)),onPointerLeave:v(e.onPointerLeave,P(c.onClose)),ref:t})))}),Ye=o.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:c,onInteractOutside:u,...m}=e,a=A(U,n),y=z(n),f=o.useRef(null),p=de(t,f),[$,x]=o.useState(!1);return o.useEffect(()=>{if($){const i=document.body;return j=i.style.userSelect||i.style.webkitUserSelect,i.style.userSelect="none",i.style.webkitUserSelect="none",()=>{i.style.userSelect=j,i.style.webkitUserSelect=j}}},[$]),o.useEffect(()=>{if(f.current){const i=()=>{x(!1),a.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var l;((l=document.getSelection())===null||l===void 0?void 0:l.toString())!==""&&(a.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",i),()=>{document.removeEventListener("pointerup",i),a.hasSelectionRef.current=!1,a.isPointerDownOnContentRef.current=!1}}},[a.isPointerDownOnContentRef,a.hasSelectionRef]),o.useEffect(()=>{f.current&&Be(f.current).forEach(l=>l.setAttribute("tabindex","-1"))}),o.createElement(le,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:v(c,i=>{i.preventDefault()}),onDismiss:a.onDismiss},o.createElement(ue,O({},y,m,{onPointerDown:v(m.onPointerDown,i=>{i.currentTarget.contains(i.target)&&x(!0),a.hasSelectionRef.current=!1,a.isPointerDownOnContentRef.current=!0}),ref:p,style:{...m.style,userSelect:$?"text":void 0,WebkitUserSelect:$?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})))});function P(e){return t=>t.pointerType==="touch"?void 0:e()}function Be(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}const Ke=ze,qe=Ie,Q=Xe,tt=Ke,nt=qe,We=o.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},r)=>d.jsx(Q,{ref:r,align:t,sideOffset:n,className:g("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));We.displayName=Q.displayName;export{je as $,_e as A,xe as C,tt as H,Ne as I,ye as a,pe as b,Ce as c,ve as d,T as e,Se as f,nt as g,We as h,Fe as i,Ze as r,Qe as s};
