import{u as F,l as z,j as s,i as I}from"./utils.CoSl1RWq.js";import{r as n}from"./index.sXsv9c-e.js";import{F as q}from"./index.esm.yz4690tU.js";import{C as j,a as p,b,c as u}from"./users.M21O9cX4.js";import{l as L,m as G,n as J,o as K,p as O,q as Q}from"./dialog.8HOXxM8G.js";import{H as P,a as D,b as f}from"./hover-card.xm2hZFE_.js";import{j as B,k as S}from"./Init.MhOaBiuT.js";function es(k){const{assetA:a,assetB:i,assetAData:y,assetBData:C,chain:d}=k,{t:l,i18n:U}=F(z.get(),{i18n:I}),h=n.useSyncExternalStore(B.subscribe,B.get,()=>!0),m=n.useSyncExternalStore(S.subscribe,S.get,()=>!0),r=n.useMemo(()=>d&&(h||m)?d==="bitshares"?h:m:[],[h,m,d]),[v,w]=n.useState(),[T,H]=n.useState(),[A,E]=n.useState();n.useEffect(()=>{function t(){const e=r.filter(o=>o.asset_a_symbol===a||o.asset_b_symbol===a);w(e)}r&&a&&t()},[r,a]),n.useEffect(()=>{function t(){const e=r.filter(o=>o.asset_a_symbol===i||o.asset_b_symbol===i);H(e)}r&&i&&t()},[r,i]),n.useEffect(()=>{function t(){const e=r.filter(o=>o.asset_a_symbol===a&&o.asset_b_symbol===i||o.asset_a_symbol===i&&o.asset_b_symbol===a);E(e&&e.length?e:[])}r&&a&&i&&t()},[r,a,i]);function x({id:t,share_asset_symbol:e,asset_a_symbol:o,asset_b_symbol:_}){return s.jsxs("div",{className:"grid grid-cols-10",children:[s.jsx("div",{className:"col-span-1",children:s.jsx("p",{children:t})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{children:e})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{children:o})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{children:_})})]})}const M=({index:t,style:e})=>{const o=v[t];return s.jsx("a",{style:e,href:`/pool/index.html?pool=${o.id}`,children:s.jsx(x,{id:o.id,share_asset_symbol:o.share_asset_symbol,asset_a_symbol:o.asset_a_symbol,asset_b_symbol:o.asset_b_symbol})},`a_${o.id}`)},$=({index:t,style:e})=>{const o=T[t];return s.jsx("a",{style:e,href:`/pool/index.html?pool=${o.id}`,children:s.jsx(x,{id:o.id,share_asset_symbol:o.share_asset_symbol,asset_a_symbol:o.asset_a_symbol,asset_b_symbol:o.asset_b_symbol})},`a_${o.id}`)},R=({index:t,style:e})=>{const o=A[t];return s.jsx("a",{style:e,href:`/pool/index.html?pool=${o.id}`,children:s.jsx(x,{id:o.id,share_asset_symbol:o.share_asset_symbol,asset_a_symbol:o.asset_a_symbol,asset_b_symbol:o.asset_b_symbol})},`a_${o.id}`)};function g({title:t,poolArray:e,dialogTitle:o,dialogDescription:_,type:N}){if(!e)return s.jsx(j,{children:s.jsxs(p,{className:"pb-2",children:[s.jsx(b,{children:t}),s.jsx(u,{children:l("PoolDialogs:loadingMessage")})]})});if(!e.length)return s.jsx(j,{children:s.jsxs(p,{className:"pb-2",children:[s.jsx(b,{children:t}),s.jsx(u,{children:l("PoolDialogs:noPoolsFoundMessage")})]})});let c;return N==="A"?c=M:N==="B"?c=$:c=R,s.jsxs(L,{children:[s.jsx(G,{asChild:!0,children:s.jsx(j,{children:s.jsxs(p,{className:"pb-3 pt-3",children:[s.jsx(b,{children:t}),s.jsx(u,{children:l("PoolDialogs:poolsFound",{count:e&&e.length})})]})})}),s.jsxs(J,{className:"sm:max-w-[800px] bg-white",children:[s.jsxs(K,{children:[s.jsx(O,{children:o}),s.jsx(Q,{children:_})]}),s.jsxs("div",{className:"grid grid-cols-1",children:[s.jsxs("div",{className:"grid grid-cols-10",children:[s.jsx("div",{className:"col-span-1",children:l("PoolDialogs:idColumnTitle")}),s.jsx("div",{className:"col-span-3",children:l("PoolDialogs:shareAssetColumnTitle")}),s.jsx("div",{className:"col-span-3",children:l("PoolDialogs:assetAColumnTitle")}),s.jsx("div",{className:"col-span-3",children:l("PoolDialogs:assetBColumnTitle")})]}),s.jsx(q,{height:300,itemCount:e.length,itemSize:35,className:"w-full",children:c})]})]})]})}return s.jsxs("div",{className:"grid grid-cols-3 gap-5 mt-3",children:[s.jsxs(P,{children:[s.jsx(D,{asChild:!0,children:s.jsx("div",{children:s.jsx(g,{title:l("PoolDialogs:assetAPoolsTitle",{assetA:a&&a.length<12?a:y.id}),poolArray:v,dialogTitle:l("PoolDialogs:assetAPoolsDialogTitle",{assetA:a}),dialogDescription:l("PoolDialogs:assetAPoolsDialogDescription",{assetA:a,assetAId:y.id}),type:"A"})})}),s.jsx(f,{className:"w-60",children:l("PoolDialogs:assetAHoverCardContent",{assetA:a})})]},"hover_a"),s.jsxs(P,{children:[s.jsx(D,{asChild:!0,children:s.jsx("div",{children:s.jsx(g,{title:l("PoolDialogs:marketPoolsTitle"),poolArray:A,dialogTitle:l("PoolDialogs:marketPoolsDialogTitle",{assetA:a,assetB:i}),dialogDescription:l("PoolDialogs:marketPoolsDialogDescription",{assetA:a,assetB:i}),type:"Market"})})}),s.jsx(f,{className:"w-60",children:l("PoolDialogs:marketHoverCardContent",{assetA:a,assetB:i})})]},"hover_b"),s.jsxs(P,{children:[s.jsx(D,{asChild:!0,children:s.jsx("div",{children:s.jsx(g,{title:l("PoolDialogs:assetBPoolsTitle",{assetB:i&&i.length<12?i:C.id}),poolArray:T,dialogTitle:l("PoolDialogs:assetBPoolsDialogTitle",{assetB:i}),dialogDescription:l("PoolDialogs:assetBPoolsDialogDescription",{assetB:i,assetBId:C.id}),type:"B"})})}),s.jsx(f,{className:"w-60",children:l("PoolDialogs:assetBHoverCardContent",{assetB:i})})]},"hover_c")]})}export{es as P};
