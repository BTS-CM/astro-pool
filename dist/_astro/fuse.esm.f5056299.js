import{q as rt,_ as le,j as ne,t as ve,a3 as br,P as _r,p as $r,J as Lt,K as wr,M as Ot,T as Er,U as Ar,a4 as Cr,X as Mr,V as Fr,W as Tr,Y as Sr,Q as ye}from"./CurrentUser.76ee68b2.js";import{R as I,r as x}from"./index.40fd2bfc.js";var we=e=>e.type==="checkbox",me=e=>e instanceof Date,G=e=>e==null;const Pt=e=>typeof e=="object";var H=e=>!G(e)&&!Array.isArray(e)&&Pt(e)&&!me(e),Nt=e=>H(e)&&e.target?we(e.target)?e.target.checked:e.target.value:e,Dr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jt=(e,r)=>e.has(Dr(r)),Vr=e=>{const r=e.constructor&&e.constructor.prototype;return H(r)&&r.hasOwnProperty("isPrototypeOf")},st=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function q(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(st&&(e instanceof Blob||e instanceof FileList))&&(t||H(e)))if(r=t?[]:{},!t&&!Vr(e))r=e;else for(const s in e)e.hasOwnProperty(s)&&(r[s]=q(e[s]));else return e;return r}var Ee=e=>Array.isArray(e)?e.filter(Boolean):[],N=e=>e===void 0,v=(e,r,t)=>{if(!r||!H(e))return t;const s=Ee(r.split(/[,[\].]+?/)).reduce((n,i)=>G(n)?n:n[i],e);return N(s)||s===e?N(e[r])?t:e[r]:s},ce=e=>typeof e=="boolean";const Te={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ut=I.createContext(null),ke=()=>I.useContext(Ut),Rr=e=>{const{children:r,...t}=e;return I.createElement(Ut.Provider,{value:t},r)};var Bt=(e,r,t,s=!0)=>{const n={defaultValues:r._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const c=i;return r._proxyFormState[c]!==Z.all&&(r._proxyFormState[c]=!s||Z.all),t&&(t[c]=!0),e[c]}});return n},J=e=>H(e)&&!Object.keys(e).length,Ht=(e,r,t,s)=>{t(e);const{name:n,...i}=e;return J(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(c=>r[c]===(!s||Z.all))},Me=e=>Array.isArray(e)?e:[e],Wt=(e,r,t)=>!e||!r||e===r||Me(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s)));function nt(e){const r=I.useRef(e);r.current=e,I.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Ir(e){const r=ke(),{control:t=r.control,disabled:s,name:n,exact:i}=e||{},[c,u]=I.useState(t._formState),a=I.useRef(!0),h=I.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=I.useRef(n);return d.current=n,nt({disabled:s,next:g=>a.current&&Wt(d.current,g.name,i)&&Ht(g,h.current,t._updateFormState)&&u({...t._formState,...g}),subject:t._subjects.state}),I.useEffect(()=>(a.current=!0,h.current.isValid&&t._updateValid(!0),()=>{a.current=!1}),[t]),Bt(c,t,h.current,!1)}var re=e=>typeof e=="string",Kt=(e,r,t,s,n)=>re(e)?(s&&r.watch.add(e),v(t,e,n)):Array.isArray(e)?e.map(i=>(s&&r.watch.add(i),v(t,i))):(s&&(r.watchAll=!0),t);function kr(e){const r=ke(),{control:t=r.control,name:s,defaultValue:n,disabled:i,exact:c}=e||{},u=I.useRef(s);u.current=s,nt({disabled:i,subject:t._subjects.values,next:d=>{Wt(u.current,d.name,c)&&h(q(Kt(u.current,t._names,d.values||t._formValues,!1,n)))}});const[a,h]=I.useState(t._getWatch(s,n));return I.useEffect(()=>t._removeUnmounted()),a}var it=e=>/^\w*$/.test(e),Gt=e=>Ee(e.replace(/["|']|\]/g,"").split(/\.|\[/));function D(e,r,t){let s=-1;const n=it(r)?[r]:Gt(r),i=n.length,c=i-1;for(;++s<i;){const u=n[s];let a=t;if(s!==c){const h=e[u];a=H(h)||Array.isArray(h)?h:isNaN(+n[s+1])?{}:[]}e[u]=a,e=e[u]}return e}function Lr(e){const r=ke(),{name:t,disabled:s,control:n=r.control,shouldUnregister:i}=e,c=jt(n._names.array,t),u=kr({control:n,name:t,defaultValue:v(n._formValues,t,v(n._defaultValues,t,e.defaultValue)),exact:!0}),a=Ir({control:n,name:t}),h=I.useRef(n.register(t,{...e.rules,value:u}));return h.current=n.register(t,e.rules),I.useEffect(()=>{const d=n._options.shouldUnregister||i,g=(y,w)=>{const E=v(n._fields,y);E&&(E._f.mount=w)};if(g(t,!0),d){const y=q(v(n._options.defaultValues,t));D(n._defaultValues,t,y),N(v(n._formValues,t))&&D(n._formValues,t,y)}return()=>{(c?d&&!n._state.action:d)?n.unregister(t):g(t,!1)}},[t,n,c,i]),I.useEffect(()=>{v(n._fields,t)&&n._updateDisabledField({disabled:s,fields:n._fields,name:t})},[s,t,n]),{field:{name:t,value:u,...ce(s)?{disabled:s}:{},onChange:I.useCallback(d=>h.current.onChange({target:{value:Nt(d),name:t},type:Te.CHANGE}),[t]),onBlur:I.useCallback(()=>h.current.onBlur({target:{value:v(n._formValues,t),name:t},type:Te.BLUR}),[t,n]),ref:d=>{const g=v(n._fields,t);g&&d&&(g._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:y=>d.setCustomValidity(y),reportValidity:()=>d.reportValidity()})}},formState:a,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!v(a.errors,t)},isDirty:{enumerable:!0,get:()=>!!v(a.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!v(a.touchedFields,t)},error:{enumerable:!0,get:()=>v(a.errors,t)}})}}const Or=e=>e.render(Lr(e));var Pr=(e,r,t,s,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:n||!0}}:{};const Ye=(e,r,t)=>{for(const s of t||Object.keys(e)){const n=v(e,s);if(n){const{_f:i,...c}=n;if(i&&r(i.name)){if(i.ref.focus){i.ref.focus();break}else if(i.refs&&i.refs[0].focus){i.refs[0].focus();break}}else H(c)&&Ye(c,r)}}};var $t=e=>({isOnSubmit:!e||e===Z.onSubmit,isOnBlur:e===Z.onBlur,isOnChange:e===Z.onChange,isOnAll:e===Z.all,isOnTouch:e===Z.onTouched}),wt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length)))),Nr=(e,r,t)=>{const s=Ee(v(e,t));return D(s,"root",r[t]),D(e,t,s),e},ot=e=>e.type==="file",ae=e=>typeof e=="function",Se=e=>{if(!st)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Fe=e=>re(e),ct=e=>e.type==="radio",De=e=>e instanceof RegExp;const Et={value:!1,isValid:!1},At={value:!0,isValid:!0};var zt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!N(e[0].attributes.value)?N(e[0].value)||e[0].value===""?At:{value:e[0].value,isValid:!0}:At:Et}return Et};const Ct={isValid:!1,value:null};var Yt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Ct):Ct;function Mt(e,r,t="validate"){if(Fe(e)||Array.isArray(e)&&e.every(Fe)||ce(e)&&!e)return{type:t,message:Fe(e)?e:"",ref:r}}var pe=e=>H(e)&&!De(e)?e:{value:e,message:""},Ft=async(e,r,t,s,n)=>{const{ref:i,refs:c,required:u,maxLength:a,minLength:h,min:d,max:g,pattern:y,validate:w,name:E,valueAsNumber:T,mount:V,disabled:k}=e._f,_=v(r,E);if(!V||k)return{};const R=c?c[0]:i,j=C=>{s&&R.reportValidity&&(R.setCustomValidity(ce(C)?"":C||""),R.reportValidity())},S={},X=ct(i),L=we(i),Q=X||L,U=(T||ot(i))&&N(i.value)&&N(_)||Se(i)&&i.value===""||_===""||Array.isArray(_)&&!_.length,ee=Pr.bind(null,E,t,S),z=(C,M,F,B=ie.maxLength,K=ie.minLength)=>{const te=C?M:F;S[E]={type:C?B:K,message:te,ref:i,...ee(C?B:K,te)}};if(n?!Array.isArray(_)||!_.length:u&&(!Q&&(U||G(_))||ce(_)&&!_||L&&!zt(c).isValid||X&&!Yt(c).isValid)){const{value:C,message:M}=Fe(u)?{value:!!u,message:u}:pe(u);if(C&&(S[E]={type:ie.required,message:M,ref:R,...ee(ie.required,M)},!t))return j(M),S}if(!U&&(!G(d)||!G(g))){let C,M;const F=pe(g),B=pe(d);if(!G(_)&&!isNaN(_)){const K=i.valueAsNumber||_&&+_;G(F.value)||(C=K>F.value),G(B.value)||(M=K<B.value)}else{const K=i.valueAsDate||new Date(_),te=be=>new Date(new Date().toDateString()+" "+be),fe=i.type=="time",xe=i.type=="week";re(F.value)&&_&&(C=fe?te(_)>te(F.value):xe?_>F.value:K>new Date(F.value)),re(B.value)&&_&&(M=fe?te(_)<te(B.value):xe?_<B.value:K<new Date(B.value))}if((C||M)&&(z(!!C,F.message,B.message,ie.max,ie.min),!t))return j(S[E].message),S}if((a||h)&&!U&&(re(_)||n&&Array.isArray(_))){const C=pe(a),M=pe(h),F=!G(C.value)&&_.length>+C.value,B=!G(M.value)&&_.length<+M.value;if((F||B)&&(z(F,C.message,M.message),!t))return j(S[E].message),S}if(y&&!U&&re(_)){const{value:C,message:M}=pe(y);if(De(C)&&!_.match(C)&&(S[E]={type:ie.pattern,message:M,ref:i,...ee(ie.pattern,M)},!t))return j(M),S}if(w){if(ae(w)){const C=await w(_,r),M=Mt(C,R);if(M&&(S[E]={...M,...ee(ie.validate,M.message)},!t))return j(M.message),S}else if(H(w)){let C={};for(const M in w){if(!J(C)&&!t)break;const F=Mt(await w[M](_,r),R,M);F&&(C={...F,...ee(M,F.message)},j(F.message),t&&(S[E]=C))}if(!J(C)&&(S[E]={ref:R,...C},!t))return S}}return j(!0),S};function jr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=N(e)?s++:e[r[s++]];return e}function Ur(e){for(const r in e)if(e.hasOwnProperty(r)&&!N(e[r]))return!1;return!0}function W(e,r){const t=Array.isArray(r)?r:it(r)?[r]:Gt(r),s=t.length===1?e:jr(e,t),n=t.length-1,i=t[n];return s&&delete s[i],n!==0&&(H(s)&&J(s)||Array.isArray(s)&&Ur(s))&&W(e,t.slice(0,-1)),e}function He(){let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}}var Ve=e=>G(e)||!Pt(e);function he(e,r){if(Ve(e)||Ve(r))return e===r;if(me(e)&&me(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const n of t){const i=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const c=r[n];if(me(i)&&me(c)||H(i)&&H(c)||Array.isArray(i)&&Array.isArray(c)?!he(i,c):i!==c)return!1}}return!0}var Xt=e=>e.type==="select-multiple",Br=e=>ct(e)||we(e),We=e=>Se(e)&&e.isConnected,Qt=e=>{for(const r in e)if(ae(e[r]))return!0;return!1};function Re(e,r={}){const t=Array.isArray(e);if(H(e)||t)for(const s in e)Array.isArray(e[s])||H(e[s])&&!Qt(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Re(e[s],r[s])):G(e[s])||(r[s]=!0);return r}function Jt(e,r,t){const s=Array.isArray(e);if(H(e)||s)for(const n in e)Array.isArray(e[n])||H(e[n])&&!Qt(e[n])?N(r)||Ve(t[n])?t[n]=Array.isArray(e[n])?Re(e[n],[]):{...Re(e[n])}:Jt(e[n],G(r)?{}:r[n],t[n]):t[n]=!he(e[n],r[n]);return t}var Ke=(e,r)=>Jt(e,r,Re(r)),qt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>N(e)?e:r?e===""?NaN:e&&+e:t&&re(e)?new Date(e):s?s(e):e;function Ge(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return ot(r)?r.files:ct(r)?Yt(e.refs).value:Xt(r)?[...r.selectedOptions].map(({value:t})=>t):we(r)?zt(e.refs).value:qt(N(r.value)?e.ref.value:r.value,e)}var Hr=(e,r,t,s)=>{const n={};for(const i of e){const c=v(r,i);c&&D(n,i,c._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:s}},_e=e=>N(e)?e:De(e)?e.source:H(e)?De(e.value)?e.value.source:e.value:e,Wr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Tt(e,r,t){const s=v(e,t);if(s||it(t))return{error:s,name:t};const n=t.split(".");for(;n.length;){const i=n.join("."),c=v(r,i),u=v(e,i);if(c&&!Array.isArray(c)&&t!==i)return{name:t};if(u&&u.type)return{name:i,error:u};n.pop()}return{name:t}}var Kr=(e,r,t,s,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?s.isOnBlur:n.isOnBlur)?!e:(t?s.isOnChange:n.isOnChange)?e:!0,Gr=(e,r)=>!Ee(v(e,r)).length&&W(e,r);const zr={mode:Z.onSubmit,reValidateMode:Z.onChange,shouldFocusError:!0};function Yr(e={},r){let t={...zr,...e},s={submitCount:0,isDirty:!1,isLoading:ae(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},i=H(t.defaultValues)||H(t.values)?q(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:q(i),u={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,d=0;const g={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={values:He(),array:He(),state:He()},w=e.resetOptions&&e.resetOptions.keepDirtyValues,E=$t(t.mode),T=$t(t.reValidateMode),V=t.criteriaMode===Z.all,k=o=>l=>{clearTimeout(d),d=setTimeout(o,l)},_=async o=>{if(g.isValid||o){const l=t.resolver?J((await U()).errors):await z(n,!0);l!==s.isValid&&y.state.next({isValid:l})}},R=o=>g.isValidating&&y.state.next({isValidating:o}),j=(o,l=[],f,b,m=!0,p=!0)=>{if(b&&f){if(u.action=!0,p&&Array.isArray(v(n,o))){const $=f(v(n,o),b.argA,b.argB);m&&D(n,o,$)}if(p&&Array.isArray(v(s.errors,o))){const $=f(v(s.errors,o),b.argA,b.argB);m&&D(s.errors,o,$),Gr(s.errors,o)}if(g.touchedFields&&p&&Array.isArray(v(s.touchedFields,o))){const $=f(v(s.touchedFields,o),b.argA,b.argB);m&&D(s.touchedFields,o,$)}g.dirtyFields&&(s.dirtyFields=Ke(i,c)),y.state.next({name:o,isDirty:M(o,l),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else D(c,o,l)},S=(o,l)=>{D(s.errors,o,l),y.state.next({errors:s.errors})},X=(o,l,f,b)=>{const m=v(n,o);if(m){const p=v(c,o,N(f)?v(i,o):f);N(p)||b&&b.defaultChecked||l?D(c,o,l?p:Ge(m._f)):K(o,p),u.mount&&_()}},L=(o,l,f,b,m)=>{let p=!1,$=!1;const O={name:o};if(!f||b){g.isDirty&&($=s.isDirty,s.isDirty=O.isDirty=M(),p=$!==O.isDirty);const P=he(v(i,o),l);$=v(s.dirtyFields,o),P?W(s.dirtyFields,o):D(s.dirtyFields,o,!0),O.dirtyFields=s.dirtyFields,p=p||g.dirtyFields&&$!==!P}if(f){const P=v(s.touchedFields,o);P||(D(s.touchedFields,o,f),O.touchedFields=s.touchedFields,p=p||g.touchedFields&&P!==f)}return p&&m&&y.state.next(O),p?O:{}},Q=(o,l,f,b)=>{const m=v(s.errors,o),p=g.isValid&&ce(l)&&s.isValid!==l;if(e.delayError&&f?(h=k(()=>S(o,f)),h(e.delayError)):(clearTimeout(d),h=null,f?D(s.errors,o,f):W(s.errors,o)),(f?!he(m,f):m)||!J(b)||p){const $={...b,...p&&ce(l)?{isValid:l}:{},errors:s.errors,name:o};s={...s,...$},y.state.next($)}R(!1)},U=async o=>t.resolver(c,t.context,Hr(o||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation)),ee=async o=>{const{errors:l}=await U(o);if(o)for(const f of o){const b=v(l,f);b?D(s.errors,f,b):W(s.errors,f)}else s.errors=l;return l},z=async(o,l,f={valid:!0})=>{for(const b in o){const m=o[b];if(m){const{_f:p,...$}=m;if(p){const O=a.array.has(p.name),P=await Ft(m,c,V,t.shouldUseNativeValidation&&!l,O);if(P[p.name]&&(f.valid=!1,l))break;!l&&(v(P,p.name)?O?Nr(s.errors,P,p.name):D(s.errors,p.name,P[p.name]):W(s.errors,p.name))}$&&await z($,l,f)}}return f.valid},C=()=>{for(const o of a.unMount){const l=v(n,o);l&&(l._f.refs?l._f.refs.every(f=>!We(f)):!We(l._f.ref))&&Ne(o)}a.unMount=new Set},M=(o,l)=>(o&&l&&D(c,o,l),!he(dt(),i)),F=(o,l,f)=>Kt(o,a,{...u.mount?c:N(l)?i:re(o)?{[o]:l}:l},f,l),B=o=>Ee(v(u.mount?c:i,o,e.shouldUnregister?v(i,o,[]):[])),K=(o,l,f={})=>{const b=v(n,o);let m=l;if(b){const p=b._f;p&&(!p.disabled&&D(c,o,qt(l,p)),m=Se(p.ref)&&G(l)?"":l,Xt(p.ref)?[...p.ref.options].forEach($=>$.selected=m.includes($.value)):p.refs?we(p.ref)?p.refs.length>1?p.refs.forEach($=>(!$.defaultChecked||!$.disabled)&&($.checked=Array.isArray(m)?!!m.find(O=>O===$.value):m===$.value)):p.refs[0]&&(p.refs[0].checked=!!m):p.refs.forEach($=>$.checked=$.value===m):ot(p.ref)?p.ref.value="":(p.ref.value=m,p.ref.type||y.values.next({name:o,values:{...c}})))}(f.shouldDirty||f.shouldTouch)&&L(o,m,f.shouldTouch,f.shouldDirty,!0),f.shouldValidate&&be(o)},te=(o,l,f)=>{for(const b in l){const m=l[b],p=`${o}.${b}`,$=v(n,p);(a.array.has(o)||!Ve(m)||$&&!$._f)&&!me(m)?te(p,m,f):K(p,m,f)}},fe=(o,l,f={})=>{const b=v(n,o),m=a.array.has(o),p=q(l);D(c,o,p),m?(y.array.next({name:o,values:{...c}}),(g.isDirty||g.dirtyFields)&&f.shouldDirty&&y.state.next({name:o,dirtyFields:Ke(i,c),isDirty:M(o,p)})):b&&!b._f&&!G(p)?te(o,p,f):K(o,p,f),wt(o,a)&&y.state.next({...s}),y.values.next({name:o,values:{...c}}),!u.mount&&r()},xe=async o=>{const l=o.target;let f=l.name,b=!0;const m=v(n,f),p=()=>l.type?Ge(m._f):Nt(o);if(m){let $,O;const P=p(),ge=o.type===Te.BLUR||o.type===Te.FOCUS_OUT,mr=!Wr(m._f)&&!t.resolver&&!v(s.errors,f)&&!m._f.deps||Kr(ge,v(s.touchedFields,f),s.isSubmitted,T,E),Ue=wt(f,a,ge);D(c,f,P),ge?(m._f.onBlur&&m._f.onBlur(o),h&&h(0)):m._f.onChange&&m._f.onChange(o);const Be=L(f,P,ge,!1),vr=!J(Be)||Ue;if(!ge&&y.values.next({name:f,type:o.type,values:{...c}}),mr)return g.isValid&&_(),vr&&y.state.next({name:f,...Ue?{}:Be});if(!ge&&Ue&&y.state.next({...s}),R(!0),t.resolver){const{errors:bt}=await U([f]),xr=Tt(s.errors,n,f),_t=Tt(bt,n,xr.name||f);$=_t.error,f=_t.name,O=J(bt)}else $=(await Ft(m,c,V,t.shouldUseNativeValidation))[f],b=Number.isNaN(P)||P===v(c,f,P),b&&($?O=!1:g.isValid&&(O=await z(n,!0)));b&&(m._f.deps&&be(m._f.deps),Q(f,O,$,Be))}},be=async(o,l={})=>{let f,b;const m=Me(o);if(R(!0),t.resolver){const p=await ee(N(o)?o:m);f=J(p),b=o?!m.some($=>v(p,$)):f}else o?(b=(await Promise.all(m.map(async p=>{const $=v(n,p);return await z($&&$._f?{[p]:$}:$)}))).every(Boolean),!(!b&&!s.isValid)&&_()):b=f=await z(n);return y.state.next({...!re(o)||g.isValid&&f!==s.isValid?{}:{name:o},...t.resolver||!o?{isValid:f}:{},errors:s.errors,isValidating:!1}),l.shouldFocus&&!b&&Ye(n,p=>p&&v(s.errors,p),o?m:a.mount),b},dt=o=>{const l={...i,...u.mount?c:{}};return N(o)?l:re(o)?v(l,o):o.map(f=>v(l,f))},ht=(o,l)=>({invalid:!!v((l||s).errors,o),isDirty:!!v((l||s).dirtyFields,o),isTouched:!!v((l||s).touchedFields,o),error:v((l||s).errors,o)}),gr=o=>{o&&Me(o).forEach(l=>W(s.errors,l)),y.state.next({errors:o?s.errors:{}})},gt=(o,l,f)=>{const b=(v(n,o,{_f:{}})._f||{}).ref;D(s.errors,o,{...l,ref:b}),y.state.next({name:o,errors:s.errors,isValid:!1}),f&&f.shouldFocus&&b&&b.focus&&b.focus()},yr=(o,l)=>ae(o)?y.values.subscribe({next:f=>o(F(void 0,l),f)}):F(o,l,!0),Ne=(o,l={})=>{for(const f of o?Me(o):a.mount)a.mount.delete(f),a.array.delete(f),l.keepValue||(W(n,f),W(c,f)),!l.keepError&&W(s.errors,f),!l.keepDirty&&W(s.dirtyFields,f),!l.keepTouched&&W(s.touchedFields,f),!t.shouldUnregister&&!l.keepDefaultValue&&W(i,f);y.values.next({values:{...c}}),y.state.next({...s,...l.keepDirty?{isDirty:M()}:{}}),!l.keepIsValid&&_()},yt=({disabled:o,name:l,field:f,fields:b})=>{if(ce(o)){const m=o?void 0:v(c,l,Ge(f?f._f:v(b,l)._f));D(c,l,m),L(l,m,!1,!1,!0)}},je=(o,l={})=>{let f=v(n,o);const b=ce(l.disabled);return D(n,o,{...f||{},_f:{...f&&f._f?f._f:{ref:{name:o}},name:o,mount:!0,...l}}),a.mount.add(o),f?yt({field:f,disabled:l.disabled,name:o}):X(o,!0,l.value),{...b?{disabled:l.disabled}:{},...t.progressive?{required:!!l.required,min:_e(l.min),max:_e(l.max),minLength:_e(l.minLength),maxLength:_e(l.maxLength),pattern:_e(l.pattern)}:{},name:o,onChange:xe,onBlur:xe,ref:m=>{if(m){je(o,l),f=v(n,o);const p=N(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,$=Br(p),O=f._f.refs||[];if($?O.find(P=>P===p):p===f._f.ref)return;D(n,o,{_f:{...f._f,...$?{refs:[...O.filter(We),p,...Array.isArray(v(i,o))?[{}]:[]],ref:{type:p.type,name:o}}:{ref:p}}}),X(o,!1,void 0,p)}else f=v(n,o,{}),f._f&&(f._f.mount=!1),(t.shouldUnregister||l.shouldUnregister)&&!(jt(a.array,o)&&u.action)&&a.unMount.add(o)}}},pt=()=>t.shouldFocusError&&Ye(n,o=>o&&v(s.errors,o),a.mount),mt=(o,l)=>async f=>{f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let b=q(c);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:m,values:p}=await U();s.errors=m,b=p}else await z(n);W(s.errors,"root"),J(s.errors)?(y.state.next({errors:{}}),await o(b,f)):(l&&await l({...s.errors},f),pt(),setTimeout(pt)),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:J(s.errors),submitCount:s.submitCount+1,errors:s.errors})},pr=(o,l={})=>{v(n,o)&&(N(l.defaultValue)?fe(o,v(i,o)):(fe(o,l.defaultValue),D(i,o,l.defaultValue)),l.keepTouched||W(s.touchedFields,o),l.keepDirty||(W(s.dirtyFields,o),s.isDirty=l.defaultValue?M(o,v(i,o)):M()),l.keepError||(W(s.errors,o),g.isValid&&_()),y.state.next({...s}))},vt=(o,l={})=>{const f=o?q(o):i,b=q(f),m=o&&!J(o)?b:i;if(l.keepDefaultValues||(i=f),!l.keepValues){if(l.keepDirtyValues||w)for(const p of a.mount)v(s.dirtyFields,p)?D(m,p,v(c,p)):fe(p,v(m,p));else{if(st&&N(o))for(const p of a.mount){const $=v(n,p);if($&&$._f){const O=Array.isArray($._f.refs)?$._f.refs[0]:$._f.ref;if(Se(O)){const P=O.closest("form");if(P){P.reset();break}}}}n={}}c=e.shouldUnregister?l.keepDefaultValues?q(i):{}:q(m),y.array.next({values:{...m}}),y.values.next({values:{...m}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&r(),u.mount=!g.isValid||!!l.keepIsValid,u.watch=!!e.shouldUnregister,y.state.next({submitCount:l.keepSubmitCount?s.submitCount:0,isDirty:l.keepDirty?s.isDirty:!!(l.keepDefaultValues&&!he(o,i)),isSubmitted:l.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:l.keepDirtyValues?s.dirtyFields:l.keepDefaultValues&&o?Ke(i,o):{},touchedFields:l.keepTouched?s.touchedFields:{},errors:l.keepErrors?s.errors:{},isSubmitSuccessful:l.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},xt=(o,l)=>vt(ae(o)?o(c):o,l);return{control:{register:je,unregister:Ne,getFieldState:ht,handleSubmit:mt,setError:gt,_executeSchema:U,_getWatch:F,_getDirty:M,_updateValid:_,_removeUnmounted:C,_updateFieldArray:j,_updateDisabledField:yt,_getFieldArray:B,_reset:vt,_resetDefaultValues:()=>ae(t.defaultValues)&&t.defaultValues().then(o=>{xt(o,t.resetOptions),y.state.next({isLoading:!1})}),_updateFormState:o=>{s={...s,...o}},_subjects:y,_proxyFormState:g,get _fields(){return n},get _formValues(){return c},get _state(){return u},set _state(o){u=o},get _defaultValues(){return i},get _names(){return a},set _names(o){a=o},get _formState(){return s},set _formState(o){s=o},get _options(){return t},set _options(o){t={...t,...o}}},trigger:be,register:je,handleSubmit:mt,watch:yr,setValue:fe,getValues:dt,reset:xt,resetField:pr,clearErrors:gr,unregister:Ne,setError:gt,setFocus:(o,l={})=>{const f=v(n,o),b=f&&f._f;if(b){const m=b.refs?b.refs[0]:b.ref;m.focus&&(m.focus(),l.shouldSelect&&m.select())}},getFieldState:ht}}function vn(e={}){const r=I.useRef(),t=I.useRef(),[s,n]=I.useState({isDirty:!1,isValidating:!1,isLoading:ae(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ae(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Yr(e,()=>n(c=>({...c}))),formState:s});const i=r.current.control;return i._options=e,nt({subject:i._subjects.state,next:c=>{Ht(c,i._proxyFormState,i._updateFormState,!0)&&n({...i._formState})}}),I.useEffect(()=>{e.values&&!he(e.values,t.current)?(i._reset(e.values,i._options.resetOptions),t.current=e.values):i._resetDefaultValues()},[e.values,i]),I.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=Bt(s,i),r.current}const Xr=x.forwardRef((e,r)=>x.createElement(rt.label,le({},e,{ref:r,onMouseDown:t=>{var s;(s=e.onMouseDown)===null||s===void 0||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),Zt=Xr,Qr=br("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),er=x.forwardRef(({className:e,...r},t)=>ne.jsx(Zt,{ref:t,className:ve(Qr(),e),...r}));er.displayName=Zt.displayName;const xn=Rr,tr=x.createContext({}),bn=({...e})=>ne.jsx(tr.Provider,{value:{name:e.name},children:ne.jsx(Or,{...e})}),Le=()=>{const e=x.useContext(tr),r=x.useContext(rr),{getFieldState:t,formState:s}=ke(),n=t(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},rr=x.createContext({}),Jr=x.forwardRef(({className:e,...r},t)=>{const s=x.useId();return ne.jsx(rr.Provider,{value:{id:s},children:ne.jsx("div",{ref:t,className:ve("space-y-2",e),...r})})});Jr.displayName="FormItem";const qr=x.forwardRef(({className:e,...r},t)=>{const{error:s,formItemId:n}=Le();return ne.jsx(er,{ref:t,className:ve(s&&"text-destructive",e),htmlFor:n,...r})});qr.displayName="FormLabel";const Zr=x.forwardRef(({...e},r)=>{const{error:t,formItemId:s,formDescriptionId:n,formMessageId:i}=Le();return ne.jsx(_r,{ref:r,id:s,"aria-describedby":t?`${n} ${i}`:`${n}`,"aria-invalid":!!t,...e})});Zr.displayName="FormControl";const es=x.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:s}=Le();return ne.jsx("p",{ref:t,id:s,className:ve("text-[0.8rem] text-muted-foreground",e),...r})});es.displayName="FormDescription";const ts=x.forwardRef(({className:e,children:r,...t},s)=>{const{error:n,formMessageId:i}=Le(),c=n?String(n?.message):r;return c?ne.jsx("p",{ref:s,id:i,className:ve("text-[0.8rem] font-medium text-destructive",e),...t,children:c}):null});ts.displayName="FormMessage";const rs=x.forwardRef((e,r)=>x.createElement(rt.span,le({},e,{ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),ss=rs,[Oe,_n]=$r("Tooltip",[Lt]),at=Lt(),ns="TooltipProvider",is=700,Xe="tooltip.open",[os,lt]=Oe(ns),cs=e=>{const{__scopeTooltip:r,delayDuration:t=is,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:i}=e,[c,u]=x.useState(!0),a=x.useRef(!1),h=x.useRef(0);return x.useEffect(()=>{const d=h.current;return()=>window.clearTimeout(d)},[]),x.createElement(os,{scope:r,isOpenDelayed:c,delayDuration:t,onOpen:x.useCallback(()=>{window.clearTimeout(h.current),u(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u(!0),s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(d=>{a.current=d},[]),disableHoverableContent:n},i)},ut="Tooltip",[as,Pe]=Oe(ut),ls=e=>{const{__scopeTooltip:r,children:t,open:s,defaultOpen:n=!1,onOpenChange:i,disableHoverableContent:c,delayDuration:u}=e,a=lt(ut,e.__scopeTooltip),h=at(r),[d,g]=x.useState(null),y=Mr(),w=x.useRef(0),E=c??a.disableHoverableContent,T=u??a.delayDuration,V=x.useRef(!1),[k=!1,_]=Fr({prop:s,defaultProp:n,onChange:L=>{L?(a.onOpen(),document.dispatchEvent(new CustomEvent(Xe))):a.onClose(),i?.(L)}}),R=x.useMemo(()=>k?V.current?"delayed-open":"instant-open":"closed",[k]),j=x.useCallback(()=>{window.clearTimeout(w.current),V.current=!1,_(!0)},[_]),S=x.useCallback(()=>{window.clearTimeout(w.current),_(!1)},[_]),X=x.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{V.current=!0,_(!0)},T)},[T,_]);return x.useEffect(()=>()=>window.clearTimeout(w.current),[]),x.createElement(Tr,h,x.createElement(as,{scope:r,contentId:y,open:k,stateAttribute:R,trigger:d,onTriggerChange:g,onTriggerEnter:x.useCallback(()=>{a.isOpenDelayed?X():j()},[a.isOpenDelayed,X,j]),onTriggerLeave:x.useCallback(()=>{E?S():window.clearTimeout(w.current)},[S,E]),onOpen:j,onClose:S,disableHoverableContent:E},t))},St="TooltipTrigger",us=x.forwardRef((e,r)=>{const{__scopeTooltip:t,...s}=e,n=Pe(St,t),i=lt(St,t),c=at(t),u=x.useRef(null),a=Ot(r,u,n.onTriggerChange),h=x.useRef(!1),d=x.useRef(!1),g=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),x.createElement(Sr,le({asChild:!0},c),x.createElement(rt.button,le({"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute},s,{ref:a,onPointerMove:ye(e.onPointerMove,y=>{y.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),d.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ye(e.onFocus,()=>{h.current||n.onOpen()}),onBlur:ye(e.onBlur,n.onClose),onClick:ye(e.onClick,n.onClose)})))}),fs="TooltipPortal",[$n,ds]=Oe(fs,{forceMount:void 0}),$e="TooltipContent",hs=x.forwardRef((e,r)=>{const t=ds($e,e.__scopeTooltip),{forceMount:s=t.forceMount,side:n="top",...i}=e,c=Pe($e,e.__scopeTooltip);return x.createElement(wr,{present:s||c.open},c.disableHoverableContent?x.createElement(sr,le({side:n},i,{ref:r})):x.createElement(gs,le({side:n},i,{ref:r})))}),gs=x.forwardRef((e,r)=>{const t=Pe($e,e.__scopeTooltip),s=lt($e,e.__scopeTooltip),n=x.useRef(null),i=Ot(r,n),[c,u]=x.useState(null),{trigger:a,onClose:h}=t,d=n.current,{onPointerInTransitChange:g}=s,y=x.useCallback(()=>{u(null),g(!1)},[g]),w=x.useCallback((E,T)=>{const V=E.currentTarget,k={x:E.clientX,y:E.clientY},_=ps(k,V.getBoundingClientRect()),R=ms(k,_),j=vs(T.getBoundingClientRect()),S=bs([...R,...j]);u(S),g(!0)},[g]);return x.useEffect(()=>()=>y(),[y]),x.useEffect(()=>{if(a&&d){const E=V=>w(V,d),T=V=>w(V,a);return a.addEventListener("pointerleave",E),d.addEventListener("pointerleave",T),()=>{a.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",T)}}},[a,d,w,y]),x.useEffect(()=>{if(c){const E=T=>{const V=T.target,k={x:T.clientX,y:T.clientY},_=a?.contains(V)||d?.contains(V),R=!xs(k,c);_?y():R&&(y(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[a,d,c,h,y]),x.createElement(sr,le({},e,{ref:i}))}),[ys,wn]=Oe(ut,{isInside:!1}),sr=x.forwardRef((e,r)=>{const{__scopeTooltip:t,children:s,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:c,...u}=e,a=Pe($e,t),h=at(t),{onClose:d}=a;return x.useEffect(()=>(document.addEventListener(Xe,d),()=>document.removeEventListener(Xe,d)),[d]),x.useEffect(()=>{if(a.trigger){const g=y=>{const w=y.target;w!=null&&w.contains(a.trigger)&&d()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[a.trigger,d]),x.createElement(Er,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:d},x.createElement(Ar,le({"data-state":a.stateAttribute},h,u,{ref:r,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),x.createElement(Cr,null,s),x.createElement(ys,{scope:t,isInside:!0},x.createElement(ss,{id:a.contentId,role:"tooltip"},n||s))))});function ps(e,r){const t=Math.abs(r.top-e.y),s=Math.abs(r.bottom-e.y),n=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(t,s,n,i)){case i:return"left";case n:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function ms(e,r,t=5){const s=[];switch(r){case"top":s.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":s.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":s.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":s.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return s}function vs(e){const{top:r,right:t,bottom:s,left:n}=e;return[{x:n,y:r},{x:t,y:r},{x:t,y:s},{x:n,y:s}]}function xs(e,r){const{x:t,y:s}=e;let n=!1;for(let i=0,c=r.length-1;i<r.length;c=i++){const u=r[i].x,a=r[i].y,h=r[c].x,d=r[c].y;a>s!=d>s&&t<(h-u)*(s-a)/(d-a)+u&&(n=!n)}return n}function bs(e){const r=e.slice();return r.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),_s(r)}function _s(e){if(e.length<=1)return e.slice();const r=[];for(let s=0;s<e.length;s++){const n=e[s];for(;r.length>=2;){const i=r[r.length-1],c=r[r.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))r.pop();else break}r.push(n)}r.pop();const t=[];for(let s=e.length-1;s>=0;s--){const n=e[s];for(;t.length>=2;){const i=t[t.length-1],c=t[t.length-2];if((i.x-c.x)*(n.y-c.y)>=(i.y-c.y)*(n.x-c.x))t.pop();else break}t.push(n)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}const $s=cs,ws=ls,Es=us,nr=hs,En=$s,An=ws,Cn=Es,As=x.forwardRef(({className:e,sideOffset:r=4,...t},s)=>ne.jsx(nr,{ref:s,sideOffset:r,className:ve("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));As.displayName=nr.displayName;function oe(e){return Array.isArray?Array.isArray(e):cr(e)==="[object Array]"}const Cs=1/0;function Ms(e){if(typeof e=="string")return e;let r=e+"";return r=="0"&&1/e==-Cs?"-0":r}function Fs(e){return e==null?"":Ms(e)}function se(e){return typeof e=="string"}function ir(e){return typeof e=="number"}function Ts(e){return e===!0||e===!1||Ss(e)&&cr(e)=="[object Boolean]"}function or(e){return typeof e=="object"}function Ss(e){return or(e)&&e!==null}function Y(e){return e!=null}function ze(e){return!e.trim().length}function cr(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ds="Incorrect 'index' type",Vs=e=>`Invalid value for key ${e}`,Rs=e=>`Pattern length exceeds max of ${e}.`,Is=e=>`Missing ${e} property in key`,ks=e=>`Property 'weight' in key '${e}' must be a positive integer`,Dt=Object.prototype.hasOwnProperty;class Ls{constructor(r){this._keys=[],this._keyMap={};let t=0;r.forEach(s=>{let n=ar(s);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(s=>{s.weight/=t})}get(r){return this._keyMap[r]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ar(e){let r=null,t=null,s=null,n=1,i=null;if(se(e)||oe(e))s=e,r=Vt(e),t=Qe(e);else{if(!Dt.call(e,"name"))throw new Error(Is("name"));const c=e.name;if(s=c,Dt.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(ks(c));r=Vt(c),t=Qe(c),i=e.getFn}return{path:r,id:t,weight:n,src:s,getFn:i}}function Vt(e){return oe(e)?e:e.split(".")}function Qe(e){return oe(e)?e.join("."):e}function Os(e,r){let t=[],s=!1;const n=(i,c,u)=>{if(Y(i))if(!c[u])t.push(i);else{let a=c[u];const h=i[a];if(!Y(h))return;if(u===c.length-1&&(se(h)||ir(h)||Ts(h)))t.push(Fs(h));else if(oe(h)){s=!0;for(let d=0,g=h.length;d<g;d+=1)n(h[d],c,u+1)}else c.length&&n(h,c,u+1)}};return n(e,se(r)?r.split("."):r,0),s?t:t[0]}const Ps={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ns={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,r)=>e.score===r.score?e.idx<r.idx?-1:1:e.score<r.score?-1:1},js={location:0,threshold:.6,distance:100},Us={useExtendedSearch:!1,getFn:Os,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var A={...Ns,...Ps,...js,...Us};const Bs=/[^ ]+/g;function Hs(e=1,r=3){const t=new Map,s=Math.pow(10,r);return{get(n){const i=n.match(Bs).length;if(t.has(i))return t.get(i);const c=1/Math.pow(i,.5*e),u=parseFloat(Math.round(c*s)/s);return t.set(i,u),u},clear(){t.clear()}}}class ft{constructor({getFn:r=A.getFn,fieldNormWeight:t=A.fieldNormWeight}={}){this.norm=Hs(t,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}setSources(r=[]){this.docs=r}setIndexRecords(r=[]){this.records=r}setKeys(r=[]){this.keys=r,this._keysMap={},r.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,se(this.docs[0])?this.docs.forEach((r,t)=>{this._addString(r,t)}):this.docs.forEach((r,t)=>{this._addObject(r,t)}),this.norm.clear())}add(r){const t=this.size();se(r)?this._addString(r,t):this._addObject(r,t)}removeAt(r){this.records.splice(r,1);for(let t=r,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(r,t){return r[this._keysMap[t]]}size(){return this.records.length}_addString(r,t){if(!Y(r)||ze(r))return;let s={v:r,i:t,n:this.norm.get(r)};this.records.push(s)}_addObject(r,t){let s={i:t,$:{}};this.keys.forEach((n,i)=>{let c=n.getFn?n.getFn(r):this.getFn(r,n.path);if(Y(c)){if(oe(c)){let u=[];const a=[{nestedArrIndex:-1,value:c}];for(;a.length;){const{nestedArrIndex:h,value:d}=a.pop();if(Y(d))if(se(d)&&!ze(d)){let g={v:d,i:h,n:this.norm.get(d)};u.push(g)}else oe(d)&&d.forEach((g,y)=>{a.push({nestedArrIndex:y,value:g})})}s.$[i]=u}else if(se(c)&&!ze(c)){let u={v:c,n:this.norm.get(c)};s.$[i]=u}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function lr(e,r,{getFn:t=A.getFn,fieldNormWeight:s=A.fieldNormWeight}={}){const n=new ft({getFn:t,fieldNormWeight:s});return n.setKeys(e.map(ar)),n.setSources(r),n.create(),n}function Ws(e,{getFn:r=A.getFn,fieldNormWeight:t=A.fieldNormWeight}={}){const{keys:s,records:n}=e,i=new ft({getFn:r,fieldNormWeight:t});return i.setKeys(s),i.setIndexRecords(n),i}function Ce(e,{errors:r=0,currentLocation:t=0,expectedLocation:s=0,distance:n=A.distance,ignoreLocation:i=A.ignoreLocation}={}){const c=r/e.length;if(i)return c;const u=Math.abs(s-t);return n?c+u/n:u?1:c}function Ks(e=[],r=A.minMatchCharLength){let t=[],s=-1,n=-1,i=0;for(let c=e.length;i<c;i+=1){let u=e[i];u&&s===-1?s=i:!u&&s!==-1&&(n=i-1,n-s+1>=r&&t.push([s,n]),s=-1)}return e[i-1]&&i-s>=r&&t.push([s,i-1]),t}const de=32;function Gs(e,r,t,{location:s=A.location,distance:n=A.distance,threshold:i=A.threshold,findAllMatches:c=A.findAllMatches,minMatchCharLength:u=A.minMatchCharLength,includeMatches:a=A.includeMatches,ignoreLocation:h=A.ignoreLocation}={}){if(r.length>de)throw new Error(Rs(de));const d=r.length,g=e.length,y=Math.max(0,Math.min(s,g));let w=i,E=y;const T=u>1||a,V=T?Array(g):[];let k;for(;(k=e.indexOf(r,E))>-1;){let L=Ce(r,{currentLocation:k,expectedLocation:y,distance:n,ignoreLocation:h});if(w=Math.min(L,w),E=k+d,T){let Q=0;for(;Q<d;)V[k+Q]=1,Q+=1}}E=-1;let _=[],R=1,j=d+g;const S=1<<d-1;for(let L=0;L<d;L+=1){let Q=0,U=j;for(;Q<U;)Ce(r,{errors:L,currentLocation:y+U,expectedLocation:y,distance:n,ignoreLocation:h})<=w?Q=U:j=U,U=Math.floor((j-Q)/2+Q);j=U;let ee=Math.max(1,y-U+1),z=c?g:Math.min(y+U,g)+d,C=Array(z+2);C[z+1]=(1<<L)-1;for(let F=z;F>=ee;F-=1){let B=F-1,K=t[e.charAt(B)];if(T&&(V[B]=+!!K),C[F]=(C[F+1]<<1|1)&K,L&&(C[F]|=(_[F+1]|_[F])<<1|1|_[F+1]),C[F]&S&&(R=Ce(r,{errors:L,currentLocation:B,expectedLocation:y,distance:n,ignoreLocation:h}),R<=w)){if(w=R,E=B,E<=y)break;ee=Math.max(1,2*y-E)}}if(Ce(r,{errors:L+1,currentLocation:y,expectedLocation:y,distance:n,ignoreLocation:h})>w)break;_=C}const X={isMatch:E>=0,score:Math.max(.001,R)};if(T){const L=Ks(V,u);L.length?a&&(X.indices=L):X.isMatch=!1}return X}function zs(e){let r={};for(let t=0,s=e.length;t<s;t+=1){const n=e.charAt(t);r[n]=(r[n]||0)|1<<s-t-1}return r}class ur{constructor(r,{location:t=A.location,threshold:s=A.threshold,distance:n=A.distance,includeMatches:i=A.includeMatches,findAllMatches:c=A.findAllMatches,minMatchCharLength:u=A.minMatchCharLength,isCaseSensitive:a=A.isCaseSensitive,ignoreLocation:h=A.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:n,includeMatches:i,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:a,ignoreLocation:h},this.pattern=a?r:r.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(y,w)=>{this.chunks.push({pattern:y,alphabet:zs(y),startIndex:w})},g=this.pattern.length;if(g>de){let y=0;const w=g%de,E=g-w;for(;y<E;)d(this.pattern.substr(y,de),y),y+=de;if(w){const T=g-de;d(this.pattern.substr(T),T)}}else d(this.pattern,0)}searchIn(r){const{isCaseSensitive:t,includeMatches:s}=this.options;if(t||(r=r.toLowerCase()),this.pattern===r){let E={isMatch:!0,score:0};return s&&(E.indices=[[0,r.length-1]]),E}const{location:n,distance:i,threshold:c,findAllMatches:u,minMatchCharLength:a,ignoreLocation:h}=this.options;let d=[],g=0,y=!1;this.chunks.forEach(({pattern:E,alphabet:T,startIndex:V})=>{const{isMatch:k,score:_,indices:R}=Gs(r,E,T,{location:n+V,distance:i,threshold:c,findAllMatches:u,minMatchCharLength:a,includeMatches:s,ignoreLocation:h});k&&(y=!0),g+=_,k&&R&&(d=[...d,...R])});let w={isMatch:y,score:y?g/this.chunks.length:1};return y&&s&&(w.indices=d),w}}class ue{constructor(r){this.pattern=r}static isMultiMatch(r){return Rt(r,this.multiRegex)}static isSingleMatch(r){return Rt(r,this.singleRegex)}search(){}}function Rt(e,r){const t=e.match(r);return t?t[1]:null}class Ys extends ue{constructor(r){super(r)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(r){const t=r===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Xs extends ue{constructor(r){super(r)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(r){const s=r.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,r.length-1]}}}class Qs extends ue{constructor(r){super(r)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(r){const t=r.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Js extends ue{constructor(r){super(r)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(r){const t=!r.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,r.length-1]}}}class qs extends ue{constructor(r){super(r)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(r){const t=r.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[r.length-this.pattern.length,r.length-1]}}}class Zs extends ue{constructor(r){super(r)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(r){const t=!r.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,r.length-1]}}}class fr extends ue{constructor(r,{location:t=A.location,threshold:s=A.threshold,distance:n=A.distance,includeMatches:i=A.includeMatches,findAllMatches:c=A.findAllMatches,minMatchCharLength:u=A.minMatchCharLength,isCaseSensitive:a=A.isCaseSensitive,ignoreLocation:h=A.ignoreLocation}={}){super(r),this._bitapSearch=new ur(r,{location:t,threshold:s,distance:n,includeMatches:i,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:a,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(r){return this._bitapSearch.searchIn(r)}}class dr extends ue{constructor(r){super(r)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(r){let t=0,s;const n=[],i=this.pattern.length;for(;(s=r.indexOf(this.pattern,t))>-1;)t=s+i,n.push([s,t-1]);const c=!!n.length;return{isMatch:c,score:c?0:1,indices:n}}}const Je=[Ys,dr,Qs,Js,Zs,qs,Xs,fr],It=Je.length,en=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,tn="|";function rn(e,r={}){return e.split(tn).map(t=>{let s=t.trim().split(en).filter(i=>i&&!!i.trim()),n=[];for(let i=0,c=s.length;i<c;i+=1){const u=s[i];let a=!1,h=-1;for(;!a&&++h<It;){const d=Je[h];let g=d.isMultiMatch(u);g&&(n.push(new d(g,r)),a=!0)}if(!a)for(h=-1;++h<It;){const d=Je[h];let g=d.isSingleMatch(u);if(g){n.push(new d(g,r));break}}}return n})}const sn=new Set([fr.type,dr.type]);class nn{constructor(r,{isCaseSensitive:t=A.isCaseSensitive,includeMatches:s=A.includeMatches,minMatchCharLength:n=A.minMatchCharLength,ignoreLocation:i=A.ignoreLocation,findAllMatches:c=A.findAllMatches,location:u=A.location,threshold:a=A.threshold,distance:h=A.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:s,minMatchCharLength:n,findAllMatches:c,ignoreLocation:i,location:u,threshold:a,distance:h},this.pattern=t?r:r.toLowerCase(),this.query=rn(this.pattern,this.options)}static condition(r,t){return t.useExtendedSearch}searchIn(r){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:n}=this.options;r=n?r:r.toLowerCase();let i=0,c=[],u=0;for(let a=0,h=t.length;a<h;a+=1){const d=t[a];c.length=0,i=0;for(let g=0,y=d.length;g<y;g+=1){const w=d[g],{isMatch:E,indices:T,score:V}=w.search(r);if(E){if(i+=1,u+=V,s){const k=w.constructor.type;sn.has(k)?c=[...c,...T]:c.push(T)}}else{u=0,i=0,c.length=0;break}}if(i){let g={isMatch:!0,score:u/i};return s&&(g.indices=c),g}}return{isMatch:!1,score:1}}}const qe=[];function on(...e){qe.push(...e)}function Ze(e,r){for(let t=0,s=qe.length;t<s;t+=1){let n=qe[t];if(n.condition(e,r))return new n(e,r)}return new ur(e,r)}const Ie={AND:"$and",OR:"$or"},et={PATH:"$path",PATTERN:"$val"},tt=e=>!!(e[Ie.AND]||e[Ie.OR]),cn=e=>!!e[et.PATH],an=e=>!oe(e)&&or(e)&&!tt(e),kt=e=>({[Ie.AND]:Object.keys(e).map(r=>({[r]:e[r]}))});function hr(e,r,{auto:t=!0}={}){const s=n=>{let i=Object.keys(n);const c=cn(n);if(!c&&i.length>1&&!tt(n))return s(kt(n));if(an(n)){const a=c?n[et.PATH]:i[0],h=c?n[et.PATTERN]:n[a];if(!se(h))throw new Error(Vs(a));const d={keyId:Qe(a),pattern:h};return t&&(d.searcher=Ze(h,r)),d}let u={children:[],operator:i[0]};return i.forEach(a=>{const h=n[a];oe(h)&&h.forEach(d=>{u.children.push(s(d))})}),u};return tt(e)||(e=kt(e)),s(e)}function ln(e,{ignoreFieldNorm:r=A.ignoreFieldNorm}){e.forEach(t=>{let s=1;t.matches.forEach(({key:n,norm:i,score:c})=>{const u=n?n.weight:null;s*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(r?1:i))}),t.score=s})}function un(e,r){const t=e.matches;r.matches=[],Y(t)&&t.forEach(s=>{if(!Y(s.indices)||!s.indices.length)return;const{indices:n,value:i}=s;let c={indices:n,value:i};s.key&&(c.key=s.key.src),s.idx>-1&&(c.refIndex=s.idx),r.matches.push(c)})}function fn(e,r){r.score=e.score}function dn(e,r,{includeMatches:t=A.includeMatches,includeScore:s=A.includeScore}={}){const n=[];return t&&n.push(un),s&&n.push(fn),e.map(i=>{const{idx:c}=i,u={item:r[c],refIndex:c};return n.length&&n.forEach(a=>{a(i,u)}),u})}class Ae{constructor(r,t={},s){this.options={...A,...t},this.options.useExtendedSearch,this._keyStore=new Ls(this.options.keys),this.setCollection(r,s)}setCollection(r,t){if(this._docs=r,t&&!(t instanceof ft))throw new Error(Ds);this._myIndex=t||lr(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(r){Y(r)&&(this._docs.push(r),this._myIndex.add(r))}remove(r=()=>!1){const t=[];for(let s=0,n=this._docs.length;s<n;s+=1){const i=this._docs[s];r(i,s)&&(this.removeAt(s),s-=1,n-=1,t.push(i))}return t}removeAt(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}getIndex(){return this._myIndex}search(r,{limit:t=-1}={}){const{includeMatches:s,includeScore:n,shouldSort:i,sortFn:c,ignoreFieldNorm:u}=this.options;let a=se(r)?se(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return ln(a,{ignoreFieldNorm:u}),i&&a.sort(c),ir(t)&&t>-1&&(a=a.slice(0,t)),dn(a,this._docs,{includeMatches:s,includeScore:n})}_searchStringList(r){const t=Ze(r,this.options),{records:s}=this._myIndex,n=[];return s.forEach(({v:i,i:c,n:u})=>{if(!Y(i))return;const{isMatch:a,score:h,indices:d}=t.searchIn(i);a&&n.push({item:i,idx:c,matches:[{score:h,value:i,norm:u,indices:d}]})}),n}_searchLogical(r){const t=hr(r,this.options),s=(u,a,h)=>{if(!u.children){const{keyId:g,searcher:y}=u,w=this._findMatches({key:this._keyStore.get(g),value:this._myIndex.getValueForItemAtKeyId(a,g),searcher:y});return w&&w.length?[{idx:h,item:a,matches:w}]:[]}const d=[];for(let g=0,y=u.children.length;g<y;g+=1){const w=u.children[g],E=s(w,a,h);if(E.length)d.push(...E);else if(u.operator===Ie.AND)return[]}return d},n=this._myIndex.records,i={},c=[];return n.forEach(({$:u,i:a})=>{if(Y(u)){let h=s(t,u,a);h.length&&(i[a]||(i[a]={idx:a,item:u,matches:[]},c.push(i[a])),h.forEach(({matches:d})=>{i[a].matches.push(...d)}))}}),c}_searchObjectList(r){const t=Ze(r,this.options),{keys:s,records:n}=this._myIndex,i=[];return n.forEach(({$:c,i:u})=>{if(!Y(c))return;let a=[];s.forEach((h,d)=>{a.push(...this._findMatches({key:h,value:c[d],searcher:t}))}),a.length&&i.push({idx:u,item:c,matches:a})}),i}_findMatches({key:r,value:t,searcher:s}){if(!Y(t))return[];let n=[];if(oe(t))t.forEach(({v:i,i:c,n:u})=>{if(!Y(i))return;const{isMatch:a,score:h,indices:d}=s.searchIn(i);a&&n.push({score:h,key:r,value:i,idx:c,norm:u,indices:d})});else{const{v:i,n:c}=t,{isMatch:u,score:a,indices:h}=s.searchIn(i);u&&n.push({score:a,key:r,value:i,norm:c,indices:h})}return n}}Ae.version="6.6.2";Ae.createIndex=lr;Ae.parseIndex=Ws;Ae.config=A;Ae.parseQuery=hr;on(nn);export{rs as $,xn as F,En as T,bn as a,Jr as b,qr as c,Zr as d,es as e,ts as f,Ae as g,An as h,Cn as i,As as j,vn as u};
