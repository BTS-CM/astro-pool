import{u as F,l as z,j as s,i as I}from"./utils.f2cWa0M5.js";import{r as n}from"./index.sXsv9c-e.js";import{F as L}from"./index.esm.MzjYIzP_.js";import{C as j,a as b,b as p,c as u}from"./users.jrnbX0_8.js";import{D as q,e as G,a as J,b as K,c as O,d as Q}from"./dialog.syK3Ff39.js";import{H as P,a as D,b as f}from"./hover-card.rVxnnVoR.js";import{f as B,g as S}from"./Init.DukeMtId.js";function os(w){const{assetA:a,assetB:i,assetAData:y,assetBData:C,chain:d}=w,{t:l,i18n:U}=F(z.get(),{i18n:I}),h=n.useSyncExternalStore(B.subscribe,B.get,()=>!0),m=n.useSyncExternalStore(S.subscribe,S.get,()=>!0),r=n.useMemo(()=>d&&(h||m)?d==="bitshares"?h:m:[],[h,m,d]),[v,k]=n.useState(),[T,H]=n.useState(),[A,E]=n.useState();n.useEffect(()=>{function t(){const o=r.filter(e=>e.asset_a_symbol===a||e.asset_b_symbol===a);k(o)}r&&a&&t()},[r,a]),n.useEffect(()=>{function t(){const o=r.filter(e=>e.asset_a_symbol===i||e.asset_b_symbol===i);H(o)}r&&i&&t()},[r,i]),n.useEffect(()=>{function t(){const o=r.filter(e=>e.asset_a_symbol===a&&e.asset_b_symbol===i||e.asset_a_symbol===i&&e.asset_b_symbol===a);E(o&&o.length?o:[])}r&&a&&i&&t()},[r,a,i]);function x({id:t,share_asset_symbol:o,asset_a_symbol:e,asset_b_symbol:_}){return s.jsxs("div",{className:"grid grid-cols-10",children:[s.jsx("div",{className:"col-span-1",children:s.jsx("p",{children:t})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{children:o})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{children:e})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{children:_})})]})}const M=({index:t,style:o})=>{const e=v[t];return s.jsx("a",{style:o,href:`/pool/index.html?pool=${e.id}`,children:s.jsx(x,{id:e.id,share_asset_symbol:e.share_asset_symbol,asset_a_symbol:e.asset_a_symbol,asset_b_symbol:e.asset_b_symbol})},`a_${e.id}`)},$=({index:t,style:o})=>{const e=T[t];return s.jsx("a",{style:o,href:`/pool/index.html?pool=${e.id}`,children:s.jsx(x,{id:e.id,share_asset_symbol:e.share_asset_symbol,asset_a_symbol:e.asset_a_symbol,asset_b_symbol:e.asset_b_symbol})},`a_${e.id}`)},R=({index:t,style:o})=>{const e=A[t];return s.jsx("a",{style:o,href:`/pool/index.html?pool=${e.id}`,children:s.jsx(x,{id:e.id,share_asset_symbol:e.share_asset_symbol,asset_a_symbol:e.asset_a_symbol,asset_b_symbol:e.asset_b_symbol})},`a_${e.id}`)};function g({title:t,poolArray:o,dialogTitle:e,dialogDescription:_,type:N}){if(!o)return s.jsx(j,{children:s.jsxs(b,{className:"pb-2",children:[s.jsx(p,{children:t}),s.jsx(u,{children:l("PoolDialogs:loadingMessage")})]})});if(!o.length)return s.jsx(j,{children:s.jsxs(b,{className:"pb-2",children:[s.jsx(p,{children:t}),s.jsx(u,{children:l("PoolDialogs:noPoolsFoundMessage")})]})});let c;return N==="A"?c=M:N==="B"?c=$:c=R,s.jsxs(q,{children:[s.jsx(G,{asChild:!0,children:s.jsx(j,{children:s.jsxs(b,{className:"pb-3 pt-3",children:[s.jsx(p,{children:t}),s.jsx(u,{children:l("PoolDialogs:poolsFound",{count:o&&o.length})})]})})}),s.jsxs(J,{className:"sm:max-w-[800px] bg-white",children:[s.jsxs(K,{children:[s.jsx(O,{children:e}),s.jsx(Q,{children:_})]}),s.jsxs("div",{className:"grid grid-cols-1",children:[s.jsxs("div",{className:"grid grid-cols-10",children:[s.jsx("div",{className:"col-span-1",children:l("PoolDialogs:idColumnTitle")}),s.jsx("div",{className:"col-span-3",children:l("PoolDialogs:shareAssetColumnTitle")}),s.jsx("div",{className:"col-span-3",children:l("PoolDialogs:assetAColumnTitle")}),s.jsx("div",{className:"col-span-3",children:l("PoolDialogs:assetBColumnTitle")})]}),s.jsx(L,{height:300,itemCount:o.length,itemSize:35,className:"w-full",children:c})]})]})]})}return s.jsxs("div",{className:"grid grid-cols-3 gap-5 mt-3",children:[s.jsxs(P,{children:[s.jsx(D,{asChild:!0,children:s.jsx("div",{children:s.jsx(g,{title:l("PoolDialogs:assetAPoolsTitle",{assetA:a&&a.length<12?a:y.id}),poolArray:v,dialogTitle:l("PoolDialogs:assetAPoolsDialogTitle",{assetA:a}),dialogDescription:l("PoolDialogs:assetAPoolsDialogDescription",{assetA:a,assetAId:y.id}),type:"A"})})}),s.jsx(f,{className:"w-60",children:l("PoolDialogs:assetAHoverCardContent",{assetA:a})})]},"hover_a"),s.jsxs(P,{children:[s.jsx(D,{asChild:!0,children:s.jsx("div",{children:s.jsx(g,{title:l("PoolDialogs:marketPoolsTitle"),poolArray:A,dialogTitle:l("PoolDialogs:marketPoolsDialogTitle",{assetA:a,assetB:i}),dialogDescription:l("PoolDialogs:marketPoolsDialogDescription",{assetA:a,assetB:i}),type:"Market"})})}),s.jsx(f,{className:"w-60",children:l("PoolDialogs:marketHoverCardContent",{assetA:a,assetB:i})})]},"hover_b"),s.jsxs(P,{children:[s.jsx(D,{asChild:!0,children:s.jsx("div",{children:s.jsx(g,{title:l("PoolDialogs:assetBPoolsTitle",{assetB:i&&i.length<12?i:C.id}),poolArray:T,dialogTitle:l("PoolDialogs:assetBPoolsDialogTitle",{assetB:i}),dialogDescription:l("PoolDialogs:assetBPoolsDialogDescription",{assetB:i,assetBId:C.id}),type:"B"})})}),s.jsx(f,{className:"w-60",children:l("PoolDialogs:assetBHoverCardContent",{assetB:i})})]},"hover_c")]})}export{os as P};
