import{j as e,G as X,s as K,a4 as le,t as te,H as U,a as Y,e as J,C as q,b as B,c as L,d as H,D as P,k as E,l as A,m as S,n as D,o as F,y as ce,M as ie,N as de,_ as M,P as ne,W as ue,X as he,a5 as me,a0 as pe,Y as fe,Z as xe,a1 as be,z as ge,T as C,a6 as je,h as ye,B as I}from"./CurrentUser.fcde08c5.js";import{r as a}from"./index.178a5b5e.js";import{F as ve}from"./index.esm.c160ed77.js";import{$ as _e}from"./select.3513a8b7.js";import{S as O}from"./scroll-area.ba77b972.js";import{h as $}from"./common.1877ab42.js";import{E as N}from"./DeepLinkDialog.a84028eb.js";function st({className:n,...i}){return e.jsx("div",{className:X("animate-pulse rounded-md bg-primary/10",n),...i})}const[it]=K({fetcher:async(n,i)=>{const t=i.replace("1.3.","2.3."),o=await fetch(`http://localhost:8080/cache/dynamic/${n}/${t}`,{method:"GET"});if(!o.ok){console.log(`Failed to fetch ${t} dynamic data`);return}const s=await o.json();if(s&&s.result)return console.log(`Fetched ${t} dynamic data`),s.result}}),[nt]=K({fetcher:async(n,i)=>{const t=await fetch(`http://localhost:8080/api/getObjects/${n}`,{method:"POST",body:JSON.stringify([i])});if(!t.ok){console.log("Failed to fetch bitasset data");return}const o=await t.json();if(o&&o.result&&o.result.length)return o.result[0]}}),[ot]=K({fetcher:async(n,i)=>{const t=await fetch(`http://localhost:8080/cache/asset/${n}/${i}`,{method:"GET"});if(!t.ok){console.log(`Failed to fetch asset: ${i}`);return}const o=await t.json();if(o&&o.result)return console.log("Fetched asset data"),le([o.result]),o.result}});function at(n){const{assetA:i,assetB:t,assetAData:o,assetBData:s}=n,r=a.useSyncExternalStore(te.subscribe,te.get,()=>!0),[c,x]=a.useState(),[d,j]=a.useState(),[m,f]=a.useState();a.useEffect(()=>{function u(){console.log("Processing asset A pools");const h=r.filter(l=>l.asset_a_symbol===i||l.asset_b_symbol===i);x(h)}r&&i&&u()},[r,i]),a.useEffect(()=>{function u(){console.log("Processing asset B pools");const h=r.filter(l=>l.asset_a_symbol===t||l.asset_b_symbol===t);j(h)}r&&t&&u()},[r,t]),a.useEffect(()=>{function u(){console.log("Processing asset market pools");const h=r.filter(l=>l.asset_a_symbol===i&&l.asset_b_symbol===t||l.asset_a_symbol===t&&l.asset_b_symbol===i);f(h&&h.length?h:[])}r&&i&&t&&u()},[r,i,t]);function y({id:u,share_asset_symbol:h,asset_a_symbol:l,asset_b_symbol:w}){return e.jsxs("div",{className:"grid grid-cols-10",children:[e.jsx("div",{className:"col-span-1",children:e.jsx("p",{children:u})}),e.jsx("div",{className:"col-span-3",children:e.jsx("p",{children:h})}),e.jsx("div",{className:"col-span-3",children:e.jsx("p",{children:l})}),e.jsx("div",{className:"col-span-3",children:e.jsx("p",{children:w})})]})}const b=({index:u,style:h})=>{const l=c[u];return e.jsx("a",{style:h,href:`/pool/index.html?pool=${l.id}`,children:e.jsx(y,{id:l.id,share_asset_symbol:l.share_asset_symbol,asset_a_symbol:l.asset_a_symbol,asset_b_symbol:l.asset_b_symbol})},`a_${l.id}`)},_=({index:u,style:h})=>{const l=d[u];return e.jsx("a",{style:h,href:`/pool/index.html?pool=${l.id}`,children:e.jsx(y,{id:l.id,share_asset_symbol:l.share_asset_symbol,asset_a_symbol:l.asset_a_symbol,asset_b_symbol:l.asset_b_symbol})},`a_${l.id}`)},p=({index:u,style:h})=>{const l=m[u];return e.jsx("a",{style:h,href:`/pool/index.html?pool=${l.id}`,children:e.jsx(y,{id:l.id,share_asset_symbol:l.share_asset_symbol,asset_a_symbol:l.asset_a_symbol,asset_b_symbol:l.asset_b_symbol})},`a_${l.id}`)};function v({title:u,poolArray:h,dialogTitle:l,dialogDescription:w,type:k}){if(!h)return e.jsx(q,{children:e.jsxs(B,{className:"pb-2",children:[e.jsx(L,{children:u}),e.jsx(H,{children:"loading..."})]})});if(!h.length)return e.jsx(q,{children:e.jsxs(B,{className:"pb-2",children:[e.jsx(L,{children:u}),e.jsx(H,{children:"0 pools found"})]})});let T;return k==="A"?T=b:k==="B"?T=_:T=p,e.jsxs(P,{children:[e.jsx(E,{asChild:!0,children:e.jsx(q,{children:e.jsxs(B,{className:"pb-3 pt-3",children:[e.jsx(L,{children:u}),e.jsxs(H,{children:[h&&h.length," pools found"]})]})})}),e.jsxs(A,{className:"sm:max-w-[800px] bg-white",children:[e.jsxs(S,{children:[e.jsx(D,{children:l}),e.jsx(F,{children:w})]}),e.jsxs("div",{className:"grid grid-cols-1",children:[e.jsxs("div",{className:"grid grid-cols-10",children:[e.jsx("div",{className:"col-span-1",children:"id"}),e.jsx("div",{className:"col-span-3",children:"Share asset"}),e.jsx("div",{className:"col-span-3",children:"Asset A"}),e.jsx("div",{className:"col-span-3",children:"Asset B"})]}),e.jsx(ve,{height:300,itemCount:h.length,itemSize:35,className:"w-full",children:T})]})]})]})}return e.jsxs("div",{className:"grid grid-cols-3 gap-5 mt-5",children:[e.jsxs(U,{children:[e.jsx(Y,{asChild:!0,children:e.jsx("div",{children:e.jsx(v,{title:`${i&&i.length<12?i:o.id} Pools`,poolArray:c,dialogTitle:`${i} Pools`,dialogDescription:`These Bitshares pools use ${i} (${o.id}) as one of the assets.`,type:"A"})})}),e.jsxs(J,{className:"w-60",children:["Swap ",i," using one of these liquidity pools"]})]},"hover_a"),e.jsxs(U,{children:[e.jsx(Y,{asChild:!0,children:e.jsx("div",{children:e.jsx(v,{title:"Market Pools",poolArray:m,dialogTitle:`${i}/${t} Pools`,dialogDescription:`These pools trade between ${i} and ${t}.`,type:"Market"})})}),e.jsxs(J,{className:"w-60",children:["Swap between ",i," and ",t," using one of these liquidity pools"]})]},"hover_b"),e.jsxs(U,{children:[e.jsx(Y,{asChild:!0,children:e.jsx("div",{children:e.jsx(v,{title:`${t&&t.length<12?t:s.id} Pools`,poolArray:d,dialogTitle:`${t} Pools`,dialogDescription:`These Bitshares pools use ${t} (${s.id})  as one of the assets.`,type:"B"})})}),e.jsxs(J,{className:"w-60",children:["Swap ",t," using one of these liquidity pools"]})]},"hover_c")]})}const[z,rt]=ce("Tooltip",[ie]),W=ie(),$e="TooltipProvider",we=700,V="tooltip.open",[ke,Q]=z($e),Te=n=>{const{__scopeTooltip:i,delayDuration:t=we,skipDelayDuration:o=300,disableHoverableContent:s=!1,children:r}=n,[c,x]=a.useState(!0),d=a.useRef(!1),j=a.useRef(0);return a.useEffect(()=>{const m=j.current;return()=>window.clearTimeout(m)},[]),a.createElement(ke,{scope:i,isOpenDelayed:c,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(j.current),x(!1)},[]),onClose:a.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>x(!0),o)},[o]),isPointerInTransitRef:d,onPointerInTransitChange:a.useCallback(m=>{d.current=m},[]),disableHoverableContent:s},r)},Z="Tooltip",[Ce,G]=z(Z),Ne=n=>{const{__scopeTooltip:i,children:t,open:o,defaultOpen:s=!1,onOpenChange:r,disableHoverableContent:c,delayDuration:x}=n,d=Q(Z,n.__scopeTooltip),j=W(i),[m,f]=a.useState(null),y=pe(),b=a.useRef(0),_=c??d.disableHoverableContent,p=x??d.delayDuration,v=a.useRef(!1),[u=!1,h]=fe({prop:o,defaultProp:s,onChange:ee=>{ee?(d.onOpen(),document.dispatchEvent(new CustomEvent(V))):d.onClose(),r?.(ee)}}),l=a.useMemo(()=>u?v.current?"delayed-open":"instant-open":"closed",[u]),w=a.useCallback(()=>{window.clearTimeout(b.current),v.current=!1,h(!0)},[h]),k=a.useCallback(()=>{window.clearTimeout(b.current),h(!1)},[h]),T=a.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{v.current=!0,h(!0)},p)},[p,h]);return a.useEffect(()=>()=>window.clearTimeout(b.current),[]),a.createElement(xe,j,a.createElement(Ce,{scope:i,contentId:y,open:u,stateAttribute:l,trigger:m,onTriggerChange:f,onTriggerEnter:a.useCallback(()=>{d.isOpenDelayed?T():w()},[d.isOpenDelayed,T,w]),onTriggerLeave:a.useCallback(()=>{_?k():window.clearTimeout(b.current)},[k,_]),onOpen:w,onClose:k,disableHoverableContent:_},t))},se="TooltipTrigger",Pe=a.forwardRef((n,i)=>{const{__scopeTooltip:t,...o}=n,s=G(se,t),r=Q(se,t),c=W(t),x=a.useRef(null),d=ne(i,x,s.onTriggerChange),j=a.useRef(!1),m=a.useRef(!1),f=a.useCallback(()=>j.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.createElement(be,M({asChild:!0},c),a.createElement(ge.button,M({"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute},o,{ref:d,onPointerMove:C(n.onPointerMove,y=>{y.pointerType!=="touch"&&!m.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:C(n.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:C(n.onPointerDown,()=>{j.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:C(n.onFocus,()=>{j.current||s.onOpen()}),onBlur:C(n.onBlur,s.onClose),onClick:C(n.onClick,s.onClose)})))}),Ee="TooltipPortal",[lt,Ae]=z(Ee,{forceMount:void 0}),R="TooltipContent",Se=a.forwardRef((n,i)=>{const t=Ae(R,n.__scopeTooltip),{forceMount:o=t.forceMount,side:s="top",...r}=n,c=G(R,n.__scopeTooltip);return a.createElement(de,{present:o||c.open},c.disableHoverableContent?a.createElement(oe,M({side:s},r,{ref:i})):a.createElement(De,M({side:s},r,{ref:i})))}),De=a.forwardRef((n,i)=>{const t=G(R,n.__scopeTooltip),o=Q(R,n.__scopeTooltip),s=a.useRef(null),r=ne(i,s),[c,x]=a.useState(null),{trigger:d,onClose:j}=t,m=s.current,{onPointerInTransitChange:f}=o,y=a.useCallback(()=>{x(null),f(!1)},[f]),b=a.useCallback((_,p)=>{const v=_.currentTarget,u={x:_.clientX,y:_.clientY},h=Fe(u,v.getBoundingClientRect()),l=Ie(u,h),w=Re(p.getBoundingClientRect()),k=qe([...l,...w]);x(k),f(!0)},[f]);return a.useEffect(()=>()=>y(),[y]),a.useEffect(()=>{if(d&&m){const _=v=>b(v,m),p=v=>b(v,d);return d.addEventListener("pointerleave",_),m.addEventListener("pointerleave",p),()=>{d.removeEventListener("pointerleave",_),m.removeEventListener("pointerleave",p)}}},[d,m,b,y]),a.useEffect(()=>{if(c){const _=p=>{const v=p.target,u={x:p.clientX,y:p.clientY},h=d?.contains(v)||m?.contains(v),l=!Oe(u,c);h?y():l&&(y(),j())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[d,m,c,j,y]),a.createElement(oe,M({},n,{ref:r}))}),[Me,ct]=z(Z,{isInside:!1}),oe=a.forwardRef((n,i)=>{const{__scopeTooltip:t,children:o,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:c,...x}=n,d=G(R,t),j=W(t),{onClose:m}=d;return a.useEffect(()=>(document.addEventListener(V,m),()=>document.removeEventListener(V,m)),[m]),a.useEffect(()=>{if(d.trigger){const f=y=>{const b=y.target;b!=null&&b.contains(d.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,m]),a.createElement(ue,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:c,onFocusOutside:f=>f.preventDefault(),onDismiss:m},a.createElement(he,M({"data-state":d.stateAttribute},j,x,{ref:i,style:{...x.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),a.createElement(me,null,o),a.createElement(Me,{scope:t,isInside:!0},a.createElement(_e,{id:d.contentId,role:"tooltip"},s||o))))});function Fe(n,i){const t=Math.abs(i.top-n.y),o=Math.abs(i.bottom-n.y),s=Math.abs(i.right-n.x),r=Math.abs(i.left-n.x);switch(Math.min(t,o,s,r)){case r:return"left";case s:return"right";case t:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Ie(n,i,t=5){const o=[];switch(i){case"top":o.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":o.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":o.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":o.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return o}function Re(n){const{top:i,right:t,bottom:o,left:s}=n;return[{x:s,y:i},{x:t,y:i},{x:t,y:o},{x:s,y:o}]}function Oe(n,i){const{x:t,y:o}=n;let s=!1;for(let r=0,c=i.length-1;r<i.length;c=r++){const x=i[r].x,d=i[r].y,j=i[c].x,m=i[c].y;d>o!=m>o&&t<(j-x)*(o-d)/(m-d)+x&&(s=!s)}return s}function qe(n){const i=n.slice();return i.sort((t,o)=>t.x<o.x?-1:t.x>o.x?1:t.y<o.y?-1:t.y>o.y?1:0),Be(i)}function Be(n){if(n.length<=1)return n.slice();const i=[];for(let o=0;o<n.length;o++){const s=n[o];for(;i.length>=2;){const r=i[i.length-1],c=i[i.length-2];if((r.x-c.x)*(s.y-c.y)>=(r.y-c.y)*(s.x-c.x))i.pop();else break}i.push(s)}i.pop();const t=[];for(let o=n.length-1;o>=0;o--){const s=n[o];for(;t.length>=2;){const r=t[t.length-1],c=t[t.length-2];if((r.x-c.x)*(s.y-c.y)>=(r.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}return t.pop(),i.length===1&&t.length===1&&i[0].x===t[0].x&&i[0].y===t[0].y?i:i.concat(t)}const Le=Te,He=Ne,ze=Pe,ae=Se,Ge=Le,Ue=He,Ye=ze,re=a.forwardRef(({className:n,sideOffset:i=4,...t},o)=>e.jsx(ae,{ref:o,sideOffset:i,className:X("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));re.displayName=ae.displayName;const Je=je("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ve({className:n,variant:i,...t}){return e.jsx("div",{className:X(Je({variant:i}),n),...t})}const g=n=>{const[i,t]=a.useState(!1),[o,s]=a.useState(!1),r=c=>{c.stopPropagation(),i||t(!0)};return e.jsx("div",{className:"col-span-1",children:e.jsxs("div",{className:"grid grid-cols-10",children:[e.jsxs("div",{className:"col-span-9",children:[n.title,":",e.jsx(Ve,{variant:"outline",className:"ml-2 mb-1",children:n.button})]}),e.jsx("div",{className:"col-span-1",children:e.jsx(Ge,{children:e.jsxs(P,{open:i,onOpenChange:c=>{t(c),s(!1)},children:[e.jsx(A,{className:"sm:max-w-[400px] bg-white",children:e.jsxs(S,{children:[e.jsx(D,{children:n.dialogtitle}),n.dialogdescription]})}),e.jsxs(Ue,{children:[e.jsx(Ye,{asChild:!0,open:o,onMouseOver:()=>{s(!0)},children:e.jsx(E,{asChild:!0,children:e.jsx(I,{variant:"outline",size:"icon",className:"h-6 w-6 text-gray-400",onClick:r,children:"?"})})}),o&&e.jsx(re,{children:n.tooltip})]})]})})})]})})};function dt(n){const{asset:i,assetData:t,assetDetails:o,bitassetData:s,marketSearch:r,chain:c,usrBalances:x,type:d}=n,[j,m]=a.useState(0);a.useEffect(()=>{if(t&&x){const u=t.id,h=x.find(l=>l.asset_id===u);if(h){const l=$(h.amount,t.precision).toLocaleString(void 0,{minimumFractionDigits:t.precision});m(l)}}},[t,x]);const[f,y]=a.useState(),[b,_]=a.useState(),[p,v]=a.useState();return a.useEffect(()=>{r&&s&&(y(r.find(u=>u.id===s.settlement_price.base.asset_id)),_(r.find(u=>u.id===s.settlement_price.quote.asset_id)),v(r.find(u=>u.id===s.options.short_backing_asset)))},[s]),e.jsxs(q,{children:[e.jsxs(B,{className:"pb-2 pt-4",children:[e.jsxs(L,{children:[i," ",t?`(${t.id})`:""]}),e.jsxs(H,{className:"text-lg",children:[d==="buy"?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Quote asset"})," -",e.jsx("span",{className:"text-sm",children:" Buying"})]}):null,d==="sell"?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Base asset"})," -",e.jsx("span",{className:"text-sm",children:" Selling"})]}):null,d==="pool"?e.jsx("span",{children:"Pool stake asset"}):null]})]}),e.jsxs(ye,{className:"text-sm pb-2",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3 w-full",children:[e.jsxs(P,{children:[e.jsx(E,{asChild:!0,children:e.jsx(I,{variant:"outline",className:"h-6",children:"Info"})}),e.jsx(A,{className:"sm:max-w-[400px] bg-white",children:e.jsxs(S,{children:[e.jsxs(D,{children:[i," ",t?`(${t.id})`:""," supply info"]}),e.jsxs(F,{children:[o&&t?$(o.current_supply,t.precision).toLocaleString(void 0,{minimumFractionDigits:t.precision}):"???"," ",i," in total circulation",e.jsx("br",{}),o&&t?$(t.max_supply,t.precision).toLocaleString(void 0,{minimumFractionDigits:t.precision}):"???"," ","maximum supply",e.jsx("br",{}),o&&t?$(o.confidential_supply,t.precision):"???"," ",i," in confidential supply"]})]})})]}),e.jsxs(P,{children:[e.jsx(E,{asChild:!0,children:e.jsx(I,{variant:"outline",className:"h-6",style:{marginLeft:"3px"},children:"Links"})}),e.jsxs(A,{className:"sm:max-w-[600px] bg-white",children:[e.jsxs(S,{children:[e.jsxs(D,{children:[i," external links"]}),e.jsxs(F,{children:["The buttons below link directly to external ",i," resources.",e.jsx("br",{}),"User discretion is advised when interacting with external resources."]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("div",{children:e.jsx("b",{children:"Explorers"})}),e.jsxs("div",{children:[e.jsx(N,{variant:"outline",classNameContents:"",type:"button",text:"Blocksights.info",hyperlink:c==="bitshares"?`https://blocksights.info/#/assets/${i}`:`https://blocksights.info/#/assets/${i}?network=testnet`}),c==="bitshares"?e.jsx(N,{variant:"outline",classNameContents:"ml-2",type:"button",text:"Kibana.bts.mobi",hyperlink:`https://kibana.bts.mobi/app/dashboards#/view/c767fb10-5c58-11eb-a22a-3fca5c3996eb?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-1M,to:now))&_a=(filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'55c28590-5c51-11eb-a22a-3fca5c3996eb',key:operation_type,negate:!t,params:(query:19),type:phrase),query:(match_phrase:(operation_type:19))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'55c28590-5c51-11eb-a22a-3fca5c3996eb',key:operation_type,negate:!t,params:(query:2),type:phrase),query:(match_phrase:(operation_type:2)))),query:(language:kuery,query:'${t.id}'))`}):null,c==="bitshares"?e.jsx(N,{variant:"outline",classNameContents:"ml-2",type:"button",text:"Bitsharescan.info (cn)",hyperlink:`https://www.bitsharescan.info/asset/${i}`}):null]}),e.jsx("div",{children:e.jsx("b",{children:"Web wallets"})}),e.jsxs("div",{children:[e.jsx(N,{classNameContents:"",variant:"outline",type:"button",text:"BTS.exchange",hyperlink:`https://bts.exchange/#/asset/${i}?r=nftprofessional1`}),e.jsx(N,{classNameContents:"ml-2",variant:"outline",type:"button",text:"BTWTY.com",hyperlink:`https://wallet.btwty.com/asset/${i}?r=nftprofessional1`}),e.jsx(N,{classNameContents:"ml-2",variant:"outline",type:"button",text:"XBTS.io",hyperlink:`https://ex.xbts.io/#/asset/${i}?r=nftprofessional1`})]})]})]})]}),e.jsxs(P,{children:[e.jsx(E,{asChild:!0,children:e.jsx(I,{variant:"outline",className:"h-6",style:{marginLeft:"3px"},children:"JSON"})}),e.jsxs(A,{className:"sm:max-w-[600px] bg-white",children:[e.jsxs(S,{children:[e.jsxs(D,{children:[i," JSON summary data"]}),e.jsxs(F,{children:["The data used for generating ",i," limit orders."]})]}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsx("div",{className:"col-span-1",children:e.jsx(O,{className:"h-72 rounded-md border text-sm",children:e.jsx("pre",{children:JSON.stringify({assetData:t,assetDetails:o,bitassetData:s},null,2)})})})})]})]})]}),o&&t&&r&&r.length?e.jsxs("div",{className:"grid grid-cols-1 gap-1 w-full",children:[e.jsx(g,{title:"Your balance",button:`${j} ${i}`,dialogtitle:`${i} (${t?t.id:"?"}) balance`,dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsxs("li",{children:["This is how much ",i," you have available in your account."]}),e.jsx("li",{children:"You can use this balance to place limit orders in this market."}),e.jsxs("li",{children:["To get more ",i,", you can create a limit order, swap assets via a liquidity pool, or receive a transfer from another account."]})]}),tooltip:"More about your balance"}),e.jsx(g,{title:"Asset type",button:e.jsxs(e.Fragment,{children:[s?null:"User Issued Asset",s&&s.is_prediction_market?"Prediction market":null,s&&!s.is_prediction_market?"Smartcoin":null]}),dialogtitle:`
                ${s?"":"User Issued Asset type summary"}
                ${s&&s.is_prediction_market?"Prediction Market Asset type summary":""}
                ${s&&!s.is_prediction_market?"Smartcoin asset type summary":""}
              `,dialogdescription:e.jsxs(e.Fragment,{children:[s?null:e.jsx(O,{className:"h-72 rounded-md border text-sm",children:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2 pl-5 pr-5",children:[e.jsx("li",{children:"User Issued Assets (UIA) are user created blockchain assets."}),e.jsx("li",{children:"Since they're user defined, they each have unique names, settings, descriptions and purposes."}),e.jsx("li",{children:"UIA which are used by Exchanges/Gateways to issue user deposited funds are called Exchange Backed Assets (EBA)."}),e.jsx("li",{children:"UIA can be non-fungible tokens (NFTs) containing a variety of multimedia."}),e.jsx("li",{children:"UIA are used for liquidity pool share assets too."}),e.jsx("li",{children:"Always evaluate UIA settings, description and issuer before utilizing them on the DEX to reduce your risk exposure."})]})}),s&&s.is_prediction_market?e.jsx(O,{className:"h-72 rounded-md border text-sm",children:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2 pl-5 pr-5",children:[e.jsx("li",{children:"A Prediction Market Asset (PMA) is a specialized BitAsset such that total debt and total collateral are always equal amounts (although asset IDs differ)."}),e.jsx("li",{children:"No margin calls or force settlements may be performed on a prediction market asset."}),e.jsx("li",{children:"A prediction market is globally settled by the issuer after the event being predicted resolves, thus a prediction market must always have the global_settle permission enabled."}),e.jsx("li",{children:"The maximum price for global settlement or short sale of a prediction market asset is 1-to-1."}),e.jsx("li",{children:"Given that the prediction market oracle is the issuer, the PMA issuer must be a trusted party. PMA participants are exposed to both the risk of the bet and the oracle fulfiling their role truthly."})]})}):null,s&&!s.is_prediction_market?e.jsx(O,{className:"h-72 rounded-md border text-sm",children:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2 pl-5 pr-5",children:[e.jsx("li",{children:"A smartcoin is an asset which has backing collateral, an external reference feed price and self-issuance."}),e.jsx("li",{children:"Anyone can create a smartcoin, and anyone can issue smartcoins to their own account given sufficient backing collateral assets."}),e.jsx("li",{children:"Smartcoins are used by the committee-account owned bitassets; bitassets (like USD, CNY, EUR) are committee branded market pegged assets (MPAs) which reference external FIAT currency price feeds and are backed by BTS (1.3.0) core token."}),e.jsx("li",{children:"Users can create their own privatized bitassets (smartcoins) which reference an external feed of their selection and often have highly unique backing collateral requirements and recovery mechanisms implemented."}),e.jsx("li",{children:"If you borrow smartcoins into existence, stay vigilant maintaining your personal risk exposure and spend some time researching the smartcoin, its options and issuer before doing so. Debt holders positions are exposed to both the reference asset and backing asset price volatilities; their collateral is at risk."}),e.jsx("li",{children:"Smartcoin holders are exposed to the risk of the debt holder's backing collateral falling below required minimum levels, however each smartcoin has a different risk profile given their different backing collateral configurations."})]})}):null]}),tooltip:"More about asset type"}),e.jsx(g,{title:"Issuer",button:r.find(u=>u.id===t.id).u,dialogtitle:`${t.symbol}'s issuer`,dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"This is the blockchain account which created this asset. Pay attention to such a detail to understand what it is you're buying and from whom."}),e.jsx("li",{children:"Asset issuer can change over time as the issuer can easily transfer ownership."}),e.jsx("li",{children:"Committee account owned assets are usually the core bitassets maintained by the committee."}),e.jsx("li",{children:"If the issuer is 'null-account' then the ownership of the asset has effectively been burned."})]}),tooltip:"More about asset issuer"}),e.jsx(g,{title:"Precision",button:t.precision,dialogtitle:"Asset precision info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"The precision of an asset is the quantity of decimal places it has."}),e.jsxs("li",{children:["For example ",t.symbol," with a precision of"," ",t.precision," can be traded in quantities of"," ",$(1,t.precision)," ",t.symbol,"."]})]}),tooltip:"More about asset precision"}),t.market_fee_percent?e.jsx(g,{title:"Market fee",button:`${t.market_fee_percent/100} %`,dialogtitle:"Info on asset market fees",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"Asset creators can introduce market fees to passively earn as trades occur."}),e.jsx("li",{children:"The market fee only applies to one side of the trade."}),e.jsx("li",{children:"Make sure that the market fee is reasonable before proceeding."})]}),tooltip:"More about market fees"}):null,s&&!s.is_prediction_market?e.jsxs(e.Fragment,{children:[p?e.jsx(g,{title:"Backing asset",button:e.jsxs(e.Fragment,{children:[p.s," (",s.options.short_backing_asset,")"]}),dialogtitle:"Backing asset info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"Smartcoins (bitassets & stablecoins) require backing collateral to be lent into existence."}),e.jsx("li",{children:"The backing asset is used as collateral to back the smartcoin."}),e.jsx("li",{children:"The backing asset is chosen by the smartcoin's issuer and can't be changed once users hold it."})]}),tooltip:"More about backing asset"}):null,s.options.extensions.margin_call_fee_ratio?e.jsx(g,{title:"Margin call fee ratio",button:e.jsxs(e.Fragment,{children:[s.options.extensions.margin_call_fee_ratio/100," ","%"]}),dialogtitle:"Margin call fee ratio info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"Enables the asset issuer to charge a fee against margin call trading."}),e.jsx("li",{children:"Configured by the asset issuer."})]}),tooltip:"More about the margin call fee ratio"}):null,s.options.extensions.force_settle_fee_percent?e.jsx(g,{title:"Force settle fee percent",button:e.jsxs(e.Fragment,{children:[s.options.extensions.force_settle_fee_percent/100," ","%"]}),dialogtitle:"Force settle fee percent info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"Enables the asset issuer to charge a fee against force settlement operations."}),e.jsx("li",{children:"Configured by the asset issuer."})]}),tooltip:"More about the force settle fee percent"}):null,s.settlement_fund&&p?e.jsx(g,{title:"Settlement fund",button:e.jsxs(e.Fragment,{children:[$(s.settlement_fund,p.p).toLocaleString(void 0,{minimumFractionDigits:p.p})," ",p.s]}),dialogtitle:"Settlement fund info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"A settlement fund is the backing collateral held aside during global settlement conditions."}),e.jsx("li",{children:"Smartcoin holders can claim their share of the settlement fund if they force/instant settle their smartcoins."}),e.jsx("li",{children:"On creation of the settlement fund the debt holders have 100% backing set aside in the fund, and the rest (above 100% collateral) returned to their account."})]}),tooltip:"More about settlement funds"}):null,s.current_feed&&s.current_feed.settlement_price&&s.current_feed.settlement_price.base.amount&&s.current_feed.settlement_price.quote.amount&&f&&b&&p?e.jsx(g,{title:"Feed price",button:e.jsxs(e.Fragment,{children:[($(s.current_feed.settlement_price.base.amount,f.p)/$(s.current_feed.settlement_price.quote.amount,b.p)).toFixed(p.p)," ",d==="buy"?b.s:f.s,"/",p.s]}),dialogtitle:"Feed price info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"Feed producers are chosen by the asset issuer; each producer contributes price feeds for the asset."}),e.jsx("li",{children:"These price feeds are used to determine the smartcoin variables, such as the settlement price, so it constantly tracks the price of the backing asset."}),e.jsx("li",{children:"Bitassets are price fed by witnesses, however user created smartcoins can allow any pre-approved bitshares account to provide price feeds."}),e.jsx("li",{children:"Checking the price feed quality can help reduce your risk exposure when trading/holding smartcoins."})]}),tooltip:"More about feed prices"}):null,s.settlement_price&&s.settlement_price.base.amount&&s.settlement_price.quote.amount&&f&&b&&p?e.jsx(g,{title:"Settlement price",button:e.jsxs(e.Fragment,{children:[($(s.settlement_price.base.amount,f.p)/$(s.settlement_price.quote.amount,b.p)).toFixed(p.p)," ",f.s,"/",p.s]}),dialogtitle:"Settlement price info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"The rate at which you'll receive backing collateral if you force/instant settle smartcoins."}),e.jsx("li",{children:"Whilst a smartcoin is in global settlement conditions, new issuance is halted until conditions resolve."}),e.jsx("li",{children:"Depending on the global settlement recovery mechanism configured by the smartcoin asset issuer, the feed price may be below the settlement price."})]}),tooltip:"More about this settlement price"}):null,s.individual_settlement_debt&&p?e.jsx(g,{title:"Ind. Settlement debt",button:e.jsxs(e.Fragment,{children:[$(s.individual_settlement_debt,p.p).toLocaleString(void 0,{minimumFractionDigits:p.p})," ",i]}),dialogtitle:"Individual settlement debt info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"The individual settlement pool. In the event of individual settlements (to fund or to order), debt and collateral of the margin positions which got settled are moved here."}),e.jsx("li",{children:"For individual settlement to fund, collateral assets in the pool can only be retrieved through forced settlements."}),e.jsx("li",{children:"For individual settlement to order, collateral assets in the pool can only be retrieved through limit orders."}),e.jsx("li",{children:"Amount of debt due to individual settlements"})]}),tooltip:"More about individual settlement debt"}):null,s.individual_settlement_fund&&p?e.jsx(g,{title:"Ind. Settlement fund",button:e.jsxs(e.Fragment,{children:[$(s.individual_settlement_fund,p.p).toLocaleString(void 0,{minimumFractionDigits:p.p})," ",i]}),dialogtitle:"Individual settlement fund info",dialogdescription:e.jsx("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:e.jsx("li",{children:"The amount of collateral (backing asset) collected due to individual settlements."})}),tooltip:"More about individual settlement funds"}):null]}):null,s?e.jsxs(P,{children:[e.jsx(E,{asChild:!0,children:e.jsx(I,{variant:"outline",className:"h-5 p-3",children:"More smartcoin info"})}),e.jsxs(A,{className:"sm:max-w-[450px] bg-white",children:[e.jsxs(S,{children:[e.jsx(D,{children:"Additional bitasset info"}),e.jsx(F,{children:"These values don't freuqently change value but do affect traders."})]}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsx("div",{className:"col-span-1",children:s&&!s.is_prediction_market?e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Smartcoin ID",button:s.id,dialogtitle:"Smartcoin ID",dialogdescription:e.jsx("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:e.jsx("li",{children:"The ID required to fetch the bitasset details like the feed price, settlement price, etc."})}),tooltip:"More about Smartcoin ID"}),e.jsx(g,{title:"Feed quantity",button:s.feeds.length,dialogtitle:"Smartcoin feed quantity info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"The quantity of feed producers contributing reference feed data for this smartcoin to track the true value of the reference asset."}),e.jsx("li",{children:"There can be as few as 1 feed producer for a smartcoin to operate, however the greater the quantity of feed producers the more stable it becomes."}),e.jsx("li",{children:"If a smartcoin is fed by witnesses or comittee, the quantity of feed producers cannot exceed the pool of active witnesses and committee members."})]}),tooltip:"More about feed quantities"}),s.options.force_settlement_delay_sec?e.jsx(g,{title:"Force settlement delay",button:e.jsxs(e.Fragment,{children:[s.options.force_settlement_delay_sec/60," ","mins"]}),dialogtitle:"Force settlement delay info",dialogdescription:e.jsx("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:e.jsx("li",{children:"The amount of time which the blockchain will wait before processing your force settlement operation."})}),tooltip:"More about force settlement delays"}):null,e.jsx(g,{title:"Force settlement offset",button:e.jsxs(e.Fragment,{children:[s.options.force_settlement_offset_percent/100,"%"]}),dialogtitle:"Force settlement offset info",dialogdescription:e.jsx("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:e.jsx("li",{children:"A percentage offset from the price feed for settlement"})}),tooltip:"More about force settlement offset"}),e.jsx(g,{title:"Max force settlement volume",button:e.jsxs(e.Fragment,{children:[s.options.maximum_force_settlement_volume/100," ","%"]}),dialogtitle:"Max force settlement volume info",dialogdescription:e.jsx("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:e.jsx("li",{children:"Maximum percentage of the supply that can be settled per day"})}),tooltip:"More about force settlement offset"}),s.options.extensions.black_swan_response_method?e.jsx(g,{title:"Global settlement response method",button:s.options.extensions.black_swan_response_method,dialogtitle:"Global settlement response (BSRM) method info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"Specifies the asset issuer configured global settlement response method (BSRM)"}),e.jsx("li",{children:"Global settlement response methods handle how issuance and settlement occur, specifically during highly volatile market activity."})]}),tooltip:"More about global settlement response methods"}):null,s.options.extensions.maintenance_collateral_ratio?e.jsx(g,{title:"Maintenance collateral ratio",button:e.jsxs(e.Fragment,{children:[s.options.extensions.maintenance_collateral_ratio/10,"%"]}),dialogtitle:"Maintenance collateral ratio info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"The minimum collateral ratio (MCR) specified by the asset issuer."}),e.jsx("li",{children:"If your debt position drops below this ratio then you're likely to be margin called."}),e.jsx("li",{children:"If your debt position is margin called, you will lose the collateral plus the offset percent."})]}),tooltip:"More about the maintenance collateral ratio"}):null,s.options.extensions.initial_collateral_ratio?e.jsx(g,{title:"Initial collateral ratio",button:e.jsxs(e.Fragment,{children:[s.options.extensions.initial_collateral_ratio/10," ","%"]}),dialogtitle:"Initial collateral ratio info",dialogdescription:e.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:[e.jsx("li",{children:"The initial collateral ratio (ICR) is the minimum ratio required when creating a debt position."}),e.jsx("li",{children:"Your debt position margin ratio can fall below this ICR ratio, but it must stay above the MCR to avoid margin call."})]}),tooltip:"More about the initial collateral ratio"}):null,s.options.extensions.maximum_short_squeeze_ratio?e.jsx(g,{title:"Maximum short squeeze ratio",button:e.jsxs(e.Fragment,{children:[s.options.extensions.maximum_short_squeeze_ratio/10," ","%"]}),dialogtitle:"Maximum short squeeze ratio info",dialogdescription:e.jsx("ul",{className:"ml-2 list-disc [&>li]:mt-2",children:e.jsx("li",{children:"The max short squeeze ratio is the maximum ratio which a debt position will be protected against short squeezes."})}),tooltip:"More about the max short squeeze ratio"}):null]}):null})})]})]}):null]}):null]})]})}export{Ve as B,dt as M,at as P,st as S,nt as a,ot as b,it as c};
