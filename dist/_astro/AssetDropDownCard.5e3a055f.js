import{j as e,D as w,k,B as D,l as N,I as y,C as R,b as F,c as I,d as B}from"./CurrentUser.76ee68b2.js";import{r as o}from"./index.40fd2bfc.js";import{g as T}from"./fuse.esm.f5056299.js";import{F as v}from"./common.caf612c1.js";function P(g){const{assetSymbol:t,assetData:x,storeCallback:p,otherAsset:d,marketSearch:i,type:a,size:l}=g;let c;!i||!i.length?c=[]:c=d?i.filter(s=>s.s!==d&&s.s!==t):i.filter(s=>s.s!==t);const f=new T(c,{includeScore:!0,keys:["id","s","u"]}),[h,j]=o.useState(),[r,m]=o.useState(),[C,u]=o.useState(!1);o.useEffect(()=>{if(h){const s=f.search(h);m(s)}},[h]);const S=({index:s,style:b})=>{const n=r[s];return e.jsx("div",{style:{...b,marginBottom:"10px",paddingRight:"10px"},children:e.jsx(R,{style:{marginBottom:"2px"},onClick:()=>{p(n.item.s),u(!1)},children:e.jsxs(F,{className:"p-3",children:[e.jsxs(I,{className:"h-3",children:[n.item.s," (",n.item.id,")"]}),e.jsxs(B,{children:["Issued by ",n.item.u]})]})},`acard-${n.item.id}`)})};return e.jsxs(w,{open:C,onOpenChange:s=>{s||m(),u(s)},children:[e.jsx(k,{asChild:!0,children:e.jsxs(D,{variant:"outline",className:`${l&&l==="small"?"h-5 ":""}p-3`,onClick:()=>u(!0),children:[t?null:"Select an asset",!l&&t?"Change asset":null,l&&t&&t.length<12?t:null,l&&t&&t.length>12?x.id:null]})}),e.jsx(N,{className:"sm:max-w-[425px] bg-white",children:e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-2xl font-extrabold tracking-tight",children:t?`Replacing ${t}`:"Selecting a new asset"}),e.jsxs("h4",{className:"text-md font-bold tracking-tight",children:[a?null:"Please search for an asset below",a&&a==="base"?"Please select a new base asset":null,a&&a==="quote"?"Please select a new quote asset":null]}),e.jsx(y,{name:"assetSearch",placeholder:"Search for an asset",onChange:s=>{j(s.target.value)}}),r&&r.length?e.jsx(e.Fragment,{children:e.jsx(v,{height:200,itemCount:r.length,itemSize:70,className:"w-full",children:S})}):null]})})]})}export{P as A};
