import{I as S,J as T,u as e,Q as b,S as k,K as y,T as N,P as F}from"./button.GNxhEuHR.js";import{r as c}from"./index.ebYJtNMn.js";import{F as I}from"./fuse.aCsZfKX4.js";import{F as R}from"./index.esm.awlXaKq2.js";import{I as v,C as z,b as B,c as E,d as O}from"./CurrentUser.-qj3GEkM.js";function Q(s){const{assetSymbol:t,assetData:a,storeCallback:n,otherAsset:r,marketSearch:l,type:i,size:o,chain:d}=s,{t:h,i18n:m}=S(T.get(),{i18n:F});let u;u=l&&l.length?r?l.filter((e=>e.s!==r&&e.s!==t)):l.filter((e=>e.s!==t)):[];const p=new I(u,{includeScore:!0,keys:["id","s","u"]}),[x,g]=c.useState(),[j,C]=c.useState(),[D,f]=c.useState(!1);c.useEffect((()=>{if(x){const e=p.search(x);C(e)}}),[x]);return e.jsxs(b,{open:D,onOpenChange:e=>{e||C(),f(e)},children:[e.jsx(k,{asChild:!0,children:e.jsxs(y,{variant:"outline",className:(o&&"small"===o?"h-5 ":"")+"p-3",onClick:()=>f(!0),children:[t?null:h("AssetDropDownCard:select"),!o&&t?h("AssetDropDownCard:change"):null,o&&t&&t.length<12?t:null,o&&t&&t.length>=12?a.id:null]})}),e.jsx(N,{className:"sm:max-w-[425px] bg-white",children:e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-2xl font-extrabold tracking-tight",children:t?h("AssetDropDownCard:replacing",{assetSymbol:t}):h("AssetDropDownCard:selecting")}),e.jsxs("h4",{className:"text-md font-bold tracking-tight",children:[i?null:h("AssetDropDownCard:noType"),i&&"base"===i?h("AssetDropDownCard:baseType"):null,i&&"quote"===i?h("AssetDropDownCard:quoteType"):null]}),e.jsx(v,{name:"assetSearch",placeholder:h("AssetDropDownCard:search"),onChange:e=>{g(e.target.value)}}),j&&j.length?e.jsx(e.Fragment,{children:e.jsx(R,{height:200,itemCount:j.length,itemSize:70,className:"w-full",children:({index:s,style:t})=>{const a=j[s];return e.jsx("div",{style:{...t,marginBottom:"10px",paddingRight:"10px"},children:e.jsx(z,{style:{marginBottom:"2px"},onClick:()=>{setTimeout((()=>{n(a.item.s)}),0),f(!1)},children:e.jsxs(B,{className:"p-3",children:[e.jsxs(E,{className:"h-3",children:[a.item.s," (",a.item.id,")"]}),e.jsx(O,{children:h("AssetDropDownCard:issued",{user:a.item.u})})]})},`acard-${a.item.id}`)})}})}):null]})})]})}export{Q as A};