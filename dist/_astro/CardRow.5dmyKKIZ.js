import{y as P,q as D,s as R,r as _}from"./CurrentUser.9PQ1vVJE.js";import{$ as q,a as F,b as z,_ as T,d as G,i as K,j as V,a1 as Y,t as X,s as Q,n as W,o as Z,k as ee,e as y,u as f,v as te,L as oe,O as ne,P as re,Q as ae,N as se,I as ce}from"./button.py8r9pgQ.js";import{r as a}from"./index.vR8cGMCg.js";import{a as ie}from"./index.TKWSAka7.js";import{B as le}from"./badge.pYgHolp0.js";const[He]=P({fetcher:async(e,o)=>{const t=o.replace("1.3.","2.3."),n=await fetch(`http://localhost:8080/cache/dynamic/${e}/${t}`,{method:"GET"});if(!n.ok){console.log(`Failed to fetch ${t} dynamic data`);return}const r=await n.json();if(r&&r.result){const c=D(R(r.result,!0)),s=_(c);return JSON.parse(s)}}}),[Fe]=P({fetcher:async(e,o,t,n,r,c)=>{let s;try{s=await fetch(`http://localhost:8080/api/fullSmartcoin/${e}`,{method:"POST",body:JSON.stringify([o,t,n,r,c])})}catch{console.log("Failed to fetch smartcoin data");return}if(!s.ok){console.log("Failed to fetch bitasset data");return}const d=await s.json();if(d&&d.result){const i=D(R(d.result,!0)),u=_(i);return JSON.parse(u)}}}),[Ge]=P({fetcher:async(e,o)=>{const t=await fetch(`http://localhost:8080/api/getObjects/${e}`,{method:"POST",body:JSON.stringify([o])});if(!t.ok){console.log("Failed to fetch bitasset data");return}const n=await t.json();if(n&&n.result&&n.result.length){const r=D(R(n.result,!0));return JSON.parse(_(r))[0]}}}),[Be]=P({fetcher:async(e,o)=>{const t=await fetch(`http://localhost:8080/cache/asset/${e}/${o}`,{method:"GET"});if(!t.ok){console.log(`Failed to fetch asset: ${o}`);return}const n=await t.json();if(n&&n.result){const r=D(R(n.result,!0));return JSON.parse(_(r))}}}),[k,Je]=q("Tooltip",[F]),j=F(),de="TooltipProvider",ue=700,S="tooltip.open",[fe,L]=k(de),pe=e=>{const{__scopeTooltip:o,delayDuration:t=ue,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:c}=e,[s,d]=a.useState(!0),i=a.useRef(!1),u=a.useRef(0);return a.useEffect(()=>{const l=u.current;return()=>window.clearTimeout(l)},[]),a.createElement(fe,{scope:o,isOpenDelayed:s,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(u.current),d(!1)},[]),onClose:a.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d(!0),n)},[n]),isPointerInTransitRef:i,onPointerInTransitChange:a.useCallback(l=>{i.current=l},[]),disableHoverableContent:r},c)},I="Tooltip",[$e,N]=k(I),he=e=>{const{__scopeTooltip:o,children:t,open:n,defaultOpen:r=!1,onOpenChange:c,disableHoverableContent:s,delayDuration:d}=e,i=L(I,e.__scopeTooltip),u=j(o),[l,p]=a.useState(null),m=X(),$=a.useRef(0),h=s??i.disableHoverableContent,b=d??i.delayDuration,x=a.useRef(!1),[g=!1,v]=Q({prop:n,defaultProp:r,onChange:M=>{M?(i.onOpen(),document.dispatchEvent(new CustomEvent(S))):i.onClose(),c?.(M)}}),C=a.useMemo(()=>g?x.current?"delayed-open":"instant-open":"closed",[g]),w=a.useCallback(()=>{window.clearTimeout($.current),x.current=!1,v(!0)},[v]),E=a.useCallback(()=>{window.clearTimeout($.current),v(!1)},[v]),A=a.useCallback(()=>{window.clearTimeout($.current),$.current=window.setTimeout(()=>{x.current=!0,v(!0)},b)},[b,v]);return a.useEffect(()=>()=>window.clearTimeout($.current),[]),a.createElement(W,u,a.createElement($e,{scope:o,contentId:m,open:g,stateAttribute:C,trigger:l,onTriggerChange:p,onTriggerEnter:a.useCallback(()=>{i.isOpenDelayed?A():w()},[i.isOpenDelayed,A,w]),onTriggerLeave:a.useCallback(()=>{h?E():window.clearTimeout($.current)},[E,h]),onOpen:w,onClose:E,disableHoverableContent:h},t))},H="TooltipTrigger",me=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...n}=e,r=N(H,t),c=L(H,t),s=j(t),d=a.useRef(null),i=G(o,d,r.onTriggerChange),u=a.useRef(!1),l=a.useRef(!1),p=a.useCallback(()=>u.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.createElement(Z,T({asChild:!0},s),a.createElement(ee.button,T({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},n,{ref:i,onPointerMove:y(e.onPointerMove,m=>{m.pointerType!=="touch"&&!l.current&&!c.isPointerInTransitRef.current&&(r.onTriggerEnter(),l.current=!0)}),onPointerLeave:y(e.onPointerLeave,()=>{r.onTriggerLeave(),l.current=!1}),onPointerDown:y(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:y(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:y(e.onBlur,r.onClose),onClick:y(e.onClick,r.onClose)})))}),xe="TooltipPortal",[Ue,be]=k(xe,{forceMount:void 0}),O="TooltipContent",ve=a.forwardRef((e,o)=>{const t=be(O,e.__scopeTooltip),{forceMount:n=t.forceMount,side:r="top",...c}=e,s=N(O,e.__scopeTooltip);return a.createElement(z,{present:n||s.open},s.disableHoverableContent?a.createElement(B,T({side:r},c,{ref:o})):a.createElement(ge,T({side:r},c,{ref:o})))}),ge=a.forwardRef((e,o)=>{const t=N(O,e.__scopeTooltip),n=L(O,e.__scopeTooltip),r=a.useRef(null),c=G(o,r),[s,d]=a.useState(null),{trigger:i,onClose:u}=t,l=r.current,{onPointerInTransitChange:p}=n,m=a.useCallback(()=>{d(null),p(!1)},[p]),$=a.useCallback((h,b)=>{const x=h.currentTarget,g={x:h.clientX,y:h.clientY},v=Te(g,x.getBoundingClientRect()),C=Ce(g,v),w=we(b.getBoundingClientRect()),E=Oe([...C,...w]);d(E),p(!0)},[p]);return a.useEffect(()=>()=>m(),[m]),a.useEffect(()=>{if(i&&l){const h=x=>$(x,l),b=x=>$(x,i);return i.addEventListener("pointerleave",h),l.addEventListener("pointerleave",b),()=>{i.removeEventListener("pointerleave",h),l.removeEventListener("pointerleave",b)}}},[i,l,$,m]),a.useEffect(()=>{if(s){const h=b=>{const x=b.target,g={x:b.clientX,y:b.clientY},v=i?.contains(x)||l?.contains(x),C=!Ee(g,s);v?m():C&&(m(),u())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[i,l,s,u,m]),a.createElement(B,T({},e,{ref:c}))}),[ye,qe]=k(I,{isInside:!1}),B=a.forwardRef((e,o)=>{const{__scopeTooltip:t,children:n,"aria-label":r,onEscapeKeyDown:c,onPointerDownOutside:s,...d}=e,i=N(O,t),u=j(t),{onClose:l}=i;return a.useEffect(()=>(document.addEventListener(S,l),()=>document.removeEventListener(S,l)),[l]),a.useEffect(()=>{if(i.trigger){const p=m=>{const $=m.target;$!=null&&$.contains(i.trigger)&&l()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[i.trigger,l]),a.createElement(K,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:s,onFocusOutside:p=>p.preventDefault(),onDismiss:l},a.createElement(V,T({"data-state":i.stateAttribute},u,d,{ref:o,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),a.createElement(Y,null,n),a.createElement(ye,{scope:t,isInside:!0},a.createElement(ie,{id:i.contentId,role:"tooltip"},r||n))))});function Te(e,o){const t=Math.abs(o.top-e.y),n=Math.abs(o.bottom-e.y),r=Math.abs(o.right-e.x),c=Math.abs(o.left-e.x);switch(Math.min(t,n,r,c)){case c:return"left";case r:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Ce(e,o,t=5){const n=[];switch(o){case"top":n.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":n.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":n.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":n.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return n}function we(e){const{top:o,right:t,bottom:n,left:r}=e;return[{x:r,y:o},{x:t,y:o},{x:t,y:n},{x:r,y:n}]}function Ee(e,o){const{x:t,y:n}=e;let r=!1;for(let c=0,s=o.length-1;c<o.length;s=c++){const d=o[c].x,i=o[c].y,u=o[s].x,l=o[s].y;i>n!=l>n&&t<(u-d)*(n-i)/(l-i)+d&&(r=!r)}return r}function Oe(e){const o=e.slice();return o.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),Pe(o)}function Pe(e){if(e.length<=1)return e.slice();const o=[];for(let n=0;n<e.length;n++){const r=e[n];for(;o.length>=2;){const c=o[o.length-1],s=o[o.length-2];if((c.x-s.x)*(r.y-s.y)>=(c.y-s.y)*(r.x-s.x))o.pop();else break}o.push(r)}o.pop();const t=[];for(let n=e.length-1;n>=0;n--){const r=e[n];for(;t.length>=2;){const c=t[t.length-1],s=t[t.length-2];if((c.x-s.x)*(r.y-s.y)>=(c.y-s.y)*(r.x-s.x))t.pop();else break}t.push(r)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}const De=pe,Re=he,_e=me,J=ve,ke=De,Ne=Re,Se=_e,U=a.forwardRef(({className:e,sideOffset:o=4,...t},n)=>f.jsx(J,{ref:n,sideOffset:o,className:te("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));U.displayName=J.displayName;function ze(e){const[o,t]=a.useState(!1),[n,r]=a.useState(!1),c=s=>{s.stopPropagation(),o||t(!0)};return f.jsx("div",{className:"col-span-1",children:f.jsxs("div",{className:"grid grid-cols-10",children:[f.jsxs("div",{className:"col-span-4",children:[e.title,":"]}),f.jsx("div",{className:"col-span-5 mr-2",children:f.jsx(le,{variant:"outline",className:"pl-2 pb-1 w-full",children:e.button})}),f.jsx("div",{className:"col-span-1",children:f.jsx(ke,{children:f.jsxs(oe,{open:o,onOpenChange:s=>{t(s),r(!1)},children:[f.jsx(ne,{className:"sm:max-w-[400px] bg-white",children:f.jsxs(re,{children:[f.jsx(ae,{children:e.dialogtitle}),e.dialogdescription]})}),f.jsxs(Ne,{children:[f.jsx(Se,{asChild:!0,open:n,onMouseOver:()=>{r(!0)},children:f.jsx(se,{asChild:!0,children:f.jsx(ce,{variant:"outline",size:"icon",className:"h-6 w-6 text-gray-400",onClick:c,children:"?"})})}),n&&f.jsx(U,{children:e.tooltip})]})]})})})]})},`${e.dialogtitle}`)}export{ze as C,He as a,Ge as b,Fe as c,Be as d};
