import{j as o,k as Ye,l as rr,m as xn,n as Er,o as Tr,_ as Ce,p as $r,q as wn,r as vt,s as kn,t as _n,u as Nn,v as jn,w as Pr,x as Dn,C as me,a as ve,b as pe,c as Ne,f as Be,I as Le,B as J,g as wt,$ as nr,y as ar,h as sr,A as Mn,H as or,z as ir,D as lr,d as Cn,e as Sn,E as cr}from"./CurrentUser.9d68bb13.js";import{r as v,R as p}from"./index.40fd2bfc.js";import{u as On,F as En,a as Te,b as $e,c as Pe,B as ke,d as Fe,j as Ae,e as Ue,S as Tn,f as $n,g as Pn,h as Fn,i as Ie,M as ur,P as An}from"./MarketAssetCard.6610a9ab.js";import{T as qe,a as Ge,b as I,c as oe}from"./tabs.6b739d0c.js";import{C as In,i as Ln,$ as Wn,j as Rn,k as Yn,l as Bn,m as Hn,n as Un,t as Me,o as Vn,D as Fr,b as Ar,f as qn,g as ht,h as Gn,S as kt,a as Kn,F as Xn,p as Bt}from"./common.f8b00d54.js";function Ke(t){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(t)}function Q(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function N(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function E(t){N(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Ke(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function re(t,e){N(2,arguments);var r=E(t),n=Q(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function de(t,e){N(2,arguments);var r=E(t),n=Q(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),s=new Date(r.getTime());s.setMonth(r.getMonth()+n+1,0);var i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function zn(t,e){N(2,arguments);var r=E(t).getTime(),n=Q(e);return new Date(r+n)}var Jn={};function Se(){return Jn}function ge(t,e){var r,n,a,s,i,l,u,c;N(1,arguments);var d=Se(),f=Q((r=(n=(a=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=E(t),h=m.getDay(),g=(h<f?7:0)+h-f;return m.setDate(m.getDate()-g),m.setHours(0,0,0,0),m}function He(t){return N(1,arguments),ge(t,{weekStartsOn:1})}function Qn(t){N(1,arguments);var e=E(t),r=e.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var a=He(n),s=new Date(0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);var i=He(s);return e.getTime()>=a.getTime()?r+1:e.getTime()>=i.getTime()?r:r-1}function Zn(t){N(1,arguments);var e=Qn(t),r=new Date(0);r.setFullYear(e,0,4),r.setHours(0,0,0,0);var n=He(r);return n}function rt(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Xe(t){N(1,arguments);var e=E(t);return e.setHours(0,0,0,0),e}var ea=864e5;function _e(t,e){N(2,arguments);var r=Xe(t),n=Xe(e),a=r.getTime()-rt(r),s=n.getTime()-rt(n);return Math.round((a-s)/ea)}function Tt(t,e){N(2,arguments);var r=Q(e),n=r*7;return re(t,n)}function ta(t,e){N(2,arguments);var r=Q(e);return de(t,r*12)}function ra(t){N(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(Ke(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var r;return e.forEach(function(n){var a=E(n);(r===void 0||r<a||isNaN(Number(a)))&&(r=a)}),r||new Date(NaN)}function na(t){N(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(Ke(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var r;return e.forEach(function(n){var a=E(n);(r===void 0||r>a||isNaN(a.getDate()))&&(r=a)}),r||new Date(NaN)}function ne(t,e){N(2,arguments);var r=Xe(t),n=Xe(e);return r.getTime()===n.getTime()}function Ht(t){return N(1,arguments),t instanceof Date||Ke(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function aa(t){if(N(1,arguments),!Ht(t)&&typeof t!="number")return!1;var e=E(t);return!isNaN(Number(e))}function nt(t,e){N(2,arguments);var r=E(t),n=E(e),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}var sa=6048e5;function oa(t,e,r){N(2,arguments);var n=ge(t,r),a=ge(e,r),s=n.getTime()-rt(n),i=a.getTime()-rt(a);return Math.round((s-i)/sa)}function Ut(t){N(1,arguments);var e=E(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function ae(t){N(1,arguments);var e=E(t);return e.setDate(1),e.setHours(0,0,0,0),e}function ia(t){N(1,arguments);var e=E(t),r=new Date(0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Vt(t,e){var r,n,a,s,i,l,u,c;N(1,arguments);var d=Se(),f=Q((r=(n=(a=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=E(t),h=m.getDay(),g=(h<f?-7:0)+6-(h-f);return m.setDate(m.getDate()+g),m.setHours(23,59,59,999),m}function Ir(t){return N(1,arguments),Vt(t,{weekStartsOn:1})}function la(t,e){N(2,arguments);var r=Q(e);return zn(t,-r)}var ca=864e5;function ua(t){N(1,arguments);var e=E(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=r-n;return Math.floor(a/ca)+1}function gt(t){N(1,arguments);var e=1,r=E(t),n=r.getUTCDay(),a=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function Lr(t){N(1,arguments);var e=E(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=gt(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var i=gt(s);return e.getTime()>=a.getTime()?r+1:e.getTime()>=i.getTime()?r:r-1}function da(t){N(1,arguments);var e=Lr(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=gt(r);return n}var fa=6048e5;function ha(t){N(1,arguments);var e=E(t),r=gt(e).getTime()-da(e).getTime();return Math.round(r/fa)+1}function bt(t,e){var r,n,a,s,i,l,u,c;N(1,arguments);var d=Se(),f=Q((r=(n=(a=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=E(t),h=m.getUTCDay(),g=(h<f?7:0)+h-f;return m.setUTCDate(m.getUTCDate()-g),m.setUTCHours(0,0,0,0),m}function Wr(t,e){var r,n,a,s,i,l,u,c;N(1,arguments);var d=E(t),f=d.getUTCFullYear(),m=Se(),h=Q((r=(n=(a=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:m.firstWeekContainsDate)!==null&&n!==void 0?n:(u=m.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,h),g.setUTCHours(0,0,0,0);var y=bt(g,e),b=new Date(0);b.setUTCFullYear(f,0,h),b.setUTCHours(0,0,0,0);var _=bt(b,e);return d.getTime()>=y.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function ma(t,e){var r,n,a,s,i,l,u,c;N(1,arguments);var d=Se(),f=Q((r=(n=(a=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),m=Wr(t,e),h=new Date(0);h.setUTCFullYear(m,0,f),h.setUTCHours(0,0,0,0);var g=bt(h,e);return g}var va=6048e5;function pa(t,e){N(1,arguments);var r=E(t),n=bt(r,e).getTime()-ma(r,e).getTime();return Math.round(n/va)+1}function F(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var ga={y:function(e,r){var n=e.getUTCFullYear(),a=n>0?n:1-n;return F(r==="yy"?a%100:a,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):F(n+1,2)},d:function(e,r){return F(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return F(e.getUTCHours()%12||12,r.length)},H:function(e,r){return F(e.getUTCHours(),r.length)},m:function(e,r){return F(e.getUTCMinutes(),r.length)},s:function(e,r){return F(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,a=e.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return F(s,r.length)}};const De=ga;var Ve={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ba={G:function(e,r,n){var a=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var a=e.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return De.y(e,r)},Y:function(e,r,n,a){var s=Wr(e,a),i=s>0?s:1-s;if(r==="YY"){var l=i%100;return F(l,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):F(i,r.length)},R:function(e,r){var n=Lr(e);return F(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return F(n,r.length)},Q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return F(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return F(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){var a=e.getUTCMonth();switch(r){case"M":case"MM":return De.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){var a=e.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return F(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){var s=pa(e,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):F(s,r.length)},I:function(e,r,n){var a=ha(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):F(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):De.d(e,r)},D:function(e,r,n){var a=ua(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):F(a,r.length)},E:function(e,r,n){var a=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){var s=e.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return F(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){var s=e.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return F(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){var a=e.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return F(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){var a=e.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){var a=e.getUTCHours(),s;switch(a===12?s=Ve.noon:a===0?s=Ve.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){var a=e.getUTCHours(),s;switch(a>=17?s=Ve.evening:a>=12?s=Ve.afternoon:a>=4?s=Ve.morning:s=Ve.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return De.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):De.H(e,r)},K:function(e,r,n){var a=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):F(a,r.length)},k:function(e,r,n){var a=e.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):F(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):De.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):De.s(e,r)},S:function(e,r){return De.S(e,r)},X:function(e,r,n,a){var s=a._originalDate||e,i=s.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return fr(i);case"XXXX":case"XX":return We(i);case"XXXXX":case"XXX":default:return We(i,":")}},x:function(e,r,n,a){var s=a._originalDate||e,i=s.getTimezoneOffset();switch(r){case"x":return fr(i);case"xxxx":case"xx":return We(i);case"xxxxx":case"xxx":default:return We(i,":")}},O:function(e,r,n,a){var s=a._originalDate||e,i=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+dr(i,":");case"OOOO":default:return"GMT"+We(i,":")}},z:function(e,r,n,a){var s=a._originalDate||e,i=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+dr(i,":");case"zzzz":default:return"GMT"+We(i,":")}},t:function(e,r,n,a){var s=a._originalDate||e,i=Math.floor(s.getTime()/1e3);return F(i,r.length)},T:function(e,r,n,a){var s=a._originalDate||e,i=s.getTime();return F(i,r.length)}};function dr(t,e){var r=t>0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var i=e||"";return r+String(a)+i+F(s,2)}function fr(t,e){if(t%60===0){var r=t>0?"-":"+";return r+F(Math.abs(t)/60,2)}return We(t,e)}function We(t,e){var r=e||"",n=t>0?"-":"+",a=Math.abs(t),s=F(Math.floor(a/60),2),i=F(a%60,2);return n+s+r+i}const ya=ba;var hr=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Rr=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},xa=function(e,r){var n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return hr(e,r);var i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",hr(a,r)).replace("{{time}}",Rr(s,r))},wa={p:Rr,P:xa};const ka=wa;var _a=["D","DD"],Na=["YY","YYYY"];function ja(t){return _a.indexOf(t)!==-1}function Da(t){return Na.indexOf(t)!==-1}function mr(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ma={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ca=function(e,r,n){var a,s=Ma[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const Sa=Ca;function Nt(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var Oa={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ea={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ta={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$a={date:Nt({formats:Oa,defaultWidth:"full"}),time:Nt({formats:Ea,defaultWidth:"full"}),dateTime:Nt({formats:Ta,defaultWidth:"full"})};const Pa=$a;var Fa={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Aa=function(e,r,n,a){return Fa[e]};const Ia=Aa;function et(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,i=r!=null&&r.width?String(r.width):s;a=t.formattingValues[i]||t.formattingValues[s]}else{var l=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[u]||t.values[l]}var c=t.argumentCallback?t.argumentCallback(e):e;return a[c]}}var La={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wa={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ra={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ya={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ba={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ha={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ua=function(e,r){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Va={ordinalNumber:Ua,era:et({values:La,defaultWidth:"wide"}),quarter:et({values:Wa,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:et({values:Ra,defaultWidth:"wide"}),day:et({values:Ya,defaultWidth:"wide"}),dayPeriod:et({values:Ba,defaultWidth:"wide",formattingValues:Ha,defaultFormattingWidth:"wide"})};const qa=Va;function tt(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;var i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?Ka(l,function(f){return f.test(i)}):Ga(l,function(f){return f.test(i)}),c;c=t.valueCallback?t.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;var d=e.slice(i.length);return{value:c,rest:d}}}function Ga(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function Ka(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Xa(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var a=n[0],s=e.match(t.parsePattern);if(!s)return null;var i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;var l=e.slice(a.length);return{value:i,rest:l}}}var za=/^(\d+)(th|st|nd|rd)?/i,Ja=/\d+/i,Qa={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Za={any:[/^b/i,/^(a|c)/i]},es={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ts={any:[/1/i,/2/i,/3/i,/4/i]},rs={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},as={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ss={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},os={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},is={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ls={ordinalNumber:Xa({matchPattern:za,parsePattern:Ja,valueCallback:function(e){return parseInt(e,10)}}),era:tt({matchPatterns:Qa,defaultMatchWidth:"wide",parsePatterns:Za,defaultParseWidth:"any"}),quarter:tt({matchPatterns:es,defaultMatchWidth:"wide",parsePatterns:ts,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:tt({matchPatterns:rs,defaultMatchWidth:"wide",parsePatterns:ns,defaultParseWidth:"any"}),day:tt({matchPatterns:as,defaultMatchWidth:"wide",parsePatterns:ss,defaultParseWidth:"any"}),dayPeriod:tt({matchPatterns:os,defaultMatchWidth:"any",parsePatterns:is,defaultParseWidth:"any"})};const cs=ls;var us={code:"en-US",formatDistance:Sa,formatLong:Pa,formatRelative:Ia,localize:qa,match:cs,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Yr=us;var ds=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hs=/^'([^]*?)'?$/,ms=/''/g,vs=/[a-zA-Z]/;function Oe(t,e,r){var n,a,s,i,l,u,c,d,f,m,h,g,y,b,_,j,k,G;N(2,arguments);var H=String(e),U=Se(),D=(n=(a=r?.locale)!==null&&a!==void 0?a:U.locale)!==null&&n!==void 0?n:Yr,q=Q((s=(i=(l=(u=r?.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:U.firstWeekContainsDate)!==null&&i!==void 0?i:(f=U.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=Q((h=(g=(y=(b=r?.weekStartsOn)!==null&&b!==void 0?b:r==null||(_=r.locale)===null||_===void 0||(j=_.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&y!==void 0?y:U.weekStartsOn)!==null&&g!==void 0?g:(k=U.locale)===null||k===void 0||(G=k.options)===null||G===void 0?void 0:G.weekStartsOn)!==null&&h!==void 0?h:0);if(!(L>=0&&L<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!D.localize)throw new RangeError("locale must contain localize property");if(!D.formatLong)throw new RangeError("locale must contain formatLong property");var Z=E(t);if(!aa(Z))throw new RangeError("Invalid time value");var ee=rt(Z),te=la(Z,ee),be={firstWeekContainsDate:q,weekStartsOn:L,locale:D,_originalDate:Z},K=H.match(fs).map(function(W){var X=W[0];if(X==="p"||X==="P"){var w=ka[X];return w(W,D.formatLong)}return W}).join("").match(ds).map(function(W){if(W==="''")return"'";var X=W[0];if(X==="'")return ps(W);var w=ya[X];if(w)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Da(W)&&mr(W,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ja(W)&&mr(W,e,String(t)),w(te,W,D.localize,be);if(X.match(vs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return W}).join("");return K}function ps(t){var e=t.match(hs);return e?e[1].replace(ms,"'"):t}function gs(t){N(1,arguments);var e=E(t),r=e.getFullYear(),n=e.getMonth(),a=new Date(0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}var bs=6048e5;function ys(t){N(1,arguments);var e=E(t),r=He(e).getTime()-Zn(e).getTime();return Math.round(r/bs)+1}function xs(t){N(1,arguments);var e=E(t),r=e.getTime();return r}function ws(t){return N(1,arguments),Math.floor(xs(t)/1e3)}function ks(t,e){var r,n,a,s,i,l,u,c;N(1,arguments);var d=E(t),f=d.getFullYear(),m=Se(),h=Q((r=(n=(a=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:m.firstWeekContainsDate)!==null&&n!==void 0?n:(u=m.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,h),g.setHours(0,0,0,0);var y=ge(g,e),b=new Date(0);b.setFullYear(f,0,h),b.setHours(0,0,0,0);var _=ge(b,e);return d.getTime()>=y.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function _s(t,e){var r,n,a,s,i,l,u,c;N(1,arguments);var d=Se(),f=Q((r=(n=(a=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),m=ks(t,e),h=new Date(0);h.setFullYear(m,0,f),h.setHours(0,0,0,0);var g=ge(h,e);return g}var Ns=6048e5;function js(t,e){N(1,arguments);var r=E(t),n=ge(r,e).getTime()-_s(r,e).getTime();return Math.round(n/Ns)+1}function Ds(t){N(1,arguments);var e=E(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Ms(t,e){return N(1,arguments),oa(Ds(t),ae(t),e)+1}function $t(t,e){N(2,arguments);var r=E(t),n=E(e);return r.getTime()>n.getTime()}function Br(t,e){N(2,arguments);var r=E(t),n=E(e);return r.getTime()<n.getTime()}function qt(t,e){N(2,arguments);var r=E(t),n=E(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Cs(t,e){N(2,arguments);var r=E(t),n=E(e);return r.getFullYear()===n.getFullYear()}function jt(t,e){N(2,arguments);var r=Q(e);return re(t,-r)}function Dt(t,e){N(2,arguments);var r=E(t),n=Q(e),a=r.getFullYear(),s=r.getDate(),i=new Date(0);i.setFullYear(a,n,15),i.setHours(0,0,0,0);var l=gs(i);return r.setMonth(n,Math.min(s,l)),r}function vr(t,e){N(2,arguments);var r=E(t),n=Q(e);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}var M=function(){return M=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},M.apply(this,arguments)};function Ss(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Hr(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function st(t){return t.mode==="multiple"}function ot(t){return t.mode==="range"}function _t(t){return t.mode==="single"}var Os={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Es(t,e){return Oe(t,"LLLL y",e)}function Ts(t,e){return Oe(t,"d",e)}function $s(t,e){return Oe(t,"LLLL",e)}function Ps(t){return"".concat(t)}function Fs(t,e){return Oe(t,"cccccc",e)}function As(t,e){return Oe(t,"yyyy",e)}var Is=Object.freeze({__proto__:null,formatCaption:Es,formatDay:Ts,formatMonthCaption:$s,formatWeekNumber:Ps,formatWeekdayName:Fs,formatYearCaption:As}),Ls=function(t,e,r){return Oe(t,"do MMMM (EEEE)",r)},Ws=function(){return"Month: "},Rs=function(){return"Go to next month"},Ys=function(){return"Go to previous month"},Bs=function(t,e){return Oe(t,"cccc",e)},Hs=function(t){return"Week n. ".concat(t)},Us=function(){return"Year: "},Vs=Object.freeze({__proto__:null,labelDay:Ls,labelMonthDropdown:Ws,labelNext:Rs,labelPrevious:Ys,labelWeekNumber:Hs,labelWeekday:Bs,labelYearDropdown:Us});function qs(){var t="buttons",e=Os,r=Yr,n={},a={},s=1,i={},l=new Date;return{captionLayout:t,classNames:e,formatters:Is,labels:Vs,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:i,today:l,mode:"default"}}function Gs(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,s=t.fromDate,i=t.toDate;return n?s=ae(n):e&&(s=new Date(e,0,1)),a?i=Ut(a):r&&(i=new Date(r,11,31)),{fromDate:s?Xe(s):void 0,toDate:i?Xe(i):void 0}}var Ur=v.createContext(void 0);function Ks(t){var e,r=t.initialProps,n=qs(),a=Gs(r),s=a.fromDate,i=a.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var u;(_t(r)||st(r)||ot(r))&&(u=r.onSelect);var c=M(M(M({},n),r),{captionLayout:l,classNames:M(M({},n.classNames),r.classNames),components:M({},r.components),formatters:M(M({},n.formatters),r.formatters),fromDate:s,labels:M(M({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:M(M({},n.modifiers),r.modifiers),modifiersClassNames:M(M({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:M(M({},n.styles),r.styles),toDate:i});return p.createElement(Ur.Provider,{value:c},t.children)}function Y(){var t=v.useContext(Ur);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Vr(t){var e=Y(),r=e.locale,n=e.classNames,a=e.styles,s=e.formatters.formatCaption;return p.createElement("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id},s(t.displayMonth,{locale:r}))}function Xs(t){return p.createElement("svg",M({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t),p.createElement("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"}))}function qr(t){var e,r,n=t.onChange,a=t.value,s=t.children,i=t.caption,l=t.className,u=t.style,c=Y(),d=(r=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Xs;return p.createElement("div",{className:l,style:u},p.createElement("span",{className:c.classNames.vhidden},t["aria-label"]),p.createElement("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:a,onChange:n},s),p.createElement("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true"},i,p.createElement(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})))}function zs(t){var e,r=Y(),n=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,u=r.classNames,c=r.components,d=r.labels.labelMonthDropdown;if(!n)return p.createElement(p.Fragment,null);if(!a)return p.createElement(p.Fragment,null);var f=[];if(Cs(n,a))for(var m=ae(n),h=n.getMonth();h<=a.getMonth();h++)f.push(Dt(m,h));else for(var m=ae(new Date),h=0;h<=11;h++)f.push(Dt(m,h));var g=function(b){var _=Number(b.target.value),j=Dt(ae(t.displayMonth),_);t.onChange(j)},y=(e=c?.Dropdown)!==null&&e!==void 0?e:qr;return p.createElement(y,{name:"months","aria-label":d(),className:u.dropdown_month,style:s.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i})},f.map(function(b){return p.createElement("option",{key:b.getMonth(),value:b.getMonth()},l(b,{locale:i}))}))}function Js(t){var e,r=t.displayMonth,n=Y(),a=n.fromDate,s=n.toDate,i=n.locale,l=n.styles,u=n.classNames,c=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,m=[];if(!a)return p.createElement(p.Fragment,null);if(!s)return p.createElement(p.Fragment,null);for(var h=a.getFullYear(),g=s.getFullYear(),y=h;y<=g;y++)m.push(vr(ia(new Date),y));var b=function(j){var k=vr(ae(r),Number(j.target.value));t.onChange(k)},_=(e=c?.Dropdown)!==null&&e!==void 0?e:qr;return p.createElement(_,{name:"years","aria-label":f(),className:u.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:d(r,{locale:i})},m.map(function(j){return p.createElement("option",{key:j.getFullYear(),value:j.getFullYear()},d(j,{locale:i}))}))}function Qs(t,e){var r=v.useState(t),n=r[0],a=r[1],s=e===void 0?n:e;return[s,a]}function Zs(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,s=t.toDate,i=t.fromDate,l=t.numberOfMonths,u=l===void 0?1:l;if(s&&nt(s,a)<0){var c=-1*(u-1);a=de(s,c)}return i&&nt(a,i)<0&&(a=i),ae(a)}function eo(){var t=Y(),e=Zs(t),r=Qs(e,t.month),n=r[0],a=r[1],s=function(i){var l;if(!t.disableNavigation){var u=ae(i);a(u),(l=t.onMonthChange)===null||l===void 0||l.call(t,u)}};return[n,s]}function to(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=ae(t),s=ae(de(a,n)),i=nt(s,a),l=[],u=0;u<i;u++){var c=de(a,u);l.push(c)}return r&&(l=l.reverse()),l}function ro(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=ae(t);if(!r)return de(l,i);var u=nt(r,t);if(!(u<s))return de(l,i)}}function no(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=ae(t);if(!r)return de(l,-i);var u=nt(l,r);if(!(u<=0))return de(l,-i)}}var Gr=v.createContext(void 0);function ao(t){var e=Y(),r=eo(),n=r[0],a=r[1],s=to(n,e),i=ro(n,e),l=no(n,e),u=function(f){return s.some(function(m){return qt(f,m)})},c=function(f,m){u(f)||(m&&Br(f,m)?a(de(f,1+e.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:c,previousMonth:l,nextMonth:i,isDateDisplayed:u};return p.createElement(Gr.Provider,{value:d},t.children)}function it(){var t=v.useContext(Gr);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function pr(t){var e,r=Y(),n=r.classNames,a=r.styles,s=r.components,i=it().goToMonth,l=function(d){i(de(d,t.displayIndex?-t.displayIndex:0))},u=(e=s?.CaptionLabel)!==null&&e!==void 0?e:Vr,c=p.createElement(u,{id:t.id,displayMonth:t.displayMonth});return p.createElement("div",{className:n.caption_dropdowns,style:a.caption_dropdowns},p.createElement("div",{className:n.vhidden},c),p.createElement(zs,{onChange:l,displayMonth:t.displayMonth}),p.createElement(Js,{onChange:l,displayMonth:t.displayMonth}))}function so(t){return p.createElement("svg",M({width:"16px",height:"16px",viewBox:"0 0 120 120"},t),p.createElement("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"}))}function oo(t){return p.createElement("svg",M({width:"16px",height:"16px",viewBox:"0 0 120 120"},t),p.createElement("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"}))}var yt=v.forwardRef(function(t,e){var r=Y(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var i=s.join(" "),l=M(M({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),p.createElement("button",M({},t,{ref:e,type:"button",className:i,style:l}))});function io(t){var e,r,n=Y(),a=n.dir,s=n.locale,i=n.classNames,l=n.styles,u=n.labels,c=u.labelPrevious,d=u.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return p.createElement(p.Fragment,null);var m=c(t.previousMonth,{locale:s}),h=[i.nav_button,i.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:s}),y=[i.nav_button,i.nav_button_next].join(" "),b=(e=f?.IconRight)!==null&&e!==void 0?e:oo,_=(r=f?.IconLeft)!==null&&r!==void 0?r:so;return p.createElement("div",{className:i.nav,style:l.nav},!t.hidePrevious&&p.createElement(yt,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick},a==="rtl"?p.createElement(b,{className:i.nav_icon,style:l.nav_icon}):p.createElement(_,{className:i.nav_icon,style:l.nav_icon})),!t.hideNext&&p.createElement(yt,{name:"next-month","aria-label":g,className:y,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick},a==="rtl"?p.createElement(_,{className:i.nav_icon,style:l.nav_icon}):p.createElement(b,{className:i.nav_icon,style:l.nav_icon})))}function gr(t){var e=Y().numberOfMonths,r=it(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(g){return qt(t.displayMonth,g)}),u=l===0,c=l===i.length-1,d=e>1&&(u||!c),f=e>1&&(c||!u),m=function(){n&&s(n)},h=function(){a&&s(a)};return p.createElement(io,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:m,onNextClick:h})}function lo(t){var e,r=Y(),n=r.classNames,a=r.disableNavigation,s=r.styles,i=r.captionLayout,l=r.components,u=(e=l?.CaptionLabel)!==null&&e!==void 0?e:Vr,c;return a?c=p.createElement(u,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?c=p.createElement(pr,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?c=p.createElement(p.Fragment,null,p.createElement(pr,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.createElement(gr,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})):c=p.createElement(p.Fragment,null,p.createElement(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.createElement(gr,{displayMonth:t.displayMonth,id:t.id})),p.createElement("div",{className:n.caption,style:s.caption},c)}function co(t){var e=Y(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?p.createElement("tfoot",{className:a,style:n.tfoot},p.createElement("tr",null,p.createElement("td",{colSpan:8},r))):p.createElement(p.Fragment,null)}function uo(t,e,r){for(var n=r?He(new Date):ge(new Date,{locale:t,weekStartsOn:e}),a=[],s=0;s<7;s++){var i=re(n,s);a.push(i)}return a}function fo(){var t=Y(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,s=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,c=uo(a,s,i);return p.createElement("tr",{style:r.head_row,className:e.head_row},n&&p.createElement("td",{style:r.head_cell,className:e.head_cell}),c.map(function(d,f){return p.createElement("th",{key:f,scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":u(d,{locale:a})},l(d,{locale:a}))}))}function ho(){var t,e=Y(),r=e.classNames,n=e.styles,a=e.components,s=(t=a?.HeadRow)!==null&&t!==void 0?t:fo;return p.createElement("thead",{style:n.head,className:r.head},p.createElement(s,null))}function mo(t){var e=Y(),r=e.locale,n=e.formatters.formatDay;return p.createElement(p.Fragment,null,n(t.date,{locale:r}))}var Gt=v.createContext(void 0);function vo(t){if(!st(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.createElement(Gt.Provider,{value:e},t.children)}return p.createElement(po,{initialProps:t.initialProps,children:t.children})}function po(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,s=e.max,i=function(c,d,f){var m,h;(m=e.onDayClick)===null||m===void 0||m.call(e,c,d,f);var g=!!(d.selected&&a&&n?.length===a);if(!g){var y=!!(!d.selected&&s&&n?.length===s);if(!y){var b=n?Hr([],n,!0):[];if(d.selected){var _=b.findIndex(function(j){return ne(c,j)});b.splice(_,1)}else b.push(c);(h=e.onSelect)===null||h===void 0||h.call(e,b,c,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(c){var d=s&&n.length>s-1,f=n.some(function(m){return ne(m,c)});return!!(d&&!f)});var u={selected:n,onDayClick:i,modifiers:l};return p.createElement(Gt.Provider,{value:u},r)}function Kt(){var t=v.useContext(Gt);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function go(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?ne(a,t)&&ne(n,t)?void 0:ne(a,t)?{from:a,to:void 0}:ne(n,t)?void 0:$t(n,t)?{from:t,to:a}:{from:n,to:t}:a?$t(t,a)?{from:a,to:t}:{from:t,to:a}:n?Br(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var Xt=v.createContext(void 0);function bo(t){if(!ot(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.createElement(Xt.Provider,{value:e},t.children)}return p.createElement(yo,{initialProps:t.initialProps,children:t.children})}function yo(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},s=a.from,i=a.to,l=e.min,u=e.max,c=function(h,g,y){var b,_;(b=e.onDayClick)===null||b===void 0||b.call(e,h,g,y);var j=go(h,n);(_=e.onSelect)===null||_===void 0||_.call(e,j,h,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],i?(d.range_end=[i],ne(s,i)||(d.range_middle=[{after:s,before:i}])):d.range_end=[s]):i&&(d.range_start=[i],d.range_end=[i]),l&&(s&&!i&&d.disabled.push({after:jt(s,l-1),before:re(s,l-1)}),s&&i&&d.disabled.push({after:s,before:re(s,l-1)}),!s&&i&&d.disabled.push({after:jt(i,l-1),before:re(i,l-1)})),u){if(s&&!i&&(d.disabled.push({before:re(s,-u+1)}),d.disabled.push({after:re(s,u-1)})),s&&i){var f=_e(i,s)+1,m=u-f;d.disabled.push({before:jt(s,m)}),d.disabled.push({after:re(i,m)})}!s&&i&&(d.disabled.push({before:re(i,-u+1)}),d.disabled.push({after:re(i,u-1)}))}return p.createElement(Xt.Provider,{value:{selected:n,onDayClick:c,modifiers:d}},r)}function zt(){var t=v.useContext(Xt);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function pt(t){return Array.isArray(t)?Hr([],t,!0):t!==void 0?[t]:[]}function xo(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=pt(a)}),e}var fe;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(fe||(fe={}));var wo=fe.Selected,we=fe.Disabled,ko=fe.Hidden,_o=fe.Today,Mt=fe.RangeEnd,Ct=fe.RangeMiddle,St=fe.RangeStart,No=fe.Outside;function jo(t,e,r){var n,a=(n={},n[wo]=pt(t.selected),n[we]=pt(t.disabled),n[ko]=pt(t.hidden),n[_o]=[t.today],n[Mt]=[],n[Ct]=[],n[St]=[],n[No]=[],n);return t.fromDate&&a[we].push({before:t.fromDate}),t.toDate&&a[we].push({after:t.toDate}),st(t)?a[we]=a[we].concat(e.modifiers[we]):ot(t)&&(a[we]=a[we].concat(r.modifiers[we]),a[St]=r.modifiers[St],a[Ct]=r.modifiers[Ct],a[Mt]=r.modifiers[Mt]),a}var Kr=v.createContext(void 0);function Do(t){var e=Y(),r=Kt(),n=zt(),a=jo(e,r,n),s=xo(e.modifiers),i=M(M({},a),s);return p.createElement(Kr.Provider,{value:i},t.children)}function Xr(){var t=v.useContext(Kr);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Mo(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Co(t){return!!(t&&typeof t=="object"&&"from"in t)}function So(t){return!!(t&&typeof t=="object"&&"after"in t)}function Oo(t){return!!(t&&typeof t=="object"&&"before"in t)}function Eo(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function To(t,e){var r,n=e.from,a=e.to;if(n&&a){var s=_e(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var i=_e(t,n)>=0&&_e(a,t)>=0;return i}return a?ne(a,t):n?ne(n,t):!1}function $o(t){return Ht(t)}function Po(t){return Array.isArray(t)&&t.every(Ht)}function Fo(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if($o(r))return ne(t,r);if(Po(r))return r.includes(t);if(Co(r))return To(t,r);if(Eo(r))return r.dayOfWeek.includes(t.getDay());if(Mo(r)){var n=_e(r.before,t),a=_e(r.after,t),s=n>0,i=a<0,l=$t(r.before,r.after);return l?i&&s:s||i}return So(r)?_e(t,r.after)>0:Oo(r)?_e(r.before,t)>0:typeof r=="function"?r(t):!1})}function Jt(t,e,r){var n=Object.keys(e).reduce(function(s,i){var l=e[i];return Fo(t,l)&&s.push(i),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!qt(t,r)&&(a.outside=!0),a}function Ao(t,e){for(var r=ae(t[0]),n=Ut(t[t.length-1]),a,s,i=r;i<=n;){var l=Jt(i,e),u=!l.disabled&&!l.hidden;if(!u){i=re(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),a||(a=i),i=re(i,1)}return s||a}var Io=365;function zr(t,e){var r=e.moveBy,n=e.direction,a=e.context,s=e.modifiers,i=e.retry,l=i===void 0?{count:0,lastFocused:t}:i,u=a.weekStartsOn,c=a.fromDate,d=a.toDate,f=a.locale,m={day:re,week:Tt,month:de,year:ta,startOfWeek:function(b){return a.ISOWeek?He(b):ge(b,{locale:f,weekStartsOn:u})},endOfWeek:function(b){return a.ISOWeek?Ir(b):Vt(b,{locale:f,weekStartsOn:u})}},h=m[r](t,n==="after"?1:-1);n==="before"&&c?h=ra([c,h]):n==="after"&&d&&(h=na([d,h]));var g=!0;if(s){var y=Jt(h,s);g=!y.disabled&&!y.hidden}return g?h:l.count>Io?l.lastFocused:zr(h,{moveBy:r,direction:n,context:a,modifiers:s,retry:M(M({},l),{count:l.count+1})})}var Jr=v.createContext(void 0);function Lo(t){var e=it(),r=Xr(),n=v.useState(),a=n[0],s=n[1],i=v.useState(),l=i[0],u=i[1],c=Ao(e.displayMonths,r),d=a??(l&&e.isDateDisplayed(l))?l:c,f=function(){u(a),s(void 0)},m=function(b){s(b)},h=Y(),g=function(b,_){if(a){var j=zr(a,{moveBy:b,direction:_,context:h,modifiers:r});ne(a,j)||(e.goToDate(j,a),m(j))}},y={focusedDay:a,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return p.createElement(Jr.Provider,{value:y},t.children)}function Qt(){var t=v.useContext(Jr);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Wo(t,e){var r=Xr(),n=Jt(t,r,e);return n}var Zt=v.createContext(void 0);function Ro(t){if(!_t(t.initialProps)){var e={selected:void 0};return p.createElement(Zt.Provider,{value:e},t.children)}return p.createElement(Yo,{initialProps:t.initialProps,children:t.children})}function Yo(t){var e=t.initialProps,r=t.children,n=function(s,i,l){var u,c,d;if((u=e.onDayClick)===null||u===void 0||u.call(e,s,i,l),i.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,i,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,i,l)},a={selected:e.selected,onDayClick:n};return p.createElement(Zt.Provider,{value:a},r)}function Qr(){var t=v.useContext(Zt);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Bo(t,e){var r=Y(),n=Qr(),a=Kt(),s=zt(),i=Qt(),l=i.focusDayAfter,u=i.focusDayBefore,c=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,m=i.focus,h=i.focusMonthBefore,g=i.focusMonthAfter,y=i.focusYearBefore,b=i.focusYearAfter,_=i.focusStartOfWeek,j=i.focusEndOfWeek,k=function(w){var x,B,ye,le;_t(r)?(x=n.onDayClick)===null||x===void 0||x.call(n,t,e,w):st(r)?(B=a.onDayClick)===null||B===void 0||B.call(a,t,e,w):ot(r)?(ye=s.onDayClick)===null||ye===void 0||ye.call(s,t,e,w):(le=r.onDayClick)===null||le===void 0||le.call(r,t,e,w)},G=function(w){var x;m(t),(x=r.onDayFocus)===null||x===void 0||x.call(r,t,e,w)},H=function(w){var x;f(),(x=r.onDayBlur)===null||x===void 0||x.call(r,t,e,w)},U=function(w){var x;(x=r.onDayMouseEnter)===null||x===void 0||x.call(r,t,e,w)},D=function(w){var x;(x=r.onDayMouseLeave)===null||x===void 0||x.call(r,t,e,w)},q=function(w){var x;(x=r.onDayPointerEnter)===null||x===void 0||x.call(r,t,e,w)},L=function(w){var x;(x=r.onDayPointerLeave)===null||x===void 0||x.call(r,t,e,w)},Z=function(w){var x;(x=r.onDayTouchCancel)===null||x===void 0||x.call(r,t,e,w)},ee=function(w){var x;(x=r.onDayTouchEnd)===null||x===void 0||x.call(r,t,e,w)},te=function(w){var x;(x=r.onDayTouchMove)===null||x===void 0||x.call(r,t,e,w)},be=function(w){var x;(x=r.onDayTouchStart)===null||x===void 0||x.call(r,t,e,w)},K=function(w){var x;(x=r.onDayKeyUp)===null||x===void 0||x.call(r,t,e,w)},W=function(w){var x;switch(w.key){case"ArrowLeft":w.preventDefault(),w.stopPropagation(),r.dir==="rtl"?l():u();break;case"ArrowRight":w.preventDefault(),w.stopPropagation(),r.dir==="rtl"?u():l();break;case"ArrowDown":w.preventDefault(),w.stopPropagation(),c();break;case"ArrowUp":w.preventDefault(),w.stopPropagation(),d();break;case"PageUp":w.preventDefault(),w.stopPropagation(),w.shiftKey?y():h();break;case"PageDown":w.preventDefault(),w.stopPropagation(),w.shiftKey?b():g();break;case"Home":w.preventDefault(),w.stopPropagation(),_();break;case"End":w.preventDefault(),w.stopPropagation(),j();break}(x=r.onDayKeyDown)===null||x===void 0||x.call(r,t,e,w)},X={onClick:k,onFocus:G,onBlur:H,onKeyDown:W,onKeyUp:K,onMouseEnter:U,onMouseLeave:D,onPointerEnter:q,onPointerLeave:L,onTouchCancel:Z,onTouchEnd:ee,onTouchMove:te,onTouchStart:be};return X}function Ho(){var t=Y(),e=Qr(),r=Kt(),n=zt(),a=_t(t)?e.selected:st(t)?r.selected:ot(t)?n.selected:void 0;return a}function Uo(t){return Object.values(fe).includes(t)}function Vo(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(Uo(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function qo(t,e){var r=M({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=M(M({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Go(t,e,r){var n,a,s,i=Y(),l=Qt(),u=Wo(t,e),c=Bo(t,u),d=Ho(),f=!!(i.onDayClick||i.mode!=="default");v.useEffect(function(){var U;u.outside||l.focusedDay&&f&&ne(l.focusedDay,t)&&((U=r.current)===null||U===void 0||U.focus())},[l.focusedDay,t,r,f,u.outside]);var m=Vo(i,u).join(" "),h=qo(i,u),g=!!(u.outside&&!i.showOutsideDays||u.hidden),y=(s=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:mo,b=p.createElement(y,{date:t,displayMonth:e,activeModifiers:u}),_={style:h,className:m,children:b,role:"gridcell"},j=l.focusTarget&&ne(l.focusTarget,t)&&!u.outside,k=l.focusedDay&&ne(l.focusedDay,t),G=M(M(M({},_),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=k||j?0:-1,n)),c),H={isButton:f,isHidden:g,activeModifiers:u,selectedDays:d,buttonProps:G,divProps:_};return H}function Ko(t){var e=v.useRef(null),r=Go(t.date,t.displayMonth,e);return r.isHidden?p.createElement("div",{role:"gridcell"}):r.isButton?p.createElement(yt,M({name:"day",ref:e},r.buttonProps)):p.createElement("div",M({},r.divProps))}function Xo(t){var e=t.number,r=t.dates,n=Y(),a=n.onWeekNumberClick,s=n.styles,i=n.classNames,l=n.locale,u=n.labels.labelWeekNumber,c=n.formatters.formatWeekNumber,d=c(Number(e),{locale:l});if(!a)return p.createElement("span",{className:i.weeknumber,style:s.weeknumber},d);var f=u(Number(e),{locale:l}),m=function(h){a(e,r,h)};return p.createElement(yt,{name:"week-number","aria-label":f,className:i.weeknumber,style:s.weeknumber,onClick:m},d)}function zo(t){var e,r,n=Y(),a=n.styles,s=n.classNames,i=n.showWeekNumber,l=n.components,u=(e=l?.Day)!==null&&e!==void 0?e:Ko,c=(r=l?.WeekNumber)!==null&&r!==void 0?r:Xo,d;return i&&(d=p.createElement("td",{className:s.cell,style:a.cell},p.createElement(c,{number:t.weekNumber,dates:t.dates}))),p.createElement("tr",{className:s.row,style:a.row},d,t.dates.map(function(f){return p.createElement("td",{className:s.cell,style:a.cell,key:ws(f),role:"presentation"},p.createElement(u,{displayMonth:t.displayMonth,date:f}))}))}function br(t,e,r){for(var n=r?.ISOWeek?Ir(e):Vt(e,r),a=r?.ISOWeek?He(t):ge(t,r),s=_e(n,a),i=[],l=0;l<=s;l++)i.push(re(a,l));var u=i.reduce(function(c,d){var f=r?.ISOWeek?ys(d):js(d,r),m=c.find(function(h){return h.weekNumber===f});return m?(m.dates.push(d),c):(c.push({weekNumber:f,dates:[d]}),c)},[]);return u}function Jo(t,e){var r=br(ae(t),Ut(t),e);if(e?.useFixedWeeks){var n=Ms(t,e);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],i=Tt(s,6-n),l=br(Tt(s,1),i,e);r.push.apply(r,l)}}return r}function Qo(t){var e,r,n,a=Y(),s=a.locale,i=a.classNames,l=a.styles,u=a.hideHead,c=a.fixedWeeks,d=a.components,f=a.weekStartsOn,m=a.firstWeekContainsDate,h=a.ISOWeek,g=Jo(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:h,locale:s,weekStartsOn:f,firstWeekContainsDate:m}),y=(e=d?.Head)!==null&&e!==void 0?e:ho,b=(r=d?.Row)!==null&&r!==void 0?r:zo,_=(n=d?.Footer)!==null&&n!==void 0?n:co;return p.createElement("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"]},!u&&p.createElement(y,null),p.createElement("tbody",{className:i.tbody,style:l.tbody},g.map(function(j){return p.createElement(b,{displayMonth:t.displayMonth,key:j.weekNumber,dates:j.dates,weekNumber:j.weekNumber})})),p.createElement(_,{displayMonth:t.displayMonth}))}function Zo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var ei=Zo()?v.useLayoutEffect:v.useEffect,Ot=!1,ti=0;function yr(){return"react-day-picker-".concat(++ti)}function ri(t){var e,r=t??(Ot?yr():null),n=v.useState(r),a=n[0],s=n[1];return ei(function(){a===null&&s(yr())},[]),v.useEffect(function(){Ot===!1&&(Ot=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function ni(t){var e,r,n=Y(),a=n.dir,s=n.classNames,i=n.styles,l=n.components,u=it().displayMonths,c=ri(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],m=i.month,h=t.displayIndex===0,g=t.displayIndex===u.length-1,y=!h&&!g;a==="rtl"&&(e=[h,g],g=e[0],h=e[1]),h&&(f.push(s.caption_start),m=M(M({},m),i.caption_start)),g&&(f.push(s.caption_end),m=M(M({},m),i.caption_end)),y&&(f.push(s.caption_between),m=M(M({},m),i.caption_between));var b=(r=l?.Caption)!==null&&r!==void 0?r:lo;return p.createElement("div",{key:t.displayIndex,className:f.join(" "),style:m},p.createElement(b,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.createElement(Qo,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth}))}function ai(t){var e=t.initialProps,r=Y(),n=Qt(),a=it(),s=v.useState(!1),i=s[0],l=s[1];v.useEffect(function(){r.initialFocus&&n.focusTarget&&(i||(n.focus(n.focusTarget),l(!0)))},[r.initialFocus,i,n.focus,n.focusTarget,n]);var u=[r.classNames.root,r.className];r.numberOfMonths>1&&u.push(r.classNames.multiple_months),r.showWeekNumber&&u.push(r.classNames.with_weeknumber);var c=M(M({},r.styles.root),r.style),d=Object.keys(e).filter(function(f){return f.startsWith("data-")}).reduce(function(f,m){var h;return M(M({},f),(h={},h[m]=e[m],h))},{});return p.createElement("div",M({className:u.join(" "),style:c,dir:r.dir,id:r.id},d),p.createElement("div",{className:r.classNames.months,style:r.styles.months},a.displayMonths.map(function(f,m){return p.createElement(ni,{key:m,displayIndex:m,displayMonth:f})})))}function si(t){var e=t.children,r=Ss(t,["children"]);return p.createElement(Ks,{initialProps:r},p.createElement(ao,null,p.createElement(Ro,{initialProps:r},p.createElement(vo,{initialProps:r},p.createElement(bo,{initialProps:r},p.createElement(Do,null,p.createElement(Lo,null,e)))))))}function oi(t){return p.createElement(si,M({},t),p.createElement(ai,{initialProps:t}))}function Zr({className:t,classNames:e,showOutsideDays:r=!0,...n}){return o.jsx(oi,{showOutsideDays:r,className:Ye("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ye(rr({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ye("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ye(rr({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...a})=>o.jsx(In,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(Ln,{className:"h-4 w-4"})},...n})}Zr.displayName="Calendar";const en="Popover",[tn,yl]=xn(en,[Er]),er=Er(),[ii,ze]=tn(en),li=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=t,l=er(e),u=v.useRef(null),[c,d]=v.useState(!1),[f=!1,m]=Nn({prop:n,defaultProp:a,onChange:s});return v.createElement(jn,l,v.createElement(ii,{scope:e,contentId:Un(),triggerRef:u,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:c,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:i},r))},ci="PopoverTrigger",ui=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=ze(ci,r),s=er(r),i=$r(e,a.triggerRef),l=v.createElement(Pr.button,Ce({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":an(a.open)},n,{ref:i,onClick:vt(t.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:v.createElement(Dn,Ce({asChild:!0},s),l)}),rn="PopoverPortal",[di,fi]=tn(rn,{forceMount:void 0}),hi=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,s=ze(rn,e);return v.createElement(di,{scope:e,forceMount:r},v.createElement(Tr,{present:r||s.open},v.createElement(Wn,{asChild:!0,container:a},n)))},at="PopoverContent",mi=v.forwardRef((t,e)=>{const r=fi(at,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,s=ze(at,t.__scopePopover);return v.createElement(Tr,{present:n||s.open},s.modal?v.createElement(vi,Ce({},a,{ref:e})):v.createElement(pi,Ce({},a,{ref:e})))}),vi=v.forwardRef((t,e)=>{const r=ze(at,t.__scopePopover),n=v.useRef(null),a=$r(e,n),s=v.useRef(!1);return v.useEffect(()=>{const i=n.current;if(i)return Rn(i)},[]),v.createElement(Yn,{as:wn,allowPinchZoom:!0},v.createElement(nn,Ce({},t,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=r.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:vt(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:vt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})))}),pi=v.forwardRef((t,e)=>{const r=ze(at,t.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return v.createElement(nn,Ce({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i;if((i=t.onCloseAutoFocus)===null||i===void 0||i.call(t,s),!s.defaultPrevented){var l;n.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),s.preventDefault()}n.current=!1,a.current=!1},onInteractOutside:s=>{var i,l;(i=t.onInteractOutside)===null||i===void 0||i.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=s.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(u))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}}))}),nn=v.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...f}=t,m=ze(at,r),h=er(r);return Bn(),v.createElement(Hn,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s},v.createElement(kn,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1)},v.createElement(_n,Ce({"data-state":an(m.open),role:"dialog",id:m.contentId},h,f,{ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function an(t){return t?"open":"closed"}const gi=li,bi=ui,yi=hi,sn=mi,xi=gi,wi=bi,on=v.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>o.jsx(yi,{children:o.jsx(sn,{ref:a,align:e,sideOffset:r,className:Ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));on.displayName=sn.displayName;function xr(t){const{usr:e,thisAssetA:r,thisAssetB:n,assetAData:a,assetBData:s,orderType:i,marketSearch:l,usrBalances:u}=t,{buyOrders:c,sellOrders:d}=t,[f,m]=v.useState(0),[h,g]=v.useState(0),[y,b]=v.useState(0),[_,j]=v.useState(0);v.useEffect(()=>{if(f&&h&&y){if(i==="buy"&&a&&a.market_fee_percent&&a.market_fee_percent>0){const R=parseFloat(f)*(a.market_fee_percent/100);j(R.toFixed(a.precision))}if(i==="sell"&&s&&s.market_fee_percent&&s.market_fee_percent>0){const R=parseFloat(y)*(s.market_fee_percent/100);j(R.toFixed(s.precision))}}},[f,h,y]);const[k,G]=v.useState("1hr"),[H,U]=v.useState(()=>{const R=new Date,C=60*60*1e3;return new Date(R.getTime()+C)}),[D,q]=v.useState(new Date(Date.now()+7*24*60*60*1e3));v.useEffect(()=>{k==="specific"&&D&&U(D)},[k,D]);const L=On({defaultValues:{account:""}}),[Z,ee]=v.useState(""),[te,be]=v.useState(),[K,W]=v.useState(!1),[X,w]=v.useState(!1),[x,B]=v.useState(!1);v.useEffect(()=>{if(x){async function R(){W(!0);var C=new Date;C.setMinutes(C.getMinutes()+60);const A=i==="buy"?[{seller:e.id,amount_to_sell:{amount:ht(y,s.precision).toFixed(0),asset_id:l.find(T=>T.s===n).id},min_to_receive:{amount:ht(f,a.precision).toFixed(0),asset_id:l.find(T=>T.s===r).id},expiration:H,fill_or_kill:!1,extensions:[]}]:[{seller:e.id,amount_to_sell:{amount:ht(f,a.precision).toFixed(0),asset_id:l.find(T=>T.s===r).id},min_to_receive:{amount:ht(y,s.precision).toFixed(0),asset_id:l.find(T=>T.s===n).id},expiration:H,fill_or_kill:!1,extensions:[]}];be(A);const z=await fetch(`http://localhost:8080/api/deeplink/${e.chain}/limit_order_create`,{method:"POST",body:JSON.stringify(A)});if(!z.ok){console.log("Failed to generate deeplink");return}const $=await z.json();$&&$.result&&$.result.generatedDeepLink&&ee($.result.generatedDeepLink),W(!1)}l&&R()}},[x,r,n,l]);const[ye,le]=v.useState(!1),Qe=()=>{ye||(le(!0),setTimeout(()=>{le(!1)},1e4))},[V,lt]=v.useState(0),[xe,ct]=v.useState(0);return v.useEffect(()=>{function R(C){const A=C.id,z=u.find($=>$.asset_id===A);return z?Gn(z.amount,C.precision).toLocaleString(void 0,{minimumFractionDigits:C.precision}):0}if(a&&u){const C=R(a);lt(C)}if(s&&u){const C=R(s);ct(C)}},[a,s,u]),o.jsxs(me,{children:[o.jsxs(ve,{className:"pb-2",children:[o.jsx(pe,{children:i==="buy"?`Buying ${r} with ${n}`:`Selling ${r} for ${n}`}),o.jsx(Ne,{children:"Use this form to create a limit order operation."})]}),o.jsxs(Be,{children:[r&&n&&l&&a&&s?o.jsx(En,{...L,children:o.jsxs("form",{onSubmit:R=>{B(!0),w(!0),R.preventDefault()},children:[o.jsx(Te,{control:L.control,name:"sellPrice",render:({field:R})=>o.jsxs($e,{children:[o.jsx(Pe,{children:o.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[o.jsx("div",{className:"mt-1",children:"Price"}),o.jsx("div",{className:"text-gray-500 text-right",children:i==="buy"&&!d||d&&!d.length||i==="sell"&&!c||c&&!c.length?null:o.jsx("span",{variant:"link",onClick:C=>{C.preventDefault();let A;i==="buy"&&d&&d.length>0?A=Me(d[0].price,s.precision):i==="sell"&&c&&c.length>0&&(A=Me(c[0].price,s.precision)),A&&(g(parseFloat(A).toFixed(i==="buy"?s.precision:a.precision)),f&&b((parseFloat(A)*parseFloat(f)).toFixed(s.precision)))},children:o.jsx(ke,{children:i==="buy"?"Use lowest ask":"Use highest bid"})})})]})}),o.jsx(Fe,{onChange:C=>{const A=C.target.value;if(/^[0-9,]*\.?[0-9]*$/.test(A)){const $=parseFloat(A.replaceAll(",",""));$&&(g($.toFixed(i==="buy"?s.precision:a.precision)),f&&b(($*f).toFixed(i==="buy"?s.precision:a.precision)))}},children:o.jsx(Le,{value:h,placeholder:h,className:"mb-3"})}),o.jsx(Ae,{children:i==="buy"?`Your price per ${r} in ${n}`:`Your price per ${n} in ${r}`}),o.jsx(Ue,{})]})}),o.jsx(Te,{control:L.control,name:"sellAmount",render:({field:R})=>o.jsxs($e,{children:[o.jsx(Pe,{children:o.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[o.jsx("div",{className:"mt-1",children:"Amount"}),o.jsx("div",{className:"text-gray-500 text-right",children:i==="sell"&&V?o.jsx(ke,{onClick:()=>{let C=parseFloat(V.replaceAll(",",""));C&&(m(C.toFixed(a.precision)),h&&b((C*h).toFixed(s.precision)))},children:"Use balance"}):null})]})}),o.jsx(Fe,{onChange:C=>{const A=C.target.value;if(/^[0-9,]*\.?[0-9]*$/.test(A)){const $=parseFloat(A.replaceAll(",",""));$&&(m($.toFixed(a.precision)),h&&b(($*h).toFixed(s.precision)))}},children:o.jsx(Le,{value:f,placeholder:f,className:"mb-3"})}),o.jsx(Ae,{children:i==="buy"?`The amount of ${r} you want to buy`:`The amount of ${r} you will have to spend`}),o.jsx(Ue,{})]})}),o.jsx(Te,{control:L.control,name:"sellTotal",render:({field:R})=>o.jsxs($e,{children:[o.jsx(Pe,{children:o.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[o.jsx("div",{className:"mt-1",children:"Total"}),o.jsx("div",{className:"text-gray-500 text-right",children:i==="buy"&&xe?o.jsx(ke,{onClick:()=>{let C=parseFloat(xe.replaceAll(",",""));C&&(b(C.toFixed(s.precision)),h&&m((C/h).toFixed(a.precision)))},children:"Use balance"}):null})]})}),o.jsx(Fe,{onChange:C=>{const A=C.target.value;if(/^[0-9,]*\.?[0-9]*$/.test(A)){const $=parseFloat(A.replaceAll(",",""));$&&(b($.toFixed(s.precision)),h&&m(($/h).toFixed(a.precision)))}},children:o.jsx(Le,{value:y,placeholder:y,className:"mb-3"})}),o.jsx(Ae,{children:i==="buy"?`The total ${n} you will have to spend`:`The total ${n} you will receive`}),i==="buy"&&xe&&parseFloat(xe.replaceAll(",","")).toFixed(s.precision)<f&&y-parseFloat(xe.replaceAll(",",""))>0?o.jsxs(Ue,{children:["A further"," ",y-parseFloat(xe.replaceAll(",","")).toFixed(s.precision)," ",n," is required"]}):null]})}),o.jsx(Te,{control:L.control,name:"expiry",render:({field:R})=>o.jsxs($e,{children:[o.jsx(Pe,{children:"Limit order expriration"}),o.jsx(Fe,{onValueChange:C=>{G(C);const A=60*60*1e3,z=24*A;if(C!=="specific"&&C!=="fkill"){const $=new Date;let T;if(C==="1hr")T=new Date($.getTime()+A);else if(C==="12hr"){const O=A*12;T=new Date($.getTime()+O)}else if(C==="24hr"){const O=z;T=new Date($.getTime()+O)}else if(C==="7d"){const O=z*7;T=new Date($.getTime()+O)}else if(C==="30d"){const O=z*30;T=new Date($.getTime()+O)}T&&q(T),U(C)}else if(C==="fkill"){const $=new Date;U(new Date($.getTime()+z))}else C==="specific"&&U()},children:o.jsxs(Tn,{children:[o.jsx($n,{className:"mb-3",children:o.jsx(Pn,{placeholder:"1hr"})}),o.jsxs(Fn,{className:"bg-white",children:[o.jsx(Ie,{value:"1hr",children:"1 hour"}),o.jsx(Ie,{value:"12hr",children:"12 hours"}),o.jsx(Ie,{value:"24hr",children:"24 hours"}),o.jsx(Ie,{value:"7d",children:"7 days"}),o.jsx(Ie,{value:"30d",children:"30 days"}),o.jsx(Ie,{value:"specific",children:"Specific date"}),o.jsx(Ie,{value:"fkill",children:"Fill or kill"})]})]})}),o.jsxs(Ae,{children:[k==="specific"?o.jsxs(xi,{children:[o.jsx(wi,{asChild:!0,children:o.jsxs(J,{variant:"outline",className:Ye("w-[240px] justify-start text-left font-normal",!D&&"text-muted-foreground"),children:[o.jsx(Vn,{className:"mr-2 h-4 w-4"}),D?Oe(D,"PPP"):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(on,{className:"w-auto p-0",align:"start",children:o.jsx(Zr,{mode:"single",selected:D,onSelect:C=>{if(new Date(C)<new Date){console.log("Not a valid date"),q(new Date(Date.now()+1*24*60*60*1e3));return}console.log("Setting expiry date"),q(C)},initialFocus:!0})})]}):null,k==="fkill"?"This order immediately expires if not fillable":null,k!=="specific"&&k!=="fkill"?`This limit order will expire ${k} after broadcast`:null]}),o.jsx(Ue,{})]})}),o.jsx(Te,{control:L.control,disabled:!0,name:"fee",render:({field:R})=>o.jsxs($e,{children:[o.jsx(Pe,{children:"Fee"}),o.jsx(Fe,{children:o.jsx(Le,{disabled:!0,label:"fees",value:"0.4826 BTS",placeholder:1})}),o.jsx(Ae,{children:"The network fee to broadcast this operation"}),k==="fkill"||e.id===e.referrer?o.jsxs(Ue,{children:[k==="fkill"?`Unfilled rebate: ${1*.4826} BTS (instant)`:null,e.id===e.referrer?`LTM rebate: ${.8*.4826} BTS (vesting)`:null]}):null]})}),i==="buy"&&a&&a.market_fee_percent&&a.market_fee_percent>0?o.jsx(Te,{control:L.control,disabled:!0,name:"marketFees",render:({field:R})=>o.jsxs($e,{children:[o.jsx(Pe,{children:"Market fee"}),o.jsx(Fe,{children:o.jsx(Le,{disabled:!0,value:`${_} ${a.symbol}`,placeholder:`${_} ${a.symbol}`})}),o.jsx(Ae,{children:"The market fee applied by asset issuer"})]})}):null,i==="sell"&&s&&s.market_fee_percent&&s.market_fee_percent>0?o.jsx(Te,{control:L.control,disabled:!0,name:"marketFees",render:({field:R})=>o.jsxs($e,{children:[o.jsx(Pe,{children:"Market fee"}),o.jsx(Fe,{children:o.jsx(Le,{disabled:!0,value:`${_} ${s.symbol}`,placeholder:`${_} ${s.symbol}`})}),o.jsx(Ue,{}),o.jsx(Ae,{children:"The market fee applied by asset issuer"})]})}):null,!f||!h||!H||K!==!1?o.jsx(J,{className:"mt-7 mb-1",variant:"outline",disabled:!0,type:"submit",children:"Submit"}):o.jsx(J,{className:"mt-7 mb-1",variant:"outline",type:"submit",children:"Submit"})]})}):"Loading market data...",X&&x&&Z&&o.jsx(Fr,{open:X,onOpenChange:R=>{R||(B(""),ee(""),be()),w(R)},children:o.jsx(Ar,{className:"sm:max-w-[425px] bg-white",children:o.jsxs(o.Fragment,{children:[o.jsx("h1",{className:"scroll-m-20 text-2xl font-extrabold tracking-tight",children:i==="buy"?`Buying ${f} ${r} for ${y} ${n}`:`Selling ${f} ${r} for ${y} ${n}`}),o.jsxs("h3",{className:"scroll-m-20 text-1xl font-semibold tracking-tight mb-3 mt-1",children:["With the account: ",e.username," (",e.id,")",o.jsx("br",{}),"Your Bitshares create limit order operation is ready!",o.jsx("br",{}),"Use the links below to interact with the Beet wallet."]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsx(J,{color:"gray",className:"w-full",onClick:()=>{qn(JSON.stringify(te,null,4))},variant:"outline",children:"Copy operation JSON"}),ye?o.jsx(J,{variant:"outline",disabled:!0,children:"Downloading..."}):o.jsx("a",{href:`data:text/json;charset=utf-8,${Z}`,download:"pool_exchange.json",target:"_blank",rel:"noreferrer",onClick:Qe,children:o.jsx(J,{variant:"outline",className:"w-full",children:"Download Beet operation JSON"})}),o.jsx("a",{href:`rawbeet://api?chain=BTS&request=${Z}`,children:o.jsx(J,{variant:"outline",className:"w-full",children:"Trigger raw Beet deeplink"})})]})]})})})]})]})}const Pt="horizontal",ki=["horizontal","vertical"],ln=v.forwardRef((t,e)=>{const{decorative:r,orientation:n=Pt,...a}=t,s=cn(n)?n:Pt,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return v.createElement(Pr.div,Ce({"data-orientation":s},l,a,{ref:e}))});ln.propTypes={orientation(t,e,r){const n=t[e],a=String(n);return n&&!cn(n)?new Error(_i(a,r)):null}};function _i(t,e){return`Invalid prop \`orientation\` of value \`${t}\` supplied to \`${e}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${Pt}\`.`}function cn(t){return ki.includes(t)}const un=ln,Ft=v.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>o.jsx(un,{ref:a,decorative:r,orientation:e,className:Ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ft.displayName=un.displayName;function wr(t){const{cardType:e,activeLimitCard:r,assetA:n,assetAData:a,assetB:s,assetBData:i,buyOrders:l,sellOrders:u,marketInProgress:c,orderBookItr:d,setOrderBookItr:f,_resetOrders:m}=t;return o.jsxs(o.Fragment,{children:[c?o.jsx(me,{children:o.jsxs(ve,{children:[o.jsx(pe,{children:"Loading market orders"}),o.jsxs(Ne,{children:["Fetching requested market data, please wait...",o.jsx("br",{}),o.jsx(J,{className:"mt-5",onClick:()=>f(d+1),children:"Retry request"})]})]})}):null,(e==="buy"&&!l||e==="sell"&&!u)&&!c?o.jsx(me,{children:o.jsxs(ve,{children:[o.jsx(pe,{children:"Loading market orders"}),o.jsxs(Ne,{children:["Failed to fetch market data, please try again.",o.jsx("br",{}),o.jsx(J,{className:"mt-5",onClick:()=>f(d+1),children:"Refresh"})]})]})}):null,(e==="buy"&&l||e==="sell"&&u)&&!c?o.jsxs(me,{children:[o.jsxs(ve,{children:[o.jsx(pe,{children:o.jsxs("div",{className:"grid grid-cols-2",children:[o.jsxs("div",{children:[e==="buy"?"Buy":"Sell"," orders"]}),o.jsxs("div",{className:"text-right",children:["Market depth: ",e==="buy"?l.map(h=>parseFloat(h.quote)).reduce((h,g)=>h+g,0).toFixed(i.precision):u.map(h=>parseFloat(h.quote)).reduce((h,g)=>h+g,0).toFixed(a.precision)," (",e==="buy"?i.symbol:a.symbol,")"]})]})}),o.jsx(Ne,{children:e==="buy"?`The following table displays network offers to purchase ${n} with ${s}`:`The following table displays network offers to sell ${n} for ${s}`})]}),o.jsx(Be,{children:e==="buy"&&!l.length||e==="sell"&&!u.length?o.jsxs(o.Fragment,{children:["No ",e==="buy"?"buy":"sell"," limit orders found"]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4",children:[o.jsx("div",{className:"col-span-1 pl-3",children:"Price"}),o.jsx("div",{className:"col-span-1 pl-3 text-md",children:e==="buy"?"Buying":"Selling"}),o.jsx("div",{className:"col-span-1 pl-3",children:e==="buy"?"Selling":"Buying"}),o.jsx("div",{className:"col-span-1 pl-3",children:"Total"})]}),o.jsx(kt,{className:"h-72 w-full rounded-md border",children:o.jsx("div",{className:"grid grid-cols-4",children:e==="buy"?l.map((h,g)=>o.jsx("div",{className:"col-span-4",children:o.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:parseFloat(h.price).toFixed(a.precision)}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:h.base}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:h.quote}),o.jsx("div",{className:"col-span-1 pl-3",children:l.slice(0,g+1).map(y=>parseFloat(y.base)).reduce((y,b)=>y+b,0).toFixed(a.precision)}),o.jsx("div",{className:"col-span-4",children:o.jsx(Ft,{})})]})},`moc_${e}_${g}`)):u.map((h,g)=>o.jsx("div",{className:"col-span-4",children:o.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:parseFloat(h.price).toFixed(i.precision)}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:h.base}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:h.quote}),o.jsx("div",{className:"col-span-1 pl-3",children:u.slice(0,g+1).map(y=>parseFloat(y.base)).reduce((y,b)=>y+b,0).toFixed(a.precision)}),o.jsx("div",{className:"col-span-4",children:o.jsx(Ft,{})})]})},`moc_${e}_${g}`))})})]})}),o.jsx(wt,{children:o.jsx(J,{onClick:()=>{m(),f(d+1)},children:"Refresh"})})]}):null]})}function je(t){return Array.isArray?Array.isArray(t):hn(t)==="[object Array]"}const Ni=1/0;function ji(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-Ni?"-0":e}function Di(t){return t==null?"":ji(t)}function he(t){return typeof t=="string"}function dn(t){return typeof t=="number"}function Mi(t){return t===!0||t===!1||Ci(t)&&hn(t)=="[object Boolean]"}function fn(t){return typeof t=="object"}function Ci(t){return fn(t)&&t!==null}function ie(t){return t!=null}function Et(t){return!t.trim().length}function hn(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Si="Incorrect 'index' type",Oi=t=>`Invalid value for key ${t}`,Ei=t=>`Pattern length exceeds max of ${t}.`,Ti=t=>`Missing ${t} property in key`,$i=t=>`Property 'weight' in key '${t}' must be a positive integer`,kr=Object.prototype.hasOwnProperty;class Pi{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let a=mn(n);r+=a.weight,this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function mn(t){let e=null,r=null,n=null,a=1,s=null;if(he(t)||je(t))n=t,e=_r(t),r=At(t);else{if(!kr.call(t,"name"))throw new Error(Ti("name"));const i=t.name;if(n=i,kr.call(t,"weight")&&(a=t.weight,a<=0))throw new Error($i(i));e=_r(i),r=At(i),s=t.getFn}return{path:e,id:r,weight:a,src:n,getFn:s}}function _r(t){return je(t)?t:t.split(".")}function At(t){return je(t)?t.join("."):t}function Fi(t,e){let r=[],n=!1;const a=(s,i,l)=>{if(ie(s))if(!i[l])r.push(s);else{let u=i[l];const c=s[u];if(!ie(c))return;if(l===i.length-1&&(he(c)||dn(c)||Mi(c)))r.push(Di(c));else if(je(c)){n=!0;for(let d=0,f=c.length;d<f;d+=1)a(c[d],i,l+1)}else i.length&&a(c,i,l+1)}};return a(t,he(e)?e.split("."):e,0),n?r:r[0]}const Ai={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ii={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Li={location:0,threshold:.6,distance:100},Wi={useExtendedSearch:!1,getFn:Fi,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var S={...Ii,...Ai,...Li,...Wi};const Ri=/[^ ]+/g;function Yi(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(a){const s=a.match(Ri).length;if(r.has(s))return r.get(s);const i=1/Math.pow(s,.5*t),l=parseFloat(Math.round(i*n)/n);return r.set(s,l),l},clear(){r.clear()}}}class tr{constructor({getFn:e=S.getFn,fieldNormWeight:r=S.fieldNormWeight}={}){this.norm=Yi(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,he(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();he(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!ie(e)||Et(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((a,s)=>{let i=a.getFn?a.getFn(e):this.getFn(e,a.path);if(ie(i)){if(je(i)){let l=[];const u=[{nestedArrIndex:-1,value:i}];for(;u.length;){const{nestedArrIndex:c,value:d}=u.pop();if(ie(d))if(he(d)&&!Et(d)){let f={v:d,i:c,n:this.norm.get(d)};l.push(f)}else je(d)&&d.forEach((f,m)=>{u.push({nestedArrIndex:m,value:f})})}n.$[s]=l}else if(he(i)&&!Et(i)){let l={v:i,n:this.norm.get(i)};n.$[s]=l}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function vn(t,e,{getFn:r=S.getFn,fieldNormWeight:n=S.fieldNormWeight}={}){const a=new tr({getFn:r,fieldNormWeight:n});return a.setKeys(t.map(mn)),a.setSources(e),a.create(),a}function Bi(t,{getFn:e=S.getFn,fieldNormWeight:r=S.fieldNormWeight}={}){const{keys:n,records:a}=t,s=new tr({getFn:e,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(a),s}function mt(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:a=S.distance,ignoreLocation:s=S.ignoreLocation}={}){const i=e/t.length;if(s)return i;const l=Math.abs(n-r);return a?i+l/a:l?1:i}function Hi(t=[],e=S.minMatchCharLength){let r=[],n=-1,a=-1,s=0;for(let i=t.length;s<i;s+=1){let l=t[s];l&&n===-1?n=s:!l&&n!==-1&&(a=s-1,a-n+1>=e&&r.push([n,a]),n=-1)}return t[s-1]&&s-n>=e&&r.push([n,s-1]),r}const Re=32;function Ui(t,e,r,{location:n=S.location,distance:a=S.distance,threshold:s=S.threshold,findAllMatches:i=S.findAllMatches,minMatchCharLength:l=S.minMatchCharLength,includeMatches:u=S.includeMatches,ignoreLocation:c=S.ignoreLocation}={}){if(e.length>Re)throw new Error(Ei(Re));const d=e.length,f=t.length,m=Math.max(0,Math.min(n,f));let h=s,g=m;const y=l>1||u,b=y?Array(f):[];let _;for(;(_=t.indexOf(e,g))>-1;){let D=mt(e,{currentLocation:_,expectedLocation:m,distance:a,ignoreLocation:c});if(h=Math.min(D,h),g=_+d,y){let q=0;for(;q<d;)b[_+q]=1,q+=1}}g=-1;let j=[],k=1,G=d+f;const H=1<<d-1;for(let D=0;D<d;D+=1){let q=0,L=G;for(;q<L;)mt(e,{errors:D,currentLocation:m+L,expectedLocation:m,distance:a,ignoreLocation:c})<=h?q=L:G=L,L=Math.floor((G-q)/2+q);G=L;let Z=Math.max(1,m-L+1),ee=i?f:Math.min(m+L,f)+d,te=Array(ee+2);te[ee+1]=(1<<D)-1;for(let K=ee;K>=Z;K-=1){let W=K-1,X=r[t.charAt(W)];if(y&&(b[W]=+!!X),te[K]=(te[K+1]<<1|1)&X,D&&(te[K]|=(j[K+1]|j[K])<<1|1|j[K+1]),te[K]&H&&(k=mt(e,{errors:D,currentLocation:W,expectedLocation:m,distance:a,ignoreLocation:c}),k<=h)){if(h=k,g=W,g<=m)break;Z=Math.max(1,2*m-g)}}if(mt(e,{errors:D+1,currentLocation:m,expectedLocation:m,distance:a,ignoreLocation:c})>h)break;j=te}const U={isMatch:g>=0,score:Math.max(.001,k)};if(y){const D=Hi(b,l);D.length?u&&(U.indices=D):U.isMatch=!1}return U}function Vi(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const a=t.charAt(r);e[a]=(e[a]||0)|1<<n-r-1}return e}class pn{constructor(e,{location:r=S.location,threshold:n=S.threshold,distance:a=S.distance,includeMatches:s=S.includeMatches,findAllMatches:i=S.findAllMatches,minMatchCharLength:l=S.minMatchCharLength,isCaseSensitive:u=S.isCaseSensitive,ignoreLocation:c=S.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:s,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(m,h)=>{this.chunks.push({pattern:m,alphabet:Vi(m),startIndex:h})},f=this.pattern.length;if(f>Re){let m=0;const h=f%Re,g=f-h;for(;m<g;)d(this.pattern.substr(m,Re),m),m+=Re;if(h){const y=f-Re;d(this.pattern.substr(y),y)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return n&&(g.indices=[[0,e.length-1]]),g}const{location:a,distance:s,threshold:i,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let d=[],f=0,m=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:b})=>{const{isMatch:_,score:j,indices:k}=Ui(e,g,y,{location:a+b,distance:s,threshold:i,findAllMatches:l,minMatchCharLength:u,includeMatches:n,ignoreLocation:c});_&&(m=!0),f+=j,_&&k&&(d=[...d,...k])});let h={isMatch:m,score:m?f/this.chunks.length:1};return m&&n&&(h.indices=d),h}}class Ee{constructor(e){this.pattern=e}static isMultiMatch(e){return Nr(e,this.multiRegex)}static isSingleMatch(e){return Nr(e,this.singleRegex)}search(){}}function Nr(t,e){const r=t.match(e);return r?r[1]:null}class qi extends Ee{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Gi extends Ee{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Ki extends Ee{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Xi extends Ee{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class zi extends Ee{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Ji extends Ee{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class gn extends Ee{constructor(e,{location:r=S.location,threshold:n=S.threshold,distance:a=S.distance,includeMatches:s=S.includeMatches,findAllMatches:i=S.findAllMatches,minMatchCharLength:l=S.minMatchCharLength,isCaseSensitive:u=S.isCaseSensitive,ignoreLocation:c=S.ignoreLocation}={}){super(e),this._bitapSearch=new pn(e,{location:r,threshold:n,distance:a,includeMatches:s,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class bn extends Ee{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n;const a=[],s=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+s,a.push([n,r-1]);const i=!!a.length;return{isMatch:i,score:i?0:1,indices:a}}}const It=[qi,bn,Ki,Xi,Ji,zi,Gi,gn],jr=It.length,Qi=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Zi="|";function el(t,e={}){return t.split(Zi).map(r=>{let n=r.trim().split(Qi).filter(s=>s&&!!s.trim()),a=[];for(let s=0,i=n.length;s<i;s+=1){const l=n[s];let u=!1,c=-1;for(;!u&&++c<jr;){const d=It[c];let f=d.isMultiMatch(l);f&&(a.push(new d(f,e)),u=!0)}if(!u)for(c=-1;++c<jr;){const d=It[c];let f=d.isSingleMatch(l);if(f){a.push(new d(f,e));break}}}return a})}const tl=new Set([gn.type,bn.type]);class rl{constructor(e,{isCaseSensitive:r=S.isCaseSensitive,includeMatches:n=S.includeMatches,minMatchCharLength:a=S.minMatchCharLength,ignoreLocation:s=S.ignoreLocation,findAllMatches:i=S.findAllMatches,location:l=S.location,threshold:u=S.threshold,distance:c=S.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:a,findAllMatches:i,ignoreLocation:s,location:l,threshold:u,distance:c},this.pattern=r?e:e.toLowerCase(),this.query=el(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a}=this.options;e=a?e:e.toLowerCase();let s=0,i=[],l=0;for(let u=0,c=r.length;u<c;u+=1){const d=r[u];i.length=0,s=0;for(let f=0,m=d.length;f<m;f+=1){const h=d[f],{isMatch:g,indices:y,score:b}=h.search(e);if(g){if(s+=1,l+=b,n){const _=h.constructor.type;tl.has(_)?i=[...i,...y]:i.push(y)}}else{l=0,s=0,i.length=0;break}}if(s){let f={isMatch:!0,score:l/s};return n&&(f.indices=i),f}}return{isMatch:!1,score:1}}}const Lt=[];function nl(...t){Lt.push(...t)}function Wt(t,e){for(let r=0,n=Lt.length;r<n;r+=1){let a=Lt[r];if(a.condition(t,e))return new a(t,e)}return new pn(t,e)}const xt={AND:"$and",OR:"$or"},Rt={PATH:"$path",PATTERN:"$val"},Yt=t=>!!(t[xt.AND]||t[xt.OR]),al=t=>!!t[Rt.PATH],sl=t=>!je(t)&&fn(t)&&!Yt(t),Dr=t=>({[xt.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function yn(t,e,{auto:r=!0}={}){const n=a=>{let s=Object.keys(a);const i=al(a);if(!i&&s.length>1&&!Yt(a))return n(Dr(a));if(sl(a)){const u=i?a[Rt.PATH]:s[0],c=i?a[Rt.PATTERN]:a[u];if(!he(c))throw new Error(Oi(u));const d={keyId:At(u),pattern:c};return r&&(d.searcher=Wt(c,e)),d}let l={children:[],operator:s[0]};return s.forEach(u=>{const c=a[u];je(c)&&c.forEach(d=>{l.children.push(n(d))})}),l};return Yt(t)||(t=Dr(t)),n(t)}function ol(t,{ignoreFieldNorm:e=S.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:s,score:i})=>{const l=a?a.weight:null;n*=Math.pow(i===0&&l?Number.EPSILON:i,(l||1)*(e?1:s))}),r.score=n})}function il(t,e){const r=t.matches;e.matches=[],ie(r)&&r.forEach(n=>{if(!ie(n.indices)||!n.indices.length)return;const{indices:a,value:s}=n;let i={indices:a,value:s};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),e.matches.push(i)})}function ll(t,e){e.score=t.score}function cl(t,e,{includeMatches:r=S.includeMatches,includeScore:n=S.includeScore}={}){const a=[];return r&&a.push(il),n&&a.push(ll),t.map(s=>{const{idx:i}=s,l={item:e[i],refIndex:i};return a.length&&a.forEach(u=>{u(s,l)}),l})}class Je{constructor(e,r={},n){this.options={...S,...r},this.options.useExtendedSearch,this._keyStore=new Pi(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof tr))throw new Error(Si);this._myIndex=r||vn(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ie(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,a-=1,r.push(s))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:s,sortFn:i,ignoreFieldNorm:l}=this.options;let u=he(e)?he(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return ol(u,{ignoreFieldNorm:l}),s&&u.sort(i),dn(r)&&r>-1&&(u=u.slice(0,r)),cl(u,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const r=Wt(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:s,i,n:l})=>{if(!ie(s))return;const{isMatch:u,score:c,indices:d}=r.searchIn(s);u&&a.push({item:s,idx:i,matches:[{score:c,value:s,norm:l,indices:d}]})}),a}_searchLogical(e){const r=yn(e,this.options),n=(l,u,c)=>{if(!l.children){const{keyId:f,searcher:m}=l,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(u,f),searcher:m});return h&&h.length?[{idx:c,item:u,matches:h}]:[]}const d=[];for(let f=0,m=l.children.length;f<m;f+=1){const h=l.children[f],g=n(h,u,c);if(g.length)d.push(...g);else if(l.operator===xt.AND)return[]}return d},a=this._myIndex.records,s={},i=[];return a.forEach(({$:l,i:u})=>{if(ie(l)){let c=n(r,l,u);c.length&&(s[u]||(s[u]={idx:u,item:l,matches:[]},i.push(s[u])),c.forEach(({matches:d})=>{s[u].matches.push(...d)}))}}),i}_searchObjectList(e){const r=Wt(e,this.options),{keys:n,records:a}=this._myIndex,s=[];return a.forEach(({$:i,i:l})=>{if(!ie(i))return;let u=[];n.forEach((c,d)=>{u.push(...this._findMatches({key:c,value:i[d],searcher:r}))}),u.length&&s.push({idx:l,item:i,matches:u})}),s}_findMatches({key:e,value:r,searcher:n}){if(!ie(r))return[];let a=[];if(je(r))r.forEach(({v:s,i,n:l})=>{if(!ie(s))return;const{isMatch:u,score:c,indices:d}=n.searchIn(s);u&&a.push({score:c,key:e,value:s,idx:i,norm:l,indices:d})});else{const{v:s,n:i}=r,{isMatch:l,score:u,indices:c}=n.searchIn(s);l&&a.push({score:u,key:e,value:s,norm:i,indices:c})}return a}}Je.version="6.6.2";Je.createIndex=vn;Je.parseIndex=Bi;Je.config=S;Je.parseQuery=yn;nl(rl);function Mr(t){const{assetSymbol:e,assetData:r,storeCallback:n,otherAsset:a,marketSearch:s,type:i}=t,l=s&&s.length?s.filter(b=>b.s!==a&&b.s!==e):[],u=new Je(l,{includeScore:!0,keys:["id","s","u"]}),[c,d]=v.useState(),[f,m]=v.useState(),[h,g]=v.useState(!1);v.useEffect(()=>{if(c){const b=u.search(c);m(b)}},[c]);const y=({index:b,style:_})=>{const j=f[b];return o.jsx("div",{style:{..._,marginBottom:"10px",paddingRight:"10px"},children:o.jsx(me,{style:{marginBottom:"2px"},onClick:()=>{n(j.item.s),g(!1)},children:o.jsxs(ve,{className:"p-3",children:[o.jsxs(pe,{className:"h-3",children:[j.item.s," (",j.item.id,")"]}),o.jsxs(Ne,{children:["Issued by ",j.item.u]})]})},`acard-${j.item.id}`)})};return e&&r?o.jsxs(Fr,{open:h,onOpenChange:b=>{b||m(),g(b)},children:[o.jsx(Kn,{asChild:!0,children:o.jsx(J,{variant:"outline",className:"h-5 p-3",onClick:()=>g(!0),children:e.length<12?e:r.id})}),o.jsx(Ar,{className:"sm:max-w-[425px] bg-white",children:o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-2xl font-extrabold tracking-tight",children:["Replacing ",e]}),o.jsx("h4",{className:"text-md font-bold tracking-tight",children:i==="base"?"Please select a new base asset":"Please select a new quote asset"}),o.jsx(Le,{name:"assetSearch",placeholder:"Search for an asset",onChange:b=>{console.log("input changed"),d(b.target.value)}}),f&&f.length?o.jsx(o.Fragment,{children:o.jsx(Xn,{height:200,itemCount:f.length,itemSize:70,className:"w-full",children:y})}):null]})})]}):null}function ul(t){const{type:e,publicMarketHistory:r,assetAData:n,assetBData:a}=t,s=r.filter(i=>i.type===e);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4 pl-3 text-md",children:[o.jsx("div",{className:"col-span-1",children:o.jsxs("div",{className:"grid grid-cols-1",children:[o.jsx("div",{className:"col-span-1",children:"Price"}),o.jsxs("div",{className:"col-span-1 text-sm",children:[n.symbol,"/",a.symbol]})]})}),o.jsx("div",{className:"col-span-1",children:o.jsxs("div",{className:"grid grid-cols-1",children:[o.jsx("div",{className:"col-span-1",children:"Amount"}),o.jsx("div",{className:"col-span-1 text-sm",children:n.symbol})]})}),o.jsx("div",{className:"col-span-1",children:o.jsxs("div",{className:"grid grid-cols-1",children:[o.jsx("div",{className:"col-span-1",children:"Date"}),o.jsx("div",{className:"col-span-1 text-sm",children:"Time since trade"})]})}),o.jsx("div",{className:"col-span-1",children:o.jsxs("div",{className:"grid grid-cols-1",children:[o.jsx("div",{className:"col-span-1",children:"Total value"}),o.jsx("div",{className:"col-span-1 text-sm",children:a.symbol})]})})]}),o.jsx(kt,{className:"h-72 w-full rounded-md border",children:o.jsx("div",{className:"grid grid-cols-4",children:s.map((i,l)=>{const c=i.price.split(".").length>1?Me(i.price,e==="buy"?n.precision:a.precision):i.price;return o.jsx("div",{className:"col-span-4",children:o.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[o.jsx("div",{className:"col-span-1 border-r-2 border-b-2 pl-3",children:c}),o.jsx("div",{className:"col-span-1 border-r-2 border-b-2 pl-3",children:i.amount}),o.jsx("div",{className:"col-span-1 border-r-2 border-b-2 pl-3",children:Bt(i.date)}),o.jsx("div",{className:"col-span-1 border-r-2 border-b-2 pl-3",children:i.value})]})},`ms_${l}_${e}`)})})})]})}function Cr(t){const{type:e,publicMarketHistory:r,marketHistoryInProgress:n,reset:a,assetAData:s,assetBData:i}=t;return o.jsxs(me,{children:[o.jsxs(ve,{children:[o.jsx(pe,{children:e==="buy"?"Completed buy orders":"Completed sell orders"}),o.jsx(Ne,{children:e==="buy"?"Recently completed buy orders on the Bitshares DEX":"Recently completed sell orders on the Bitshares DEX"})]}),o.jsxs(Be,{className:"space-y-2",children:[(!r||!r.length)&&!n?e==="buy"?o.jsx(o.Fragment,{children:"No recently completed purchases found"}):o.jsx(o.Fragment,{children:"No recently completed sales found"}):null,(!r||!r.length)&&n?o.jsx(o.Fragment,{children:"🌐 Fetching market history, please wait..."}):null,r&&r.length?o.jsx(ul,{type:e,publicMarketHistory:r,assetAData:s,assetBData:i}):null]}),o.jsx(wt,{children:o.jsx(J,{onClick:a,children:"Refresh market trades"})})]})}function dl(t){const{type:e,assetAData:r,assetBData:n,usrLimitOrders:a}=t,s=e==="buy"?r:n,i=a.filter(l=>limitOrder.sell_price.base.asset_id===s.id);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-3",children:[o.jsx("div",{className:"col-span-1 pl-3",children:"Price"}),o.jsx("div",{className:"col-span-1 pl-3 text-md",children:"Amount"}),o.jsx("div",{className:"col-span-1 pl-3",children:"Date"})]}),o.jsx(kt,{className:"h-72 w-full rounded-md border",children:o.jsx("div",{className:"grid grid-cols-3",children:i.length?i.map((l,u)=>{const d=l.value.split(".").length>1?Me(l.sell_price.base.amount/l.sell_price.quote.amount,e==="buy"?r.precision:n.precision):l.price;return o.jsx("div",{className:"col-span-3",children:o.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:d}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:l.for_sale}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:Bt(l.date)}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:l.value})]})},`mos_${u}_${e}`)}):o.jsx("p",{children:e==="buy"?"You have no open buy orders in this market":"You have no sell orders in this market"})})})]})}function Sr(t){const{type:e,assetAData:r,assetBData:n,usrLimitOrders:a,usrHistory:s,marketHistoryInProgress:i,reset:l}=t;return o.jsxs(me,{children:[o.jsxs(ve,{children:[o.jsx(pe,{children:e==="buy"?"My open buy orders":"My open sell orders"}),o.jsx(Ne,{children:e==="buy"?`Your open buy limit orders for the market ${r.symbol}/${n.symbol}`:`Your open sell limit orders for the market ${r.symbol}/${n.symbol}`})]}),o.jsxs(Be,{className:"space-y-2",children:[(!a||!a.length)&&!i?e==="buy"?o.jsx(o.Fragment,{children:"No open buy orders found"}):o.jsx(o.Fragment,{children:"No open sell orders found"}):null,(!a||!a.length)&&i?o.jsx(o.Fragment,{children:"🌐 Fetching market history, please wait..."}):null,s&&s.length?o.jsx(dl,{type:e,assetAData:r,assetBData:n,usrLimitOrders:a}):e==="buy"?"You have no open buy orders in this market":"You have no sell orders in this market"]}),o.jsx(wt,{children:o.jsx(J,{onClick:l,children:"Refresh open orders"})})]})}function fl(t){const{type:e,usrHistory:r,assetAData:n,assetBData:a}=t,s=r.filter(i=>i.type===e);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4",children:[o.jsx("div",{className:"col-span-1 pl-3",children:"Price"}),o.jsx("div",{className:"col-span-1 pl-3 text-md",children:"Amount"}),o.jsx("div",{className:"col-span-1 pl-3",children:"Date"}),o.jsx("div",{className:"col-span-1 pl-3",children:"Total value"})]}),o.jsx(kt,{className:"h-72 w-full rounded-md border",children:o.jsx("div",{className:"grid grid-cols-4",children:s.map((i,l)=>{const c=i.value.split(".").length>1?Me(i.price,e==="buy"?n.precision:a.precision):i.price;return o.jsx("div",{className:"col-span-4",children:o.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:c}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:i.for_sale}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:Bt(i.date)}),o.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:i.value})]})},`mts_${l}_${e}`)})})})]})}function Or(t){const{type:e,usrHistory:r,marketHistoryInProgress:n,reset:a}=t;return o.jsxs(me,{children:[o.jsxs(ve,{children:[o.jsx(pe,{children:e==="buy"?"Completed buy orders":"Completed sell orders"}),o.jsx(Ne,{children:e==="buy"?"Your recently completed buy orders":"Your recently completed sell orders"})]}),o.jsxs(Be,{className:"space-y-2",children:[(!r||!r.length)&&!n?e==="buy"?o.jsx(o.Fragment,{children:"No recently completed purchases found"}):o.jsx(o.Fragment,{children:"No recently completed sales found"}):null,(!r||!r.length)&&n?o.jsx(o.Fragment,{children:"🌐 Fetching market history, please wait..."}):null,r&&r.length?o.jsx(fl,{type:e,usrHistory:r,assetAData,assetBData}):null]}),o.jsx(wt,{children:o.jsx(J,{onClick:a,children:"Refresh my open orders"})})]})}function hl(t){const{activeLimitCard:e,assetAData:r,assetBData:n,usr:a,marketItr:s,setMarketItr:i,usrLimitOrders:l,usrHistory:u,publicMarketHistory:c,_resetMarketData:d}=t,[f,m]=v.useState(!1);v.useEffect(()=>{c&&m(!1)},[c]);const[h,g]=v.useState("marketTrades"),[y,b]=v.useState("buy"),[_,j]=v.useState("buy"),[k,G]=v.useState("buy"),H={backgroundColor:"#252526",color:"white"};return o.jsx(o.Fragment,{children:o.jsx("div",{className:"grid grid-cols-1 mt-5",children:o.jsxs(qe,{defaultValue:"marketTrades",className:"w-full",children:[o.jsxs(Ge,{className:"grid w-full grid-cols-3 gap-2",children:[h==="marketTrades"?o.jsx(I,{value:"marketTrades",style:H,children:"Market trades"}):o.jsx(I,{value:"marketTrades",onClick:()=>g("marketTrades"),children:"Market trades"}),h==="usrHistory"?o.jsx(I,{value:"usrHistory",style:H,children:"Your trades"}):o.jsx(I,{value:"usrHistory",onClick:()=>g("usrHistory"),children:"Your trades"}),h==="usrLimitOrders"?o.jsx(I,{value:"usrLimitOrders",style:H,children:"Your open orders"}):o.jsx(I,{value:"usrLimitOrders",onClick:()=>g("usrLimitOrders"),children:"Your open orders"})]}),o.jsx(oe,{value:"marketTrades",children:o.jsxs(qe,{defaultValue:"buy",className:"w-full",children:[o.jsxs(Ge,{className:"grid w-full grid-cols-2 gap-2",children:[y==="buy"?o.jsx(I,{value:"buy",style:H,children:"Buy orders"}):o.jsx(I,{value:"buy",onClick:()=>b("buy"),children:"Buy orders"}),y==="sell"?o.jsx(I,{value:"sell",style:H,children:"Sell orders"}):o.jsx(I,{value:"sell",onClick:()=>b("sell"),children:"Sell orders"})]}),o.jsx(oe,{value:"buy",children:o.jsx(Cr,{type:"buy",publicMarketHistory:c,marketHistoryInProgress:f,reset:()=>{d(),m(!0),i(s+1)},assetAData:r,assetBData:n})}),o.jsx(oe,{value:"sell",children:o.jsx(Cr,{type:"sell",publicMarketHistory:c,marketHistoryInProgress:f,reset:()=>{d(),m(!0),i(s+1)},assetAData:r,assetBData:n})})]})}),o.jsx(oe,{value:"usrHistory",children:o.jsxs(qe,{defaultValue:"buy",className:"w-full",children:[o.jsxs(Ge,{className:"grid w-full grid-cols-2 gap-2",children:[_==="buy"?o.jsx(I,{value:"buy",style:H,children:"Your purchases"}):o.jsx(I,{value:"buy",onClick:()=>j("buy"),children:"Your purchases"}),_==="sell"?o.jsx(I,{value:"sell",style:H,children:"Your sales"}):o.jsx(I,{value:"sell",onClick:()=>j("sell"),children:"Your sales"})]}),o.jsx(oe,{value:"buy",children:o.jsx(Or,{type:"buy",usrHistory:u,marketHistoryInProgress:f,reset:()=>{d(),m(!0),i(s+1)}})}),o.jsx(oe,{value:"sell",children:o.jsx(Or,{type:"sell",usrHistory:u,marketHistoryInProgress:f,reset:()=>{d(),m(!0),i(s+1)}})})]})}),o.jsx(oe,{value:"usrLimitOrders",children:o.jsxs(qe,{defaultValue:"buy",className:"w-full",children:[o.jsxs(Ge,{className:"grid w-full grid-cols-2 gap-2",children:[k==="buy"?o.jsx(I,{value:"buy",style:H,children:"Your buy orders"}):o.jsx(I,{value:"buy",onClick:()=>G("buy"),children:"Your buy orders"}),k==="sell"?o.jsx(I,{value:"sell",style:H,children:"Your sell orders"}):o.jsx(I,{value:"sell",onClick:()=>G("sell"),children:"Your sell orders"})]}),o.jsx(oe,{value:"buy",children:o.jsx(Sr,{type:"buy",assetAData:r,assetBData:n,usrLimitOrders:l,usrHistory:u,marketHistoryInProgress:f,reset:()=>{d(),m(!0),i(s+1)}})}),o.jsx(oe,{value:"sell",children:o.jsx(Sr,{type:"sell",assetAData:r,assetBData:n,usrLimitOrders:l,usrHistory:u,marketHistoryInProgress:f,reset:()=>{d(),m(!0),i(s+1)}})})]})})]})})})}function xl(t){const[e,r]=v.useState();v.useEffect(()=>nr.subscribe(O=>{r(O)}),[nr]);const[n,a]=v.useState([]);v.useEffect(()=>ar.subscribe(O=>{a(O)}),[ar]);const[s,i]=v.useState([]);v.useEffect(()=>sr.subscribe(O=>{i(O)}),[sr]);const[l,u]=v.useState(window.location.search?null:"BTS"),[c,d]=v.useState(window.location.search?null:"USD");v.useEffect(()=>{async function T(){if(window.location.search){console.log("Parsing market parameters");const O=new URLSearchParams(window.location.search),ut=Object.fromEntries(O.entries()).market;let se=ut.split("_")[0].toUpperCase(),ce=ut.split("_")[1].toUpperCase();se&&ce&&ce.length&&se===ce&&(ce=se==="BTS"?"USD":"BTS",console.log("Invalid market parameters - replaced quote asset."));const dt=s.map(ue=>ue.s),ft=s.map(ue=>ue.id);if((!se||!se.length||!dt.includes(se)&&!ft.includes(se))&&(console.log("Asset A replaced with default."),u("BTS")),!l){const ue=s.find(Ze=>Ze.id===se||Ze.s===se);ue?(console.log("Setting asset A."),u(ue.s)):(console.log("Setting default asset A"),u("BTS"))}if((!ce||!ce.length||!dt.includes(ce)&&!ft.includes(ce))&&(console.log("Asset B replaced with default."),d(l!=="USD"?"USD":"BTS")),!c){const ue=s.find(Ze=>Ze.id===ce||Ze.s===ce);if(ue){console.log("Setting asset B."),d(ue.s);return}else console.log("Setting default asset B"),d(se!=="BTS"&&se!=="1.3.0"?"BTS":"USD")}}}s&&s.length&&T()},[s]);const[f,m]=v.useState([]),[h,g]=v.useState([]),[y,b]=v.useState(0),[_,j]=v.useState(!1),[k,G]=v.useState(null),[H,U]=v.useState(null),[D,q]=v.useState(null),[L,Z]=v.useState(null),[ee,te]=v.useState(),[be,K]=v.useState(),[W,X]=v.useState(),[w,x]=v.useState(),[B,ye]=v.useState(),[le,Qe]=v.useState(0),[V,lt]=v.useState("buy"),[xe,ct]=v.useState("buy");function R(){G(null),U(null)}function C(){q(null),Z(null)}function A(){m(),g()}function z(){te(),K(),X(),x(),ye()}if(v.useEffect(()=>{async function T(){const O=await fetch(`http://localhost:8080/api/orderBook/${e.chain}/${l}/${c}`,{method:"GET"});if(!O.ok){console.log("Failed to fetch market orders"),j(!1),y<5&&b(y+1);return}const P=await O.json();P&&P.result&&(console.log(`Fetched market data for ${l}_${c}`),m(P.result.asks),g(P.result.bids)),j(!1)}l&&c&&e&&e.chain&&(j(!0),window.history.replaceState({},"",`?market=${l}_${c}`),T())},[l,c,e,y]),v.useEffect(()=>{async function T(){const O=await fetch(`http://localhost:8080/cache/asset/${e.chain}/${l}`,{method:"GET"});if(!O.ok){console.log("Failed to fetch asset A");return}const P=await O.json();P&&P.result&&(console.log("Fetched asset A data"),G(P.result),cr([P.result]))}if(l&&e&&e.chain){if(R(),z(),!n||!n.length){T();return}const O=n.find(P=>P.s===l);O||T(),console.log("Retrieved asset A from cache"),G(O)}},[l,e]),v.useEffect(()=>{async function T(){const O=await fetch(`http://localhost:8080/cache/dynamic/${e.chain}/${k.id.replace("1.3.","2.3.")}`,{method:"GET"});if(!O.ok){console.log(`Failed to fetch ${l} dynamic data`);return}const P=await O.json();P&&P.result&&(console.log(`Fetched ${l} dynamic data`),U(P.result))}k&&e&&e.chain&&T()},[k]),v.useEffect(()=>{async function T(){const O=await fetch(`http://localhost:8080/cache/asset/${e.chain}/${c}`,{method:"GET"});if(!O.ok){console.log("Failed to fetch asset B");return}const P=await O.json();P&&P.result&&(console.log("Fetched asset B data"),q(P.result),cr([P.result]))}if(c&&e&&e.chain){if(C(),z(),!n||!n.length){T();return}const O=n.find(P=>P.s===c);O||T(),console.log("Retrieved asset B from cache"),q(O)}},[c,e]),v.useEffect(()=>{async function T(){const O=await fetch(`http://localhost:8080/cache/dynamic/${e.chain}/${D.id.replace("1.3.","2.3.")}`,{method:"GET"});if(!O.ok){console.log(`Failed to fetch ${c} dynamic data`);return}const P=await O.json();P&&P.result&&(console.log(`Fetched ${c} dynamic data`),Z(P.result))}D&&e&&e.chain&&T()},[D]),v.useEffect(()=>{async function T(){console.log("Fetching market history");const O=await fetch(`http://localhost:8080/api/getMarketHistory/${e.chain}/${k.id}/${D.id}/${e.id}`,{method:"GET"});if(!O.ok){console.log("Failed to fetch market history"),le<5&&Qe(le+1);return}const P=await O.json();if(P&&P.result){console.log("Fetched market history");const{result:ut}=P,{balances:se,marketHistory:ce,accountLimitOrders:dt,usrTrades:ft,ticker:ue}=ut;te(se),K(dt),x(ce),X(ft),ye(ue)}}k&&D&&T()},[k,D,e,le]),v.useEffect(()=>{if(l&&c&&e&&e.chain){const T=setInterval(()=>{Qe(le+1),b(y+1)},3e4);return()=>clearInterval(T)}},[l,c,e]),!e||!e.id||!e.id.length)return o.jsx(Mn,{});const $={backgroundColor:"#252526",color:"white"};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"container mx-auto mt-5 mb-5",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[o.jsxs(qe,{defaultValue:"buy",className:"w-full",children:[o.jsxs(Ge,{className:"grid w-full grid-cols-2 gap-2",children:[!k||!D?o.jsxs(o.Fragment,{children:[o.jsx(I,{disabled:!0,value:"buy",style:$,children:"Buy"}),o.jsx(I,{disabled:!0,value:"sell",children:"Sell"})]}):null,k&&D&&V==="buy"?o.jsxs(o.Fragment,{children:[o.jsx(I,{value:"buy",style:$,children:"Buy"}),o.jsx(I,{value:"sell",onClick:()=>lt("sell"),children:"Sell"})]}):null,k&&D&&V==="sell"?o.jsxs(o.Fragment,{children:[o.jsx(I,{value:"buy",onClick:()=>lt("buy"),children:"Buy"}),o.jsx(I,{value:"sell",style:$,children:"Sell"})]}):null]}),o.jsx(oe,{value:"buy",children:o.jsx(xr,{usr:e,thisAssetA:l,thisAssetB:c,assetAData:k,assetBData:D,buyOrders:f,sellOrders:h,usrBalances:ee,orderType:"buy",marketSearch:s},"buyLimit")}),o.jsx(oe,{value:"sell",children:o.jsx(xr,{usr:e,thisAssetA:l,thisAssetB:c,assetAData:k,assetBData:D,buyOrders:f,sellOrders:h,usrBalances:ee,orderType:"sell",marketSearch:s},"sellLimit")})]}),o.jsx("div",{className:"col-span-1",children:o.jsxs("div",{className:"grid grid-cols-1 gap-y-2",children:[o.jsx("div",{className:"flex-grow",children:o.jsxs(me,{children:[o.jsx(ve,{className:"pt-2 pb-2",children:o.jsxs(pe,{className:"text-center text-lg",children:[e.chain==="bitshares"?"Bitshares":"Bitshares (Testnet)"," ","DEX Market controls"]})}),o.jsx(Be,{className:"pb-3",children:o.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[o.jsx(Mr,{assetSymbol:l,assetData:k,storeCallback:u,otherAsset:c,marketSearch:s,type:V==="buy"?"quote":"base"}),o.jsxs(or,{children:[o.jsx(ir,{asChild:!0,style:{position:"relative"},children:o.jsx(J,{variant:"outline",className:"h-5 ml-1 mr-1 p-3",onClick:()=>{R(),C(),A(),z();const T=l;u(c),d(T)},children:"⇄"})}),o.jsx(lr,{className:"w-40 text-md text-center",children:"Swap asset order"})]}),o.jsx(Mr,{assetSymbol:c,assetData:D,storeCallback:d,otherAsset:l,marketSearch:s,type:V==="sell"?"quote":"base"})]})})]})}),o.jsx("div",{className:"flex-grow",children:o.jsxs(or,{children:[o.jsx(ir,{asChild:!0,style:{position:"relative"},children:o.jsxs(me,{children:[o.jsxs(ve,{className:"pt-4 pb-2",children:[o.jsx(pe,{children:"Market summary"}),o.jsxs(Ne,{className:"text-lg",children:[B?null:"Loading...",B&&V==="buy"?`${l}/${c}`:null,B&&V==="sell"?`${c}/${l}`:null]})]}),o.jsxs(Be,{className:"text-sm pb-4",children:[B&&k?o.jsxs(o.Fragment,{children:["Latest price:",o.jsx(ke,{variant:"outline",className:"ml-2 mb-1",children:Me(B.latest,k.precision)}),o.jsx("br",{})]}):null,B?o.jsxs(o.Fragment,{children:["24Hr change:",o.jsx(ke,{variant:"outline",className:"ml-2 mb-1",children:B.percent_change}),o.jsx("br",{})]}):null,B?o.jsxs(o.Fragment,{children:["24Hr base volume:",o.jsx(ke,{variant:"outline",className:"ml-2 mb-1",children:V==="buy"?B.base_volume:B.quote_volume}),o.jsx("br",{})]}):null,B?o.jsxs(o.Fragment,{children:["24Hr quote volume:",o.jsx(ke,{variant:"outline",className:"ml-2 mb-1",children:V==="sell"?B.base_volume:B.quote_volume}),o.jsx("br",{})]}):null,B&&k?o.jsxs(o.Fragment,{children:["Lowest ask:",o.jsx(ke,{variant:"outline",className:"ml-2 mb-1",children:Me(B.lowest_ask,k.precision)}),o.jsx("br",{})]}):null,B&&k?o.jsxs(o.Fragment,{children:["Highest bid:",o.jsx(ke,{variant:"outline",className:"ml-2",children:Me(B.highest_bid,k.precision)})]}):null]})]})}),o.jsxs(lr,{className:"w-80 text-sm text-center",children:[o.jsxs("b",{children:[l,"/",c," External market links"]}),o.jsx("br",{}),o.jsx("a",{href:e.chain==="bitshares"?`https://blocksights.info/#/markets/${V==="buy"?l:c}/${V==="buy"?c:l}`:`https://blocksights.info/#/markets/${V==="buy"?l:c}/${V==="buy"?c:l}?network=testnet`,target:"_blank",children:o.jsx(J,{variant:"outline",className:"mb-2 mt-2",children:"🔎 Blocksights market explorer"})}),e.chain==="bitshares"?o.jsxs(o.Fragment,{children:[o.jsx("a",{href:V==="buy"?`https://bts.exchange/#/market/${l}_${c}?r=nftprofessional1`:`https://bts.exchange/#/market/${c}_${l}?r=nftprofessional1`,target:"_blank",children:o.jsx(J,{variant:"outline",className:"ml-2",children:"🔗 BTS.Exchange"})}),o.jsx("a",{href:V==="buy"?`https://wallet.btwty.com/market/${l}_${c}?r=nftprofessional1`:`https://wallet.btwty.com/market/${c}_${l}?r=nftprofessional1`,target:"_blank",children:o.jsx(J,{variant:"outline",className:"ml-2",children:"🔗 BTWTY"})}),o.jsx("a",{href:V==="buy"?`https://ex.xbts.io/market/${l}_${c}?r=nftprofessional1`:`https://ex.xbts.io/market/${c}_${l}?r=nftprofessional1`,target:"_blank",children:o.jsx(J,{variant:"outline",className:"ml-2 mt-2",children:"🔗 XBTS"})})]}):null]})]})}),o.jsx("div",{className:"flex-grow",style:{paddingBottom:"0px"},children:o.jsx(ur,{asset:l,assetData:k,assetDetails:H,marketSearch:s,chain:e.chain,usrBalances:ee,type:V==="buy"?"buy":"sell"})}),o.jsx("div",{className:"flex-grow",children:o.jsx(ur,{asset:c,assetData:D,assetDetails:L,marketSearch:s,chain:e.chain,usrBalances:ee,type:V==="sell"?"buy":"sell"})})]})})]}),l&&c&&k&&D?o.jsx(An,{assetA:l,assetAData:k,assetB:c,assetBData:D}):null,o.jsx("div",{className:"grid grid-cols-1 gap-5 mt-5",children:k&&D?o.jsx(o.Fragment,{children:o.jsxs(qe,{defaultValue:"buy",className:"w-full",children:[o.jsxs(Ge,{className:"grid w-full grid-cols-2 gap-1",children:[xe==="buy"?o.jsx(I,{value:"buy",style:$,children:"Buy"}):o.jsx(I,{value:"buy",onClick:()=>ct("buy"),children:"Buy"}),xe==="sell"?o.jsx(I,{value:"sell",style:$,children:"Sell"}):o.jsx(I,{value:"sell",onClick:()=>ct("sell"),children:"Sell"})]}),o.jsx(oe,{value:"buy",children:o.jsx(wr,{cardType:"buy",activeLimitCard:V,assetA:l,assetAData:k,assetB:c,assetBData:D,buyOrders:f,sellOrders:h,marketInProgress:_,orderBookItr:y,setOrderBookItr:b,_resetOrders:A})}),o.jsx(oe,{value:"sell",children:o.jsx(wr,{cardType:"sell",activeLimitCard:V,assetA:l,assetAData:k,assetB:c,assetBData:D,buyOrders:f,sellOrders:h,marketInProgress:_,orderBookItr:y,setOrderBookItr:b,_resetOrders:A})})]})}):null}),l&&c?o.jsx(hl,{activeLimitCard:V,assetAData:k,assetBData:D,usr:e,marketItr:le,setMarketItr:Qe,usrLimitOrders:be,publicMarketHistory:w,usrHistory:W,_resetMarketData:z}):null]}),e?o.jsx(Cn,{usr:e,resetCallback:Sn}):null]})}export{xl as default};
