import{u as e,L as us,N as ps,I,O as js,P as bs,Q as gs,S as fs,T as re,U as le,v as Ns,V as Ss}from"./button.py8r9pgQ.js";import{r as a}from"./index.vR8cGMCg.js";import{u as Cs,F as ws,a as f,b as N,c as k,d as S,f as C,e as U}from"./form.nkNC4OVI.js";import{$ as Be,m as Le,n as Ie,o as Ue,p as Me,w as Ve,x as ze,u as ks,C as M,b as V,c as z,d as H,k as ne,A as ys,I as u,H as ie,a as ce,e as oe,f as vs}from"./CurrentUser.9PQ1vVJE.js";import{S as Ts,a as _s,b as Ds,c as $s,d as q}from"./select.tdaGh0LQ.js";import{P as Q,a as R,b as W,c as He,C as qe,S as Qe}from"./checkbox.FFWN2b7h.js";import{L as y,D as Re}from"./DeepLinkDialog.4TPOcm9S.js";import{f as Os,C as Ps}from"./calendar.LvMZ4ZUj.js";import{S as Fs}from"./scroll-area.d4DgCtw2.js";import{T as de}from"./toggle.jn4JSZ5g.js";import{B as me}from"./badge.pYgHolp0.js";import{h as G,i as Es,d as We,e as Te,t as As}from"./common.X_7DDhag.js";import{c as Bs}from"./User.qZ-NhGvB.js";import{a as Ls}from"./Market.e8Q3QEca.js";import{E as Is}from"./ExternalLink.T2a5i_k0.js";import{P as Us}from"./PoolDialogs.j-U-Fdnr.js";import"./index.f2GGseSc.js";import"./index.7dNGbZe0.js";import"./index.TKWSAka7.js";import"./index.esm.8fBdem9M.js";function ct(Ms){const p=Cs({defaultValues:{account:""}}),[i,Je]=a.useState(),[r,Xe]=a.useState(),[he,Ye]=a.useState(0),[K,Ge]=a.useState(0),[xe,Ke]=a.useState(0),[v,ue]=a.useState("locked"),[w,Z]=a.useState("locked"),[D,F]=a.useState("locked"),[$,_e]=a.useState("locked"),[Ze,De]=a.useState(!1),[es,$e]=a.useState(!1),[E,ee]=a.useState(0),[O,se]=a.useState(0),[te,A]=a.useState(0),[Oe,ss]=a.useState(!1),[J,ts]=a.useState("1hr"),[as,pe]=a.useState(()=>{const n=new Date,s=60*60*1e3;return new Date(n.getTime()+s)}),[T,je]=a.useState(new Date(Date.now()+7*24*60*60*1e3));a.useEffect(()=>{J==="specific"&&T&&pe(T)},[J,T]);const[j,b]=a.useState(0),[P,Pe]=a.useState(!1),[B,be]=a.useState(1),[L,ge]=a.useState(100),[Vs,rs]=a.useState(1e6),[X,Fe]=a.useState(!1),l=a.useSyncExternalStore(Be.subscribe,Be.get,()=>!0),fe=a.useSyncExternalStore(Le.subscribe,Le.get,()=>!0),Ne=a.useSyncExternalStore(Ie.subscribe,Ie.get,()=>!0),Se=a.useSyncExternalStore(Ue.subscribe,Ue.get,()=>!0),Ce=a.useSyncExternalStore(Me.subscribe,Me.get,()=>!0),we=a.useSyncExternalStore(Ve.subscribe,Ve.get,()=>!0),ke=a.useSyncExternalStore(ze.subscribe,ze.get,()=>!0),g=a.useMemo(()=>l&&l.chain?l.chain:"bitshares",[l]);ks(g??"bitshares",["assets","globalParams","pools"]);const Ee=a.useMemo(()=>g&&(fe||Ne)?g==="bitshares"?fe:Ne:[],[fe,Ne,g]),ae=a.useMemo(()=>g&&(Se||Ce)?g==="bitshares"?Se:Ce:[],[Se,Ce,g]);a.useMemo(()=>g&&(we||ke)?g==="bitshares"?we:ke:[],[we,ke,g]);const[Ae,ls]=a.useState(0);a.useEffect(()=>{if(ae&&ae.length){const n=ae.find(t=>t[0]===77),s=G(n[1].fee,5);ls(s)}},[ae]);const[_,ns]=a.useState();a.useEffect(()=>{let n;return l&&l.id&&(n=Bs([l.chain,l.id]).subscribe(({data:t,error:c,loading:o})=>{t&&!c&&!o&&ns(t)})),()=>{n&&n()}},[l]);const[d,is]=a.useState();a.useEffect(()=>{async function n(){const s=new URLSearchParams(window.location.search),c=Object.fromEntries(s.entries()).id;if(!(!c||!c.includes("1.7.")))return{id:c}}l&&l.chain&&window.location.search&&n().then(({id:s})=>{is(s)})},[l]);const[x,cs]=a.useState();a.useEffect(()=>{let n;return d&&l&&l.chain&&(n=Ls([l.chain,d]).subscribe(({data:t})=>{if(t&&!t.error&&!t.loading){cs(t);const c=Ee.find(ve=>ve.id===t.sell_price.quote.asset_id),o=Ee.find(ve=>ve.id===t.sell_price.base.asset_id);Je(c),Xe(o);const m=G(t.sell_price.quote.amount,c.precision),h=G(t.sell_price.base.amount,o.precision),ye=Es(o.id,c.id);ss(ye),Ye(m),Ge(h),Ke(ye?h/m:h*m),ee(h),A(m),se(ye?h/m:h*m);const Y=t.on_fill.length?t.on_fill[0][1]:null;Y&&(Pe(!0),be(Y.spread_percent/100),ge(Y.size_percent/100),rs(Y.expiration_seconds),Fe(Y.repeat))}})),()=>{n&&n()}},[d,l]);const os=a.useMemo(()=>{if(_&&_.length&&r){const n=_.find(s=>s.asset_id===r.id);if(n)return G(n.amount,r.precision)}return 0},[_,r]),ds=a.useMemo(()=>{if(_&&_.length&&i){const n=_.find(s=>s.asset_id===i.id);if(n)return G(n.amount,i.precision)}return 0},[_,i]),ms=a.useCallback(We((n,s)=>{/^[0-9]*\.?[0-9]*$/.test(n)&&n>=0&&n<=100&&(be(n),b(j+1))},25),[]),hs=a.useCallback(We((n,s)=>{/^[0-9]*\.?[0-9]*$/.test(n)&&n>=0&&n<=100&&(ge(n),b(j+1))},25),[]),xs=a.useMemo(()=>{if(l&&l.id&&d&&r&&i){const n={fee:{amount:0,asset_id:"1.3.0"},account_id_type:l.id,limit_order_id_type:d,extensions:[]};if(v==="editable"&&(n.new_price={base:{amount:Te(E,r.precision),asset_id:r.id},quote:{amount:Te(te,i.precision),asset_id:i.id}}),w==="editable"){const s=parseFloat(E-K);(s&&s<0||s&&s>0)&&(n.delta_amount_to_sell={amount:Te(s,r.precision),asset_id:r.id})}return $==="editable"&&(n.new_expiration=T),P&&(n.on_fill=[[0,{fee_asset_id:"1.3.0",spread_percent:B?B*100:0,size_percent:L?L*100:0,expiration_seconds:1e9,repeat:X}]]),n}},[l,d,K,te,r,as,P,B,L,X]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container mx-auto mt-5 mb-5",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs(M,{children:[e.jsxs(V,{className:"pb-0 mb-0",children:[e.jsx(z,{className:"mb-2",children:e.jsxs("span",{className:"grid grid-cols-2",children:[e.jsxs("span",{className:"col-span-1 text-left",children:["Updating limit order ",d]}),e.jsx("span",{className:"text-right",children:e.jsxs(us,{children:[e.jsx(ps,{asChild:!0,children:e.jsx(I,{className:"h-6",children:"View existing limit order data"})}),e.jsxs(js,{className:"sm:max-w-[600px] bg-white",children:[e.jsxs(bs,{children:[e.jsx(gs,{children:"Existing limit order data"}),e.jsx(fs,{children:"This form will update the following JSON data"})]}),e.jsxs("div",{className:"grid grid-cols-1",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(Fs,{className:"h-72 rounded-md border text-sm",children:e.jsx("pre",{children:JSON.stringify(x,null,2)})})}),e.jsx("div",{className:"col-span-1 text-left mt-5",children:e.jsx(Is,{variant:"outline",classnamecontents:"",type:"button",text:"View object on blocksights.info",hyperlink:`https://blocksights.info/#/objects/${d}`})})]})]})]})})]})}),e.jsx(H,{children:"The Bitshares DEX now supports directly editing open limit orders via this form"})]}),e.jsxs(ne,{children:[e.jsx(ws,{...p,children:e.jsxs("form",{onSubmit:()=>{$e(!0),event.preventDefault()},children:[e.jsx(f,{control:p.control,name:"account",render:({field:n})=>e.jsxs(N,{children:[e.jsx(k,{children:"Limit order owner"}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[e.jsx("div",{className:"col-span-1 ml-5",children:x&&l?e.jsx(ys,{size:40,name:l.id===x.seller?l.username:x.seller.replace(".","_"),extra:"Sender",expression:{eye:l.id===x.seller?"normal":"sleepy",mouth:l.id===x.seller?"open":"unhappy"},colors:["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]},`Avatar_${l.id===x.seller?"loggedIn":"loggedOut"}`):null}),e.jsx("div",{className:"col-span-4",children:l&&x?e.jsx(u,{disabled:!0,placeholder:"Bitshares account (1.2.x)",className:"mb-1 mt-1",value:l&&l.id===x.seller?`${l.username} (${l.id})`:x.seller}):null})]})}),e.jsx(C,{children:"This is the account which owns the market order that is being updated."}),x&&l&&l.id!==x.seller?e.jsx(U,{children:"⚠️ You are not logged in as the Bitshares account which owns this limit order."}):null]})}),e.jsx(f,{control:p.control,name:"priceAmount",render:({field:n})=>e.jsx(N,{className:"mt-4 text-xs",children:e.jsxs("span",{className:"grid grid-cols-12",children:[e.jsx("span",{className:"col-span-1",children:e.jsxs(ie,{children:[e.jsx(ce,{children:e.jsx(de,{variant:"outline",onClick:()=>{v==="editable"?(ue("locked"),se(xe),w==="locked"&&(F("locked"),A(he))):(ue("editable"),F("editable"))},children:v==="editable"?e.jsx(re,{className:"h-4 w-4"}):e.jsx(le,{className:"h-4 w-4"})})}),e.jsx(oe,{className:"w-40 text-sm text-center pt-1 pb-1",derp:"Optionally change the limit order price",children:v==="editable"?"Editing the price":"Price is locked"})]},"amountLockCard")}),e.jsxs("span",{className:"col-span-10",children:[e.jsx(k,{children:v==="editable"?"Updating the price":"Want to change the price ?"}),e.jsx(C,{children:v==="editable"?`The existing price: ${xe} ${i?i.symbol:"?"}/${r?r.symbol:"?"}`:"Click the unlock button to begin setting a new price"})]})]})})}),v==="editable"&&i&&r?e.jsx(S,{children:e.jsxs("span",{className:"grid grid-cols-12 mt-3",children:[e.jsx("span",{className:"col-span-1"}),e.jsx("span",{className:"col-span-7",children:e.jsx(u,{label:"Price",placeholder:`${O} ${i.symbol}/${r.symbol}`,disabled:!0,readOnly:!0})}),e.jsx("span",{className:"col-span-4 ml-3 text-center",children:e.jsxs(Q,{children:[e.jsx(R,{asChild:!0,children:e.jsx(I,{className:"w-full",onClick:()=>event.preventDefault(),variant:"outline",children:"Set new price"})}),e.jsxs(W,{children:[e.jsx(y,{children:"Provide a new price"}),e.jsx(u,{placeholder:O,className:"mb-2 mt-1",onChange:n=>{const s=n.target.value,t=/^[0-9,]*\.?[0-9]*$/;if(s&&s.length&&t.test(s)){const c=parseFloat(s.replaceAll(",",""));c&&(se(c),E&&D==="editable"&&A(parseFloat((E*(Oe?1/c:c)).toFixed(i.precision))),b(j+1))}}})]})]})})]})}):null,e.jsx(f,{control:p.control,name:"sellAmount",render:({field:n})=>e.jsxs(N,{className:"mt-4 text-xs",children:[e.jsxs("span",{className:"grid grid-cols-12",children:[e.jsx("span",{className:"col-span-1",children:e.jsxs(ie,{children:[e.jsx(ce,{children:e.jsx(de,{variant:"outline",onClick:()=>{w==="editable"?(Z("locked"),v==="locked"&&F("locked")):(Z("editable"),F("editable"))},children:w==="editable"?e.jsx(re,{className:"h-4 w-4"}):e.jsx(le,{className:"h-4 w-4"})})}),e.jsx(oe,{className:"w-40 text-sm text-center pt-1 pb-1",children:w==="editable"?"Editing the amount being sold":"Currently locked. Using existing amount being sold"})]},"amountLockCard")}),e.jsxs("span",{className:"col-span-11",children:[e.jsx(k,{children:w==="editable"?`Updating the amount of ${r?r.symbol:"?"} being sold`:`Want to update the amount of ${r?r.symbol:"?"} being sold ?`}),e.jsx(C,{children:w==="editable"?`The existing amount being sold: ${K} ${r?r.symbol:"?"}`:"Click the unlock button to begin changing the amount you plan on selling"})]})]}),w==="editable"?e.jsx(S,{children:e.jsxs("span",{className:"grid grid-cols-12",children:[e.jsx("span",{className:"col-span-1"}),e.jsx("span",{className:"col-span-7",children:e.jsx(u,{label:"Amount",placeholder:`${E} ${r?r.symbol:"?"}`,disabled:!0,readOnly:!0})}),e.jsx("span",{className:"col-span-4 ml-3 text-center",children:e.jsxs(Q,{children:[e.jsx(R,{asChild:!0,children:e.jsx(I,{className:"w-full",onClick:()=>event.preventDefault(),variant:"outline",children:"Set new sell amount"})}),e.jsxs(W,{children:[e.jsx(y,{children:"Provide a new amount"}),e.jsx(u,{placeholder:E,className:"mb-2",onChange:s=>{const t=s.target.value,c=/^[0-9,]*\.?[0-9]*$/;if(t&&t.length&&c.test(t)){const o=parseFloat(t.replaceAll(",",""));o&&(ee(o.toFixed(r.precision)),O&&A(parseFloat((o*(Oe?1/O:O)).toFixed(i.precision))),b(j+1))}}})]})]})})]})}):null]})}),e.jsx(f,{control:p.control,name:"sellTotal",render:({field:n})=>e.jsxs(N,{className:"mt-4 text-xs",children:[e.jsxs("span",{className:"grid grid-cols-12",children:[e.jsx("span",{className:"col-span-1",children:e.jsxs(ie,{children:[e.jsx(ce,{children:e.jsx(de,{variant:"outline",onClick:()=>{D==="editable"?(F("locked"),A(he),Z("locked"),ee(K),ue("locked"),se(xe)):(F("editable"),Z("editable"))},children:D==="editable"?e.jsx(re,{className:"h-4 w-4"}):e.jsx(le,{className:"h-4 w-4"})})}),e.jsx(oe,{className:"w-40 text-sm text-center pt-1 pb-1",children:D==="editable"?"Editing the total amount being sold":"Currently locked. Using existing total amount."})]},"sellTotalCard")}),e.jsxs("span",{className:"col-span-11",children:[e.jsx(k,{children:w==="editable"||D==="editable"?"Updating the total amount being bought":`Want to update the total amount of ${i?i.symbol:"?"} being bought ?`}),e.jsx(C,{children:D==="editable"?`The existing total amount being bought: ${he} ${i?i.symbol:"?"}`:`Click the unlock button to begin changing the total amount of ${i?i.symbol:"?"} you plan on buying`})]})]}),D==="editable"&&r&&i?e.jsx(S,{children:e.jsxs("span",{className:"grid grid-cols-12",children:[e.jsx("span",{className:"col-span-1"}),e.jsx("span",{className:"col-span-7",children:e.jsx(u,{label:"Total",placeholder:`${te} ${i?i.symbol:"?"}`,disabled:!0,readOnly:!0})}),e.jsx("span",{className:"col-span-4 ml-3 text-center",children:e.jsxs(Q,{children:[e.jsx(R,{asChild:!0,children:e.jsx(I,{className:"w-full",onClick:()=>event.preventDefault(),variant:"outline",children:"Set new total amount"})}),e.jsxs(W,{children:[e.jsx(y,{children:"Provide a new total"}),e.jsx(u,{placeholder:te,className:"mb-2 mt-1",onChange:s=>{const t=s.target.value,c=/^[0-9,]*\.?[0-9]*$/;if(t&&t.length&&c.test(t)){const o=parseFloat(t.replaceAll(",",""));o&&(A(o.toFixed(i.precision)),O&&ee((o/O).toFixed(r.precision)),b(j+1))}}})]})]})})]})}):null]})}),e.jsx(f,{control:p.control,name:"expiry",render:({field:n})=>e.jsxs(N,{children:[e.jsxs("span",{className:"grid grid-cols-12 mt-4 text-sm",children:[e.jsx("span",{className:"col-span-1",children:e.jsxs(ie,{children:[e.jsx(ce,{children:e.jsx(de,{variant:"outline",onClick:()=>{_e($==="editable"?"locked":"editable")},children:$==="editable"?e.jsx(re,{className:"h-4 w-4"}):e.jsx(le,{className:"h-4 w-4"})})}),e.jsx(oe,{className:"w-40 text-sm text-center pt-1 pb-1",children:$==="editable"?"Editing the limit order expiration":"Currently locked. Using existing expiration date"})]},"sellTotalCard")}),e.jsxs("span",{className:"col-span-11",children:[e.jsx(k,{children:$==="editable"?"Updating the limit order expiration":"Want to update the limit order expiration ?"}),e.jsx(C,{children:$==="editable"?`The existing expiration date: ${x.expiration.replace("T"," ")}`:"Click the unlock button to begin changing the limit order expiration"})]})]}),$==="editable"?e.jsx(e.Fragment,{children:e.jsxs("span",{className:"grid grid-cols-12",children:[e.jsx("span",{className:"col-span-1"}),e.jsx("span",{className:"col-span-7",children:e.jsx(S,{onValueChange:s=>{ts(s);const t=60*60*1e3,c=24*t;if(s!=="specific"){const o=new Date;let m;if(s==="1hr")m=new Date(o.getTime()+t);else if(s==="12hr"){const h=t*12;m=new Date(o.getTime()+h)}else if(s==="24hr"){const h=c;m=new Date(o.getTime()+h)}else if(s==="7d"){const h=c*7;m=new Date(o.getTime()+h)}else if(s==="30d"){const h=c*30;m=new Date(o.getTime()+h)}m&&je(m),pe(s)}else s==="specific"&&pe();b(j+1)},children:e.jsxs(Ts,{children:[e.jsx(_s,{className:"mb-3",children:e.jsx(Ds,{placeholder:"1hr"})}),e.jsxs($s,{className:"bg-white",children:[e.jsx(q,{value:"1hr",children:"1 hour"}),e.jsx(q,{value:"12hr",children:"12 hours"}),e.jsx(q,{value:"24hr",children:"24 hours"}),e.jsx(q,{value:"7d",children:"7 days"}),e.jsx(q,{value:"30d",children:"30 days"}),e.jsx(q,{value:"specific",children:"Specific date"})]})]})})}),e.jsx("span",{className:"col-span-4 text-center ml-3",children:J==="specific"?e.jsxs(Q,{children:[e.jsx(R,{asChild:!0,children:e.jsxs(I,{variant:"outline",className:Ns("w-full justify-start text-left font-normal",!T&&"text-muted-foreground"),children:[e.jsx(Ss,{className:"mr-2 h-4 w-4"}),T?Os(T,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(W,{className:"w-auto p-0",align:"start",children:e.jsx(Ps,{mode:"single",selected:T,onSelect:s=>{if(new Date(s)<new Date){je(new Date(Date.now()+1*24*60*60*1e3));return}je(s)},initialFocus:!0})})]}):null}),e.jsx("span",{className:"col-span-1"}),e.jsx("span",{className:"col-span-11",children:e.jsx(C,{children:J!=="specific"?`This limit order will expire ${J} after broadcast`:null})})]})}):null]})}),e.jsx(He,{className:"mb-2 mt-2"}),e.jsx(f,{control:p.control,name:"osoValue",render:({field:n})=>e.jsxs(N,{children:[e.jsx(S,{children:e.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[e.jsx(qe,{id:"terms1",checked:P,onClick:()=>{Pe(!P),b(j+1)}}),e.jsx("label",{htmlFor:"terms1",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:P?"Order Sends Order Enabled":"Enable Order Sends Order"})]})}),P?e.jsx(C,{children:"Automatic OSO function will be active"}):null]})}),P?e.jsxs(e.Fragment,{children:[e.jsx(f,{control:p.control,name:"osoSpread",render:({field:n})=>e.jsxs(N,{className:"mt-2 text-xs",children:[e.jsx(k,{className:"text-sm",children:"Spread percent"}),e.jsx(C,{children:"How far the price of the take profit order differs from the original order"}),e.jsx(S,{children:e.jsxs("span",{className:"grid grid-cols-12",children:[e.jsxs("span",{className:"col-span-9",children:[e.jsx(u,{label:"Spread percent",placeholder:B,disabled:!0,readOnly:!0}),e.jsx(Qe,{className:"mt-3",defaultValue:[B],max:100,min:1,step:.01,onValueChange:s=>{ms(s[0])}})]}),e.jsx("span",{className:"col-span-3 ml-3 text-center",children:e.jsxs(Q,{children:[e.jsx(R,{asChild:!0,children:e.jsx("span",{onClick:()=>{event.preventDefault()},className:"inline-block border border-grey rounded pl-4 pb-1 pr-4 text-lg",children:e.jsx(y,{children:"Edit spread"})})}),e.jsxs(W,{children:[e.jsx(y,{children:"Provide a new spread percent"}),e.jsx(u,{placeholder:B,className:"mb-2 mt-1",onChange:s=>{const t=s.target.value,c=/^[0-9]*\.?[0-9]*$/;t&&t.length&&c.test(t)&&t>=1&&t<=100&&(be(t),b(j+1))}})]})]})})]})}),e.jsx(U,{})]})}),e.jsx(f,{control:p.control,name:"osoSize",render:({field:n})=>e.jsxs(N,{className:"mt-4 text-xs",children:[e.jsx(k,{className:"text-sm",children:"Size percent"}),e.jsx(C,{children:"Percentage to sell in the take profit order"}),e.jsx(S,{children:e.jsxs("span",{className:"grid grid-cols-12",children:[e.jsxs("span",{className:"col-span-9",children:[e.jsx(u,{label:"Size percent",placeholder:L,disabled:!0,readOnly:!0}),e.jsx(Qe,{className:"mt-3",defaultValue:[L],max:100,min:0,step:.01,onValueChange:s=>{hs(s[0])}})]}),e.jsx("span",{className:"col-span-3 ml-3 text-center",children:e.jsxs(Q,{children:[e.jsx(R,{asChild:!0,children:e.jsx("span",{onClick:()=>{event.preventDefault()},className:"inline-block border border-grey rounded pl-4 pb-1 pr-4 text-lg",children:e.jsx(y,{children:"Edit size"})})}),e.jsxs(W,{children:[e.jsx(y,{children:"Provide a new size percent"}),e.jsx(u,{placeholder:L,className:"mb-2 mt-1",onChange:s=>{const t=s.target.value,c=/^[0-9]*\.?[0-9]*$/;t&&t.length&&c.test(t)&&t>=0&&t<=100&&(ge(t),b(j+1))}})]})]})})]})}),e.jsx(U,{})]})}),e.jsx(f,{control:p.control,name:"repeatValue",render:({field:n})=>e.jsxs(N,{className:"mt-4 text-xs",children:[e.jsx(k,{className:"text-sm",children:"Set OSO to automatically repeat?"}),e.jsx(C,{children:"Automates repeated OSO based limit orders"}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{id:"terms2",checked:X,onClick:()=>{Fe(!X),b(j+1)}}),e.jsx("label",{htmlFor:"terms2",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:X?"OSO configured to repeat":"OSO configured not to repeat"})]})}),e.jsx(U,{})]})})]}):null,e.jsx(He,{className:"mt-3"}),e.jsx(f,{control:p.control,name:"networkFee",render:({field:n})=>e.jsxs(N,{children:[e.jsx(k,{children:"Network fee"}),e.jsx(S,{children:e.jsx(u,{disabled:!0,placeholder:`${Ae} BTS`,className:"mb-3 mt-3"})}),l.id===l.referrer?e.jsxs(U,{children:["Rebate: ",As(Ae*.8,5)," BTS (vesting)"]}):null,e.jsx(U,{})]})}),e.jsx(I,{className:"mt-5 mb-3",variant:"outline",type:"submit",children:"Submit limit order changes"})]})}),es?e.jsx(Re,{operationName:"limit_order_update",username:l.username,usrChain:l.chain,userID:l.id,dismissCallback:$e,headerText:`Updating the limit order ${d}`,trxJSON:[xs]},`limit_order_update_${d}`):null]})]}),e.jsxs("div",{className:"grid grid-cols-2 mt-3 gap-5",children:[e.jsxs(M,{children:[e.jsxs(V,{className:"pb-0",children:[e.jsxs(z,{children:[i?i.symbol:"?"," (",i?i.id:"?",") balance"]}),e.jsx(H,{children:"Limit order quote asset"})]}),e.jsxs(ne,{children:[ds," ",i?i.symbol:"?"]})]}),e.jsxs(M,{children:[e.jsxs(V,{className:"pb-0",children:[e.jsxs(z,{children:[r?r.symbol:"?"," (",r?r.id:"?",") balance"]}),e.jsx(H,{children:"Limit order base asset"})]}),e.jsxs(ne,{children:[os," ",r?r.symbol:"?"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-1",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx(M,{className:"mb-3",onClick:()=>{De(!0)},children:e.jsxs(V,{children:[e.jsx(z,{children:"Want to cancel this limit order?"}),e.jsxs(H,{children:["Click here to cancel the limit order ",d]})]})}),Ze?e.jsx(Re,{operationName:"limit_order_cancel",username:l.username,usrChain:l.chain,userID:l.id,dismissCallback:De,headerText:`Cancelling the limit order ${d}`,trxJSON:[{fee_paying_account:l.id,order:d,extensions:[]}]},`CancellingLimitOrder_${d}`):null,e.jsx("a",{href:`/dex/index.html?market=${i?i.symbol:"?"}_${r?r.symbol:"?"}`,children:e.jsx(M,{children:e.jsxs(V,{children:[e.jsx(z,{children:"Trade on the DEX instead?"}),e.jsxs(H,{children:["Market: ",i?i.symbol:"?","/",r?r.symbol:"?",e.jsx("br",{}),"Need to create a new limit order?",e.jsx("br",{}),"Or perhaps you seek additional market data?"]})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{className:"pb-0",children:[e.jsx(z,{children:"Need to borrow relevant assets?"}),e.jsxs(H,{children:["Users may offer to lend you ",i?i.symbol:"?"," or"," ",r?r.symbol:"?",".",e.jsx("br",{})]})]}),e.jsxs(ne,{children:[e.jsx(y,{children:"Search by borrowable assets"}),e.jsx("br",{}),e.jsx("a",{href:`/borrow/index.html?tab=searchOffers&searchTab=borrow&searchText=${i?i.symbol:""}`,children:e.jsx(me,{children:i?i.symbol:"?"})}),e.jsx("a",{href:`/borrow/index.html?tab=searchOffers&searchTab=borrow&searchText=${r?r.symbol:""}`,children:e.jsx(me,{className:"ml-2 mt-1 mb-1",children:r?r.symbol:""})}),e.jsx("br",{}),e.jsx(y,{children:"Search by accepted collateral"}),e.jsx("br",{}),e.jsx("a",{href:`/borrow/index.html?tab=searchOffers&searchTab=collateral&searchText=${i?i.symbol:"?"}`,children:e.jsx(me,{children:i?i.symbol:"?"})}),e.jsx("a",{href:`/borrow/index.html?tab=searchOffers&searchTab=collateral&searchText=${r?r.symbol:""}`,children:e.jsx(me,{className:"ml-2 mt-1",children:r?r.symbol:""})})]})]})]})]}),i&&r?e.jsx(Us,{assetA:i.symbol,assetAData:i,assetB:r.symbol,assetBData:r,chain:l.chain}):null,e.jsx("div",{className:"grid grid-cols-1 mt-5",children:l&&l.username&&l.username.length?e.jsx(vs,{usr:l}):null})]})})}export{ct as default};
