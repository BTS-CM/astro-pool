import{O,a7 as B,l as z,V as I,s as J,_ as T,m as M,a2 as V,a3 as q,a8 as K,a5 as U,n as Y,a4 as X,a6 as Q,p as W,o as y,j as f,r as Z,D as ee,z as te,E as oe,F as ne,y as ae,B as re}from"./CurrentUser.1e0e4221.js";import{r as a}from"./index.178a5b5e.js";import{a as ce}from"./index.6e64f2e3.js";import{B as se}from"./badge.7bb8028a.js";const[Ae]=O({fetcher:async(t,n)=>{const e=n.replace("1.3.","2.3."),o=await fetch(`http://localhost:8080/cache/dynamic/${t}/${e}`,{method:"GET"});if(!o.ok){console.log(`Failed to fetch ${e} dynamic data`);return}const r=await o.json();if(r&&r.result)return console.log(`Fetched ${e} dynamic data`),r.result}}),[Ie]=O({fetcher:async(t,n,e,o,r,l)=>{let c;try{c=await fetch(`http://localhost:8080/api/fullSmartcoin/${t}`,{method:"POST",body:JSON.stringify([n,e,o,r,l])})}catch{console.log("Failed to fetch smartcoin data");return}if(!c.ok){console.log("Failed to fetch bitasset data");return}const d=await c.json();if(d&&d.result)return d.result}}),[Me]=O({fetcher:async(t,n)=>{const e=await fetch(`http://localhost:8080/api/getObjects/${t}`,{method:"POST",body:JSON.stringify([n])});if(!e.ok){console.log("Failed to fetch bitasset data");return}const o=await e.json();if(o&&o.result&&o.result.length)return o.result[0]}}),[He]=O({fetcher:async(t,n)=>{const e=await fetch(`http://localhost:8080/cache/asset/${t}/${n}`,{method:"GET"});if(!e.ok){console.log(`Failed to fetch asset: ${n}`);return}const o=await e.json();if(o&&o.result)return console.log("Fetched asset data"),B([o.result]),o.result}}),[P,Fe]=z("Tooltip",[I]),k=I(),le="TooltipProvider",ie=700,_="tooltip.open",[de,j]=P(le),ue=t=>{const{__scopeTooltip:n,delayDuration:e=ie,skipDelayDuration:o=300,disableHoverableContent:r=!1,children:l}=t,[c,d]=a.useState(!0),s=a.useRef(!1),u=a.useRef(0);return a.useEffect(()=>{const i=u.current;return()=>window.clearTimeout(i)},[]),a.createElement(de,{scope:n,isOpenDelayed:c,delayDuration:e,onOpen:a.useCallback(()=>{window.clearTimeout(u.current),d(!1)},[]),onClose:a.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d(!0),o)},[o]),isPointerInTransitRef:s,onPointerInTransitChange:a.useCallback(i=>{s.current=i},[]),disableHoverableContent:r},l)},L="Tooltip",[fe,R]=P(L),pe=t=>{const{__scopeTooltip:n,children:e,open:o,defaultOpen:r=!1,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=t,s=j(L,t.__scopeTooltip),u=k(n),[i,p]=a.useState(null),x=U(),$=a.useRef(0),h=c??s.disableHoverableContent,b=d??s.delayDuration,m=a.useRef(!1),[g=!1,v]=Y({prop:o,defaultProp:r,onChange:S=>{S?(s.onOpen(),document.dispatchEvent(new CustomEvent(_))):s.onClose(),l?.(S)}}),C=a.useMemo(()=>g?m.current?"delayed-open":"instant-open":"closed",[g]),w=a.useCallback(()=>{window.clearTimeout($.current),m.current=!1,v(!0)},[v]),E=a.useCallback(()=>{window.clearTimeout($.current),v(!1)},[v]),N=a.useCallback(()=>{window.clearTimeout($.current),$.current=window.setTimeout(()=>{m.current=!0,v(!0)},b)},[b,v]);return a.useEffect(()=>()=>window.clearTimeout($.current),[]),a.createElement(X,u,a.createElement(fe,{scope:n,contentId:x,open:g,stateAttribute:C,trigger:i,onTriggerChange:p,onTriggerEnter:a.useCallback(()=>{s.isOpenDelayed?N():w()},[s.isOpenDelayed,N,w]),onTriggerLeave:a.useCallback(()=>{h?E():window.clearTimeout($.current)},[E,h]),onOpen:w,onClose:E,disableHoverableContent:h},e))},A="TooltipTrigger",$e=a.forwardRef((t,n)=>{const{__scopeTooltip:e,...o}=t,r=R(A,e),l=j(A,e),c=k(e),d=a.useRef(null),s=M(n,d,r.onTriggerChange),u=a.useRef(!1),i=a.useRef(!1),p=a.useCallback(()=>u.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.createElement(Q,T({asChild:!0},c),a.createElement(W.button,T({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},o,{ref:s,onPointerMove:y(t.onPointerMove,x=>{x.pointerType!=="touch"&&!i.current&&!l.isPointerInTransitRef.current&&(r.onTriggerEnter(),i.current=!0)}),onPointerLeave:y(t.onPointerLeave,()=>{r.onTriggerLeave(),i.current=!1}),onPointerDown:y(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:y(t.onFocus,()=>{u.current||r.onOpen()}),onBlur:y(t.onBlur,r.onClose),onClick:y(t.onClick,r.onClose)})))}),he="TooltipPortal",[Ge,xe]=P(he,{forceMount:void 0}),D="TooltipContent",me=a.forwardRef((t,n)=>{const e=xe(D,t.__scopeTooltip),{forceMount:o=e.forceMount,side:r="top",...l}=t,c=R(D,t.__scopeTooltip);return a.createElement(J,{present:o||c.open},c.disableHoverableContent?a.createElement(H,T({side:r},l,{ref:n})):a.createElement(be,T({side:r},l,{ref:n})))}),be=a.forwardRef((t,n)=>{const e=R(D,t.__scopeTooltip),o=j(D,t.__scopeTooltip),r=a.useRef(null),l=M(n,r),[c,d]=a.useState(null),{trigger:s,onClose:u}=e,i=r.current,{onPointerInTransitChange:p}=o,x=a.useCallback(()=>{d(null),p(!1)},[p]),$=a.useCallback((h,b)=>{const m=h.currentTarget,g={x:h.clientX,y:h.clientY},v=ge(g,m.getBoundingClientRect()),C=ye(g,v),w=Te(b.getBoundingClientRect()),E=we([...C,...w]);d(E),p(!0)},[p]);return a.useEffect(()=>()=>x(),[x]),a.useEffect(()=>{if(s&&i){const h=m=>$(m,i),b=m=>$(m,s);return s.addEventListener("pointerleave",h),i.addEventListener("pointerleave",b),()=>{s.removeEventListener("pointerleave",h),i.removeEventListener("pointerleave",b)}}},[s,i,$,x]),a.useEffect(()=>{if(c){const h=b=>{const m=b.target,g={x:b.clientX,y:b.clientY},v=s?.contains(m)||i?.contains(m),C=!Ce(g,c);v?x():C&&(x(),u())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[s,i,c,u,x]),a.createElement(H,T({},t,{ref:l}))}),[ve,Be]=P(L,{isInside:!1}),H=a.forwardRef((t,n)=>{const{__scopeTooltip:e,children:o,"aria-label":r,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=t,s=R(D,e),u=k(e),{onClose:i}=s;return a.useEffect(()=>(document.addEventListener(_,i),()=>document.removeEventListener(_,i)),[i]),a.useEffect(()=>{if(s.trigger){const p=x=>{const $=x.target;$!=null&&$.contains(s.trigger)&&i()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[s.trigger,i]),a.createElement(V,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:p=>p.preventDefault(),onDismiss:i},a.createElement(q,T({"data-state":s.stateAttribute},u,d,{ref:n,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),a.createElement(K,null,o),a.createElement(ve,{scope:e,isInside:!0},a.createElement(ce,{id:s.contentId,role:"tooltip"},r||o))))});function ge(t,n){const e=Math.abs(n.top-t.y),o=Math.abs(n.bottom-t.y),r=Math.abs(n.right-t.x),l=Math.abs(n.left-t.x);switch(Math.min(e,o,r,l)){case l:return"left";case r:return"right";case e:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function ye(t,n,e=5){const o=[];switch(n){case"top":o.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":o.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":o.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":o.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return o}function Te(t){const{top:n,right:e,bottom:o,left:r}=t;return[{x:r,y:n},{x:e,y:n},{x:e,y:o},{x:r,y:o}]}function Ce(t,n){const{x:e,y:o}=t;let r=!1;for(let l=0,c=n.length-1;l<n.length;c=l++){const d=n[l].x,s=n[l].y,u=n[c].x,i=n[c].y;s>o!=i>o&&e<(u-d)*(o-s)/(i-s)+d&&(r=!r)}return r}function we(t){const n=t.slice();return n.sort((e,o)=>e.x<o.x?-1:e.x>o.x?1:e.y<o.y?-1:e.y>o.y?1:0),Ee(n)}function Ee(t){if(t.length<=1)return t.slice();const n=[];for(let o=0;o<t.length;o++){const r=t[o];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(r.y-c.y)>=(l.y-c.y)*(r.x-c.x))n.pop();else break}n.push(r)}n.pop();const e=[];for(let o=t.length-1;o>=0;o--){const r=t[o];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(r.y-c.y)>=(l.y-c.y)*(r.x-c.x))e.pop();else break}e.push(r)}return e.pop(),n.length===1&&e.length===1&&n[0].x===e[0].x&&n[0].y===e[0].y?n:n.concat(e)}const De=ue,Oe=pe,Pe=$e,F=me,Re=De,_e=Oe,ke=Pe,G=a.forwardRef(({className:t,sideOffset:n=4,...e},o)=>f.jsx(F,{ref:o,sideOffset:n,className:Z("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));G.displayName=F.displayName;function ze(t){const[n,e]=a.useState(!1),[o,r]=a.useState(!1),l=c=>{c.stopPropagation(),n||e(!0)};return f.jsx("div",{className:"col-span-1",children:f.jsxs("div",{className:"grid grid-cols-10",children:[f.jsxs("div",{className:"col-span-4",children:[t.title,":"]}),f.jsx("div",{className:"col-span-5 mr-2",children:f.jsx(se,{variant:"outline",className:"pl-2 pb-1 w-full",children:t.button})}),f.jsx("div",{className:"col-span-1",children:f.jsx(Re,{children:f.jsxs(ee,{open:n,onOpenChange:c=>{e(c),r(!1)},children:[f.jsx(te,{className:"sm:max-w-[400px] bg-white",children:f.jsxs(oe,{children:[f.jsx(ne,{children:t.dialogtitle}),t.dialogdescription]})}),f.jsxs(_e,{children:[f.jsx(ke,{asChild:!0,open:o,onMouseOver:()=>{r(!0)},children:f.jsx(ae,{asChild:!0,children:f.jsx(re,{variant:"outline",size:"icon",className:"h-6 w-6 text-gray-400",onClick:l,children:"?"})})}),o&&f.jsx(G,{children:t.tooltip})]})]})})})]})},`${t.dialogtitle}`)}export{ze as C,Ae as a,Me as b,Ie as c,He as d};
